function of(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(n,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();function iy(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function ay(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var s=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return t[n]}})}),r}var lf={exports:{}},qa={},uf={exports:{}},X={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mi=Symbol.for("react.element"),oy=Symbol.for("react.portal"),ly=Symbol.for("react.fragment"),uy=Symbol.for("react.strict_mode"),cy=Symbol.for("react.profiler"),dy=Symbol.for("react.provider"),hy=Symbol.for("react.context"),fy=Symbol.for("react.forward_ref"),py=Symbol.for("react.suspense"),my=Symbol.for("react.memo"),gy=Symbol.for("react.lazy"),Bc=Symbol.iterator;function yy(t){return t===null||typeof t!="object"?null:(t=Bc&&t[Bc]||t["@@iterator"],typeof t=="function"?t:null)}var cf={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},df=Object.assign,hf={};function ls(t,e,r){this.props=t,this.context=e,this.refs=hf,this.updater=r||cf}ls.prototype.isReactComponent={};ls.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ls.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function ff(){}ff.prototype=ls.prototype;function _u(t,e,r){this.props=t,this.context=e,this.refs=hf,this.updater=r||cf}var bu=_u.prototype=new ff;bu.constructor=_u;df(bu,ls.prototype);bu.isPureReactComponent=!0;var Fc=Array.isArray,pf=Object.prototype.hasOwnProperty,ku={current:null},mf={key:!0,ref:!0,__self:!0,__source:!0};function gf(t,e,r){var n,s={},i=null,a=null;if(e!=null)for(n in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(i=""+e.key),e)pf.call(e,n)&&!mf.hasOwnProperty(n)&&(s[n]=e[n]);var o=arguments.length-2;if(o===1)s.children=r;else if(1<o){for(var u=Array(o),c=0;c<o;c++)u[c]=arguments[c+2];s.children=u}if(t&&t.defaultProps)for(n in o=t.defaultProps,o)s[n]===void 0&&(s[n]=o[n]);return{$$typeof:mi,type:t,key:i,ref:a,props:s,_owner:ku.current}}function vy(t,e){return{$$typeof:mi,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function ju(t){return typeof t=="object"&&t!==null&&t.$$typeof===mi}function xy(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var Vc=/\/+/g;function _o(t,e){return typeof t=="object"&&t!==null&&t.key!=null?xy(""+t.key):e.toString(36)}function Ji(t,e,r,n,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case mi:case oy:a=!0}}if(a)return a=t,s=s(a),t=n===""?"."+_o(a,0):n,Fc(s)?(r="",t!=null&&(r=t.replace(Vc,"$&/")+"/"),Ji(s,e,r,"",function(c){return c})):s!=null&&(ju(s)&&(s=vy(s,r+(!s.key||a&&a.key===s.key?"":(""+s.key).replace(Vc,"$&/")+"/")+t)),e.push(s)),1;if(a=0,n=n===""?".":n+":",Fc(t))for(var o=0;o<t.length;o++){i=t[o];var u=n+_o(i,o);a+=Ji(i,e,r,u,s)}else if(u=yy(t),typeof u=="function")for(t=u.call(t),o=0;!(i=t.next()).done;)i=i.value,u=n+_o(i,o++),a+=Ji(i,e,r,u,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function ji(t,e,r){if(t==null)return t;var n=[],s=0;return Ji(t,n,"","",function(i){return e.call(r,i,s++)}),n}function wy(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var tt={current:null},Qi={transition:null},_y={ReactCurrentDispatcher:tt,ReactCurrentBatchConfig:Qi,ReactCurrentOwner:ku};function yf(){throw Error("act(...) is not supported in production builds of React.")}X.Children={map:ji,forEach:function(t,e,r){ji(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return ji(t,function(){e++}),e},toArray:function(t){return ji(t,function(e){return e})||[]},only:function(t){if(!ju(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};X.Component=ls;X.Fragment=ly;X.Profiler=cy;X.PureComponent=_u;X.StrictMode=uy;X.Suspense=py;X.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=_y;X.act=yf;X.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=df({},t.props),s=t.key,i=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,a=ku.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(u in e)pf.call(e,u)&&!mf.hasOwnProperty(u)&&(n[u]=e[u]===void 0&&o!==void 0?o[u]:e[u])}var u=arguments.length-2;if(u===1)n.children=r;else if(1<u){o=Array(u);for(var c=0;c<u;c++)o[c]=arguments[c+2];n.children=o}return{$$typeof:mi,type:t.type,key:s,ref:i,props:n,_owner:a}};X.createContext=function(t){return t={$$typeof:hy,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:dy,_context:t},t.Consumer=t};X.createElement=gf;X.createFactory=function(t){var e=gf.bind(null,t);return e.type=t,e};X.createRef=function(){return{current:null}};X.forwardRef=function(t){return{$$typeof:fy,render:t}};X.isValidElement=ju;X.lazy=function(t){return{$$typeof:gy,_payload:{_status:-1,_result:t},_init:wy}};X.memo=function(t,e){return{$$typeof:my,type:t,compare:e===void 0?null:e}};X.startTransition=function(t){var e=Qi.transition;Qi.transition={};try{t()}finally{Qi.transition=e}};X.unstable_act=yf;X.useCallback=function(t,e){return tt.current.useCallback(t,e)};X.useContext=function(t){return tt.current.useContext(t)};X.useDebugValue=function(){};X.useDeferredValue=function(t){return tt.current.useDeferredValue(t)};X.useEffect=function(t,e){return tt.current.useEffect(t,e)};X.useId=function(){return tt.current.useId()};X.useImperativeHandle=function(t,e,r){return tt.current.useImperativeHandle(t,e,r)};X.useInsertionEffect=function(t,e){return tt.current.useInsertionEffect(t,e)};X.useLayoutEffect=function(t,e){return tt.current.useLayoutEffect(t,e)};X.useMemo=function(t,e){return tt.current.useMemo(t,e)};X.useReducer=function(t,e,r){return tt.current.useReducer(t,e,r)};X.useRef=function(t){return tt.current.useRef(t)};X.useState=function(t){return tt.current.useState(t)};X.useSyncExternalStore=function(t,e,r){return tt.current.useSyncExternalStore(t,e,r)};X.useTransition=function(){return tt.current.useTransition()};X.version="18.3.1";uf.exports=X;var j=uf.exports;const Qe=iy(j),by=of({__proto__:null,default:Qe},[j]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ky=j,jy=Symbol.for("react.element"),Sy=Symbol.for("react.fragment"),Ey=Object.prototype.hasOwnProperty,Ny=ky.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Cy={key:!0,ref:!0,__self:!0,__source:!0};function vf(t,e,r){var n,s={},i=null,a=null;r!==void 0&&(i=""+r),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(a=e.ref);for(n in e)Ey.call(e,n)&&!Cy.hasOwnProperty(n)&&(s[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)s[n]===void 0&&(s[n]=e[n]);return{$$typeof:jy,type:t,key:i,ref:a,props:s,_owner:Ny.current}}qa.Fragment=Sy;qa.jsx=vf;qa.jsxs=vf;lf.exports=qa;var l=lf.exports,il={},xf={exports:{}},xt={},wf={exports:{}},_f={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(I,H){var J=I.length;I.push(H);e:for(;0<J;){var pe=J-1>>>1,Se=I[pe];if(0<s(Se,H))I[pe]=H,I[J]=Se,J=pe;else break e}}function r(I){return I.length===0?null:I[0]}function n(I){if(I.length===0)return null;var H=I[0],J=I.pop();if(J!==H){I[0]=J;e:for(var pe=0,Se=I.length,Hr=Se>>>1;pe<Hr;){var Jt=2*(pe+1)-1,yn=I[Jt],Qt=Jt+1,hr=I[Qt];if(0>s(yn,J))Qt<Se&&0>s(hr,yn)?(I[pe]=hr,I[Qt]=J,pe=Qt):(I[pe]=yn,I[Jt]=J,pe=Jt);else if(Qt<Se&&0>s(hr,J))I[pe]=hr,I[Qt]=J,pe=Qt;else break e}}return H}function s(I,H){var J=I.sortIndex-H.sortIndex;return J!==0?J:I.id-H.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var a=Date,o=a.now();t.unstable_now=function(){return a.now()-o}}var u=[],c=[],d=1,h=null,f=3,p=!1,x=!1,y=!1,w=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(I){for(var H=r(c);H!==null;){if(H.callback===null)n(c);else if(H.startTime<=I)n(c),H.sortIndex=H.expirationTime,e(u,H);else break;H=r(c)}}function b(I){if(y=!1,v(I),!x)if(r(u)!==null)x=!0,$e(E);else{var H=r(c);H!==null&&nt(b,H.startTime-I)}}function E(I,H){x=!1,y&&(y=!1,g(A),A=-1),p=!0;var J=f;try{for(v(H),h=r(u);h!==null&&(!(h.expirationTime>H)||I&&!we());){var pe=h.callback;if(typeof pe=="function"){h.callback=null,f=h.priorityLevel;var Se=pe(h.expirationTime<=H);H=t.unstable_now(),typeof Se=="function"?h.callback=Se:h===r(u)&&n(u),v(H)}else n(u);h=r(u)}if(h!==null)var Hr=!0;else{var Jt=r(c);Jt!==null&&nt(b,Jt.startTime-H),Hr=!1}return Hr}finally{h=null,f=J,p=!1}}var T=!1,N=null,A=-1,Z=5,G=-1;function we(){return!(t.unstable_now()-G<Z)}function Q(){if(N!==null){var I=t.unstable_now();G=I;var H=!0;try{H=N(!0,I)}finally{H?ee():(T=!1,N=null)}}else T=!1}var ee;if(typeof m=="function")ee=function(){m(Q)};else if(typeof MessageChannel<"u"){var fe=new MessageChannel,Be=fe.port2;fe.port1.onmessage=Q,ee=function(){Be.postMessage(null)}}else ee=function(){w(Q,0)};function $e(I){N=I,T||(T=!0,ee())}function nt(I,H){A=w(function(){I(t.unstable_now())},H)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(I){I.callback=null},t.unstable_continueExecution=function(){x||p||(x=!0,$e(E))},t.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Z=0<I?Math.floor(1e3/I):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(u)},t.unstable_next=function(I){switch(f){case 1:case 2:case 3:var H=3;break;default:H=f}var J=f;f=H;try{return I()}finally{f=J}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(I,H){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var J=f;f=I;try{return H()}finally{f=J}},t.unstable_scheduleCallback=function(I,H,J){var pe=t.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?pe+J:pe):J=pe,I){case 1:var Se=-1;break;case 2:Se=250;break;case 5:Se=1073741823;break;case 4:Se=1e4;break;default:Se=5e3}return Se=J+Se,I={id:d++,callback:H,priorityLevel:I,startTime:J,expirationTime:Se,sortIndex:-1},J>pe?(I.sortIndex=J,e(c,I),r(u)===null&&I===r(c)&&(y?(g(A),A=-1):y=!0,nt(b,J-pe))):(I.sortIndex=Se,e(u,I),x||p||(x=!0,$e(E))),I},t.unstable_shouldYield=we,t.unstable_wrapCallback=function(I){var H=f;return function(){var J=f;f=H;try{return I.apply(this,arguments)}finally{f=J}}}})(_f);wf.exports=_f;var Ty=wf.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Py=j,yt=Ty;function C(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var bf=new Set,Hs={};function pn(t,e){Gn(t,e),Gn(t+"Capture",e)}function Gn(t,e){for(Hs[t]=e,t=0;t<e.length;t++)bf.add(e[t])}var ir=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),al=Object.prototype.hasOwnProperty,Oy=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,zc={},Wc={};function Ry(t){return al.call(Wc,t)?!0:al.call(zc,t)?!1:Oy.test(t)?Wc[t]=!0:(zc[t]=!0,!1)}function Ay(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Iy(t,e,r,n){if(e===null||typeof e>"u"||Ay(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function rt(t,e,r,n,s,i,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=a}var We={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){We[t]=new rt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];We[e]=new rt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){We[t]=new rt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){We[t]=new rt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){We[t]=new rt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){We[t]=new rt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){We[t]=new rt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){We[t]=new rt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){We[t]=new rt(t,5,!1,t.toLowerCase(),null,!1,!1)});var Su=/[\-:]([a-z])/g;function Eu(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Su,Eu);We[e]=new rt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Su,Eu);We[e]=new rt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Su,Eu);We[e]=new rt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){We[t]=new rt(t,1,!1,t.toLowerCase(),null,!1,!1)});We.xlinkHref=new rt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){We[t]=new rt(t,1,!1,t.toLowerCase(),null,!0,!0)});function Nu(t,e,r,n){var s=We.hasOwnProperty(e)?We[e]:null;(s!==null?s.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Iy(e,r,s,n)&&(r=null),n||s===null?Ry(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):s.mustUseProperty?t[s.propertyName]=r===null?s.type===3?!1:"":r:(e=s.attributeName,n=s.attributeNamespace,r===null?t.removeAttribute(e):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var cr=Py.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Si=Symbol.for("react.element"),Tn=Symbol.for("react.portal"),Pn=Symbol.for("react.fragment"),Cu=Symbol.for("react.strict_mode"),ol=Symbol.for("react.profiler"),kf=Symbol.for("react.provider"),jf=Symbol.for("react.context"),Tu=Symbol.for("react.forward_ref"),ll=Symbol.for("react.suspense"),ul=Symbol.for("react.suspense_list"),Pu=Symbol.for("react.memo"),gr=Symbol.for("react.lazy"),Sf=Symbol.for("react.offscreen"),Hc=Symbol.iterator;function gs(t){return t===null||typeof t!="object"?null:(t=Hc&&t[Hc]||t["@@iterator"],typeof t=="function"?t:null)}var xe=Object.assign,bo;function Ss(t){if(bo===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);bo=e&&e[1]||""}return`
`+bo+t}var ko=!1;function jo(t,e){if(!t||ko)return"";ko=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var n=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){n=c}t.call(e.prototype)}else{try{throw Error()}catch(c){n=c}t()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=n.stack.split(`
`),a=s.length-1,o=i.length-1;1<=a&&0<=o&&s[a]!==i[o];)o--;for(;1<=a&&0<=o;a--,o--)if(s[a]!==i[o]){if(a!==1||o!==1)do if(a--,o--,0>o||s[a]!==i[o]){var u=`
`+s[a].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=a&&0<=o);break}}}finally{ko=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?Ss(t):""}function Ly(t){switch(t.tag){case 5:return Ss(t.type);case 16:return Ss("Lazy");case 13:return Ss("Suspense");case 19:return Ss("SuspenseList");case 0:case 2:case 15:return t=jo(t.type,!1),t;case 11:return t=jo(t.type.render,!1),t;case 1:return t=jo(t.type,!0),t;default:return""}}function cl(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Pn:return"Fragment";case Tn:return"Portal";case ol:return"Profiler";case Cu:return"StrictMode";case ll:return"Suspense";case ul:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case jf:return(t.displayName||"Context")+".Consumer";case kf:return(t._context.displayName||"Context")+".Provider";case Tu:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Pu:return e=t.displayName||null,e!==null?e:cl(t.type)||"Memo";case gr:e=t._payload,t=t._init;try{return cl(t(e))}catch{}}return null}function $y(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return cl(e);case 8:return e===Cu?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Dr(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Ef(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Dy(t){var e=Ef(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(a){n=""+a,i.call(this,a)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Ei(t){t._valueTracker||(t._valueTracker=Dy(t))}function Nf(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=Ef(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function la(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function dl(t,e){var r=e.checked;return xe({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function qc(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=Dr(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Cf(t,e){e=e.checked,e!=null&&Nu(t,"checked",e,!1)}function hl(t,e){Cf(t,e);var r=Dr(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?fl(t,e.type,r):e.hasOwnProperty("defaultValue")&&fl(t,e.type,Dr(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Kc(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function fl(t,e,r){(e!=="number"||la(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var Es=Array.isArray;function Fn(t,e,r,n){if(t=t.options,e){e={};for(var s=0;s<r.length;s++)e["$"+r[s]]=!0;for(r=0;r<t.length;r++)s=e.hasOwnProperty("$"+t[r].value),t[r].selected!==s&&(t[r].selected=s),s&&n&&(t[r].defaultSelected=!0)}else{for(r=""+Dr(r),e=null,s=0;s<t.length;s++){if(t[s].value===r){t[s].selected=!0,n&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function pl(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(C(91));return xe({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Zc(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(C(92));if(Es(r)){if(1<r.length)throw Error(C(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:Dr(r)}}function Tf(t,e){var r=Dr(e.value),n=Dr(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function Gc(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Pf(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ml(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Pf(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Ni,Of=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,s){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Ni=Ni||document.createElement("div"),Ni.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Ni.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function qs(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var Rs={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Uy=["Webkit","ms","Moz","O"];Object.keys(Rs).forEach(function(t){Uy.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Rs[e]=Rs[t]})});function Rf(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||Rs.hasOwnProperty(t)&&Rs[t]?(""+e).trim():e+"px"}function Af(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=Rf(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,s):t[r]=s}}var My=xe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function gl(t,e){if(e){if(My[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(C(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(C(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(C(61))}if(e.style!=null&&typeof e.style!="object")throw Error(C(62))}}function yl(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var vl=null;function Ou(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var xl=null,Vn=null,zn=null;function Jc(t){if(t=vi(t)){if(typeof xl!="function")throw Error(C(280));var e=t.stateNode;e&&(e=Qa(e),xl(t.stateNode,t.type,e))}}function If(t){Vn?zn?zn.push(t):zn=[t]:Vn=t}function Lf(){if(Vn){var t=Vn,e=zn;if(zn=Vn=null,Jc(t),e)for(t=0;t<e.length;t++)Jc(e[t])}}function $f(t,e){return t(e)}function Df(){}var So=!1;function Uf(t,e,r){if(So)return t(e,r);So=!0;try{return $f(t,e,r)}finally{So=!1,(Vn!==null||zn!==null)&&(Df(),Lf())}}function Ks(t,e){var r=t.stateNode;if(r===null)return null;var n=Qa(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(C(231,e,typeof r));return r}var wl=!1;if(ir)try{var ys={};Object.defineProperty(ys,"passive",{get:function(){wl=!0}}),window.addEventListener("test",ys,ys),window.removeEventListener("test",ys,ys)}catch{wl=!1}function By(t,e,r,n,s,i,a,o,u){var c=Array.prototype.slice.call(arguments,3);try{e.apply(r,c)}catch(d){this.onError(d)}}var As=!1,ua=null,ca=!1,_l=null,Fy={onError:function(t){As=!0,ua=t}};function Vy(t,e,r,n,s,i,a,o,u){As=!1,ua=null,By.apply(Fy,arguments)}function zy(t,e,r,n,s,i,a,o,u){if(Vy.apply(this,arguments),As){if(As){var c=ua;As=!1,ua=null}else throw Error(C(198));ca||(ca=!0,_l=c)}}function mn(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function Mf(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Qc(t){if(mn(t)!==t)throw Error(C(188))}function Wy(t){var e=t.alternate;if(!e){if(e=mn(t),e===null)throw Error(C(188));return e!==t?null:t}for(var r=t,n=e;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return Qc(s),t;if(i===n)return Qc(s),e;i=i.sibling}throw Error(C(188))}if(r.return!==n.return)r=s,n=i;else{for(var a=!1,o=s.child;o;){if(o===r){a=!0,r=s,n=i;break}if(o===n){a=!0,n=s,r=i;break}o=o.sibling}if(!a){for(o=i.child;o;){if(o===r){a=!0,r=i,n=s;break}if(o===n){a=!0,n=i,r=s;break}o=o.sibling}if(!a)throw Error(C(189))}}if(r.alternate!==n)throw Error(C(190))}if(r.tag!==3)throw Error(C(188));return r.stateNode.current===r?t:e}function Bf(t){return t=Wy(t),t!==null?Ff(t):null}function Ff(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Ff(t);if(e!==null)return e;t=t.sibling}return null}var Vf=yt.unstable_scheduleCallback,Yc=yt.unstable_cancelCallback,Hy=yt.unstable_shouldYield,qy=yt.unstable_requestPaint,ke=yt.unstable_now,Ky=yt.unstable_getCurrentPriorityLevel,Ru=yt.unstable_ImmediatePriority,zf=yt.unstable_UserBlockingPriority,da=yt.unstable_NormalPriority,Zy=yt.unstable_LowPriority,Wf=yt.unstable_IdlePriority,Ka=null,qt=null;function Gy(t){if(qt&&typeof qt.onCommitFiberRoot=="function")try{qt.onCommitFiberRoot(Ka,t,void 0,(t.current.flags&128)===128)}catch{}}var Mt=Math.clz32?Math.clz32:Yy,Jy=Math.log,Qy=Math.LN2;function Yy(t){return t>>>=0,t===0?32:31-(Jy(t)/Qy|0)|0}var Ci=64,Ti=4194304;function Ns(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function ha(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,s=t.suspendedLanes,i=t.pingedLanes,a=r&268435455;if(a!==0){var o=a&~s;o!==0?n=Ns(o):(i&=a,i!==0&&(n=Ns(i)))}else a=r&~s,a!==0?n=Ns(a):i!==0&&(n=Ns(i));if(n===0)return 0;if(e!==0&&e!==n&&!(e&s)&&(s=n&-n,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-Mt(e),s=1<<r,n|=t[r],e&=~s;return n}function Xy(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ev(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var a=31-Mt(i),o=1<<a,u=s[a];u===-1?(!(o&r)||o&n)&&(s[a]=Xy(o,e)):u<=e&&(t.expiredLanes|=o),i&=~o}}function bl(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Hf(){var t=Ci;return Ci<<=1,!(Ci&4194240)&&(Ci=64),t}function Eo(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function gi(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Mt(e),t[e]=r}function tv(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var s=31-Mt(r),i=1<<s;e[s]=0,n[s]=-1,t[s]=-1,r&=~i}}function Au(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-Mt(r),s=1<<n;s&e|t[n]&e&&(t[n]|=e),r&=~s}}var ie=0;function qf(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Kf,Iu,Zf,Gf,Jf,kl=!1,Pi=[],Nr=null,Cr=null,Tr=null,Zs=new Map,Gs=new Map,xr=[],rv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Xc(t,e){switch(t){case"focusin":case"focusout":Nr=null;break;case"dragenter":case"dragleave":Cr=null;break;case"mouseover":case"mouseout":Tr=null;break;case"pointerover":case"pointerout":Zs.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Gs.delete(e.pointerId)}}function vs(t,e,r,n,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},e!==null&&(e=vi(e),e!==null&&Iu(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function nv(t,e,r,n,s){switch(e){case"focusin":return Nr=vs(Nr,t,e,r,n,s),!0;case"dragenter":return Cr=vs(Cr,t,e,r,n,s),!0;case"mouseover":return Tr=vs(Tr,t,e,r,n,s),!0;case"pointerover":var i=s.pointerId;return Zs.set(i,vs(Zs.get(i)||null,t,e,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,Gs.set(i,vs(Gs.get(i)||null,t,e,r,n,s)),!0}return!1}function Qf(t){var e=en(t.target);if(e!==null){var r=mn(e);if(r!==null){if(e=r.tag,e===13){if(e=Mf(r),e!==null){t.blockedOn=e,Jf(t.priority,function(){Zf(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Yi(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=jl(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);vl=n,r.target.dispatchEvent(n),vl=null}else return e=vi(r),e!==null&&Iu(e),t.blockedOn=r,!1;e.shift()}return!0}function ed(t,e,r){Yi(t)&&r.delete(e)}function sv(){kl=!1,Nr!==null&&Yi(Nr)&&(Nr=null),Cr!==null&&Yi(Cr)&&(Cr=null),Tr!==null&&Yi(Tr)&&(Tr=null),Zs.forEach(ed),Gs.forEach(ed)}function xs(t,e){t.blockedOn===e&&(t.blockedOn=null,kl||(kl=!0,yt.unstable_scheduleCallback(yt.unstable_NormalPriority,sv)))}function Js(t){function e(s){return xs(s,t)}if(0<Pi.length){xs(Pi[0],t);for(var r=1;r<Pi.length;r++){var n=Pi[r];n.blockedOn===t&&(n.blockedOn=null)}}for(Nr!==null&&xs(Nr,t),Cr!==null&&xs(Cr,t),Tr!==null&&xs(Tr,t),Zs.forEach(e),Gs.forEach(e),r=0;r<xr.length;r++)n=xr[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<xr.length&&(r=xr[0],r.blockedOn===null);)Qf(r),r.blockedOn===null&&xr.shift()}var Wn=cr.ReactCurrentBatchConfig,fa=!0;function iv(t,e,r,n){var s=ie,i=Wn.transition;Wn.transition=null;try{ie=1,Lu(t,e,r,n)}finally{ie=s,Wn.transition=i}}function av(t,e,r,n){var s=ie,i=Wn.transition;Wn.transition=null;try{ie=4,Lu(t,e,r,n)}finally{ie=s,Wn.transition=i}}function Lu(t,e,r,n){if(fa){var s=jl(t,e,r,n);if(s===null)$o(t,e,n,pa,r),Xc(t,n);else if(nv(s,t,e,r,n))n.stopPropagation();else if(Xc(t,n),e&4&&-1<rv.indexOf(t)){for(;s!==null;){var i=vi(s);if(i!==null&&Kf(i),i=jl(t,e,r,n),i===null&&$o(t,e,n,pa,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else $o(t,e,n,null,r)}}var pa=null;function jl(t,e,r,n){if(pa=null,t=Ou(n),t=en(t),t!==null)if(e=mn(t),e===null)t=null;else if(r=e.tag,r===13){if(t=Mf(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return pa=t,null}function Yf(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ky()){case Ru:return 1;case zf:return 4;case da:case Zy:return 16;case Wf:return 536870912;default:return 16}default:return 16}}var kr=null,$u=null,Xi=null;function Xf(){if(Xi)return Xi;var t,e=$u,r=e.length,n,s="value"in kr?kr.value:kr.textContent,i=s.length;for(t=0;t<r&&e[t]===s[t];t++);var a=r-t;for(n=1;n<=a&&e[r-n]===s[i-n];n++);return Xi=s.slice(t,1<n?1-n:void 0)}function ea(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Oi(){return!0}function td(){return!1}function wt(t){function e(r,n,s,i,a){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(r=t[o],this[o]=r?r(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Oi:td,this.isPropagationStopped=td,this}return xe(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Oi)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Oi)},persist:function(){},isPersistent:Oi}),e}var us={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Du=wt(us),yi=xe({},us,{view:0,detail:0}),ov=wt(yi),No,Co,ws,Za=xe({},yi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Uu,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ws&&(ws&&t.type==="mousemove"?(No=t.screenX-ws.screenX,Co=t.screenY-ws.screenY):Co=No=0,ws=t),No)},movementY:function(t){return"movementY"in t?t.movementY:Co}}),rd=wt(Za),lv=xe({},Za,{dataTransfer:0}),uv=wt(lv),cv=xe({},yi,{relatedTarget:0}),To=wt(cv),dv=xe({},us,{animationName:0,elapsedTime:0,pseudoElement:0}),hv=wt(dv),fv=xe({},us,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),pv=wt(fv),mv=xe({},us,{data:0}),nd=wt(mv),gv={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},yv={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},vv={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xv(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=vv[t])?!!e[t]:!1}function Uu(){return xv}var wv=xe({},yi,{key:function(t){if(t.key){var e=gv[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=ea(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?yv[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Uu,charCode:function(t){return t.type==="keypress"?ea(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ea(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),_v=wt(wv),bv=xe({},Za,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),sd=wt(bv),kv=xe({},yi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Uu}),jv=wt(kv),Sv=xe({},us,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ev=wt(Sv),Nv=xe({},Za,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Cv=wt(Nv),Tv=[9,13,27,32],Mu=ir&&"CompositionEvent"in window,Is=null;ir&&"documentMode"in document&&(Is=document.documentMode);var Pv=ir&&"TextEvent"in window&&!Is,ep=ir&&(!Mu||Is&&8<Is&&11>=Is),id=" ",ad=!1;function tp(t,e){switch(t){case"keyup":return Tv.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function rp(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var On=!1;function Ov(t,e){switch(t){case"compositionend":return rp(e);case"keypress":return e.which!==32?null:(ad=!0,id);case"textInput":return t=e.data,t===id&&ad?null:t;default:return null}}function Rv(t,e){if(On)return t==="compositionend"||!Mu&&tp(t,e)?(t=Xf(),Xi=$u=kr=null,On=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return ep&&e.locale!=="ko"?null:e.data;default:return null}}var Av={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function od(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Av[t.type]:e==="textarea"}function np(t,e,r,n){If(n),e=ma(e,"onChange"),0<e.length&&(r=new Du("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var Ls=null,Qs=null;function Iv(t){pp(t,0)}function Ga(t){var e=In(t);if(Nf(e))return t}function Lv(t,e){if(t==="change")return e}var sp=!1;if(ir){var Po;if(ir){var Oo="oninput"in document;if(!Oo){var ld=document.createElement("div");ld.setAttribute("oninput","return;"),Oo=typeof ld.oninput=="function"}Po=Oo}else Po=!1;sp=Po&&(!document.documentMode||9<document.documentMode)}function ud(){Ls&&(Ls.detachEvent("onpropertychange",ip),Qs=Ls=null)}function ip(t){if(t.propertyName==="value"&&Ga(Qs)){var e=[];np(e,Qs,t,Ou(t)),Uf(Iv,e)}}function $v(t,e,r){t==="focusin"?(ud(),Ls=e,Qs=r,Ls.attachEvent("onpropertychange",ip)):t==="focusout"&&ud()}function Dv(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ga(Qs)}function Uv(t,e){if(t==="click")return Ga(e)}function Mv(t,e){if(t==="input"||t==="change")return Ga(e)}function Bv(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Ft=typeof Object.is=="function"?Object.is:Bv;function Ys(t,e){if(Ft(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!al.call(e,s)||!Ft(t[s],e[s]))return!1}return!0}function cd(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function dd(t,e){var r=cd(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cd(r)}}function ap(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?ap(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function op(){for(var t=window,e=la();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=la(t.document)}return e}function Bu(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Fv(t){var e=op(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&ap(r.ownerDocument.documentElement,r)){if(n!==null&&Bu(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!t.extend&&i>n&&(s=n,n=i,i=s),s=dd(r,i);var a=dd(r,n);s&&a&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>n?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Vv=ir&&"documentMode"in document&&11>=document.documentMode,Rn=null,Sl=null,$s=null,El=!1;function hd(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;El||Rn==null||Rn!==la(n)||(n=Rn,"selectionStart"in n&&Bu(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),$s&&Ys($s,n)||($s=n,n=ma(Sl,"onSelect"),0<n.length&&(e=new Du("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=Rn)))}function Ri(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var An={animationend:Ri("Animation","AnimationEnd"),animationiteration:Ri("Animation","AnimationIteration"),animationstart:Ri("Animation","AnimationStart"),transitionend:Ri("Transition","TransitionEnd")},Ro={},lp={};ir&&(lp=document.createElement("div").style,"AnimationEvent"in window||(delete An.animationend.animation,delete An.animationiteration.animation,delete An.animationstart.animation),"TransitionEvent"in window||delete An.transitionend.transition);function Ja(t){if(Ro[t])return Ro[t];if(!An[t])return t;var e=An[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in lp)return Ro[t]=e[r];return t}var up=Ja("animationend"),cp=Ja("animationiteration"),dp=Ja("animationstart"),hp=Ja("transitionend"),fp=new Map,fd="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Fr(t,e){fp.set(t,e),pn(e,[t])}for(var Ao=0;Ao<fd.length;Ao++){var Io=fd[Ao],zv=Io.toLowerCase(),Wv=Io[0].toUpperCase()+Io.slice(1);Fr(zv,"on"+Wv)}Fr(up,"onAnimationEnd");Fr(cp,"onAnimationIteration");Fr(dp,"onAnimationStart");Fr("dblclick","onDoubleClick");Fr("focusin","onFocus");Fr("focusout","onBlur");Fr(hp,"onTransitionEnd");Gn("onMouseEnter",["mouseout","mouseover"]);Gn("onMouseLeave",["mouseout","mouseover"]);Gn("onPointerEnter",["pointerout","pointerover"]);Gn("onPointerLeave",["pointerout","pointerover"]);pn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));pn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));pn("onBeforeInput",["compositionend","keypress","textInput","paste"]);pn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));pn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));pn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Cs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Hv=new Set("cancel close invalid load scroll toggle".split(" ").concat(Cs));function pd(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,zy(n,e,void 0,t),t.currentTarget=null}function pp(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],s=n.event;n=n.listeners;e:{var i=void 0;if(e)for(var a=n.length-1;0<=a;a--){var o=n[a],u=o.instance,c=o.currentTarget;if(o=o.listener,u!==i&&s.isPropagationStopped())break e;pd(s,o,c),i=u}else for(a=0;a<n.length;a++){if(o=n[a],u=o.instance,c=o.currentTarget,o=o.listener,u!==i&&s.isPropagationStopped())break e;pd(s,o,c),i=u}}}if(ca)throw t=_l,ca=!1,_l=null,t}function ce(t,e){var r=e[Ol];r===void 0&&(r=e[Ol]=new Set);var n=t+"__bubble";r.has(n)||(mp(e,t,2,!1),r.add(n))}function Lo(t,e,r){var n=0;e&&(n|=4),mp(r,t,n,e)}var Ai="_reactListening"+Math.random().toString(36).slice(2);function Xs(t){if(!t[Ai]){t[Ai]=!0,bf.forEach(function(r){r!=="selectionchange"&&(Hv.has(r)||Lo(r,!1,t),Lo(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Ai]||(e[Ai]=!0,Lo("selectionchange",!1,e))}}function mp(t,e,r,n){switch(Yf(e)){case 1:var s=iv;break;case 4:s=av;break;default:s=Lu}r=s.bind(null,e,r,t),s=void 0,!wl||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),n?s!==void 0?t.addEventListener(e,r,{capture:!0,passive:s}):t.addEventListener(e,r,!0):s!==void 0?t.addEventListener(e,r,{passive:s}):t.addEventListener(e,r,!1)}function $o(t,e,r,n,s){var i=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var a=n.tag;if(a===3||a===4){var o=n.stateNode.containerInfo;if(o===s||o.nodeType===8&&o.parentNode===s)break;if(a===4)for(a=n.return;a!==null;){var u=a.tag;if((u===3||u===4)&&(u=a.stateNode.containerInfo,u===s||u.nodeType===8&&u.parentNode===s))return;a=a.return}for(;o!==null;){if(a=en(o),a===null)return;if(u=a.tag,u===5||u===6){n=i=a;continue e}o=o.parentNode}}n=n.return}Uf(function(){var c=i,d=Ou(r),h=[];e:{var f=fp.get(t);if(f!==void 0){var p=Du,x=t;switch(t){case"keypress":if(ea(r)===0)break e;case"keydown":case"keyup":p=_v;break;case"focusin":x="focus",p=To;break;case"focusout":x="blur",p=To;break;case"beforeblur":case"afterblur":p=To;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=rd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=uv;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=jv;break;case up:case cp:case dp:p=hv;break;case hp:p=Ev;break;case"scroll":p=ov;break;case"wheel":p=Cv;break;case"copy":case"cut":case"paste":p=pv;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=sd}var y=(e&4)!==0,w=!y&&t==="scroll",g=y?f!==null?f+"Capture":null:f;y=[];for(var m=c,v;m!==null;){v=m;var b=v.stateNode;if(v.tag===5&&b!==null&&(v=b,g!==null&&(b=Ks(m,g),b!=null&&y.push(ei(m,b,v)))),w)break;m=m.return}0<y.length&&(f=new p(f,x,null,r,d),h.push({event:f,listeners:y}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",f&&r!==vl&&(x=r.relatedTarget||r.fromElement)&&(en(x)||x[ar]))break e;if((p||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,p?(x=r.relatedTarget||r.toElement,p=c,x=x?en(x):null,x!==null&&(w=mn(x),x!==w||x.tag!==5&&x.tag!==6)&&(x=null)):(p=null,x=c),p!==x)){if(y=rd,b="onMouseLeave",g="onMouseEnter",m="mouse",(t==="pointerout"||t==="pointerover")&&(y=sd,b="onPointerLeave",g="onPointerEnter",m="pointer"),w=p==null?f:In(p),v=x==null?f:In(x),f=new y(b,m+"leave",p,r,d),f.target=w,f.relatedTarget=v,b=null,en(d)===c&&(y=new y(g,m+"enter",x,r,d),y.target=v,y.relatedTarget=w,b=y),w=b,p&&x)t:{for(y=p,g=x,m=0,v=y;v;v=vn(v))m++;for(v=0,b=g;b;b=vn(b))v++;for(;0<m-v;)y=vn(y),m--;for(;0<v-m;)g=vn(g),v--;for(;m--;){if(y===g||g!==null&&y===g.alternate)break t;y=vn(y),g=vn(g)}y=null}else y=null;p!==null&&md(h,f,p,y,!1),x!==null&&w!==null&&md(h,w,x,y,!0)}}e:{if(f=c?In(c):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var E=Lv;else if(od(f))if(sp)E=Mv;else{E=Dv;var T=$v}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(E=Uv);if(E&&(E=E(t,c))){np(h,E,r,d);break e}T&&T(t,f,c),t==="focusout"&&(T=f._wrapperState)&&T.controlled&&f.type==="number"&&fl(f,"number",f.value)}switch(T=c?In(c):window,t){case"focusin":(od(T)||T.contentEditable==="true")&&(Rn=T,Sl=c,$s=null);break;case"focusout":$s=Sl=Rn=null;break;case"mousedown":El=!0;break;case"contextmenu":case"mouseup":case"dragend":El=!1,hd(h,r,d);break;case"selectionchange":if(Vv)break;case"keydown":case"keyup":hd(h,r,d)}var N;if(Mu)e:{switch(t){case"compositionstart":var A="onCompositionStart";break e;case"compositionend":A="onCompositionEnd";break e;case"compositionupdate":A="onCompositionUpdate";break e}A=void 0}else On?tp(t,r)&&(A="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(A="onCompositionStart");A&&(ep&&r.locale!=="ko"&&(On||A!=="onCompositionStart"?A==="onCompositionEnd"&&On&&(N=Xf()):(kr=d,$u="value"in kr?kr.value:kr.textContent,On=!0)),T=ma(c,A),0<T.length&&(A=new nd(A,t,null,r,d),h.push({event:A,listeners:T}),N?A.data=N:(N=rp(r),N!==null&&(A.data=N)))),(N=Pv?Ov(t,r):Rv(t,r))&&(c=ma(c,"onBeforeInput"),0<c.length&&(d=new nd("onBeforeInput","beforeinput",null,r,d),h.push({event:d,listeners:c}),d.data=N))}pp(h,e)})}function ei(t,e,r){return{instance:t,listener:e,currentTarget:r}}function ma(t,e){for(var r=e+"Capture",n=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Ks(t,r),i!=null&&n.unshift(ei(t,i,s)),i=Ks(t,e),i!=null&&n.push(ei(t,i,s))),t=t.return}return n}function vn(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function md(t,e,r,n,s){for(var i=e._reactName,a=[];r!==null&&r!==n;){var o=r,u=o.alternate,c=o.stateNode;if(u!==null&&u===n)break;o.tag===5&&c!==null&&(o=c,s?(u=Ks(r,i),u!=null&&a.unshift(ei(r,u,o))):s||(u=Ks(r,i),u!=null&&a.push(ei(r,u,o)))),r=r.return}a.length!==0&&t.push({event:e,listeners:a})}var qv=/\r\n?/g,Kv=/\u0000|\uFFFD/g;function gd(t){return(typeof t=="string"?t:""+t).replace(qv,`
`).replace(Kv,"")}function Ii(t,e,r){if(e=gd(e),gd(t)!==e&&r)throw Error(C(425))}function ga(){}var Nl=null,Cl=null;function Tl(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Pl=typeof setTimeout=="function"?setTimeout:void 0,Zv=typeof clearTimeout=="function"?clearTimeout:void 0,yd=typeof Promise=="function"?Promise:void 0,Gv=typeof queueMicrotask=="function"?queueMicrotask:typeof yd<"u"?function(t){return yd.resolve(null).then(t).catch(Jv)}:Pl;function Jv(t){setTimeout(function(){throw t})}function Do(t,e){var r=e,n=0;do{var s=r.nextSibling;if(t.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){t.removeChild(s),Js(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);Js(e)}function Pr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function vd(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var cs=Math.random().toString(36).slice(2),Ht="__reactFiber$"+cs,ti="__reactProps$"+cs,ar="__reactContainer$"+cs,Ol="__reactEvents$"+cs,Qv="__reactListeners$"+cs,Yv="__reactHandles$"+cs;function en(t){var e=t[Ht];if(e)return e;for(var r=t.parentNode;r;){if(e=r[ar]||r[Ht]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=vd(t);t!==null;){if(r=t[Ht])return r;t=vd(t)}return e}t=r,r=t.parentNode}return null}function vi(t){return t=t[Ht]||t[ar],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function In(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(C(33))}function Qa(t){return t[ti]||null}var Rl=[],Ln=-1;function Vr(t){return{current:t}}function he(t){0>Ln||(t.current=Rl[Ln],Rl[Ln]=null,Ln--)}function ue(t,e){Ln++,Rl[Ln]=t.current,t.current=e}var Ur={},Ze=Vr(Ur),ot=Vr(!1),ln=Ur;function Jn(t,e){var r=t.type.contextTypes;if(!r)return Ur;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=e[i];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function lt(t){return t=t.childContextTypes,t!=null}function ya(){he(ot),he(Ze)}function xd(t,e,r){if(Ze.current!==Ur)throw Error(C(168));ue(Ze,e),ue(ot,r)}function gp(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in e))throw Error(C(108,$y(t)||"Unknown",s));return xe({},r,n)}function va(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ur,ln=Ze.current,ue(Ze,t),ue(ot,ot.current),!0}function wd(t,e,r){var n=t.stateNode;if(!n)throw Error(C(169));r?(t=gp(t,e,ln),n.__reactInternalMemoizedMergedChildContext=t,he(ot),he(Ze),ue(Ze,t)):he(ot),ue(ot,r)}var tr=null,Ya=!1,Uo=!1;function yp(t){tr===null?tr=[t]:tr.push(t)}function Xv(t){Ya=!0,yp(t)}function zr(){if(!Uo&&tr!==null){Uo=!0;var t=0,e=ie;try{var r=tr;for(ie=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}tr=null,Ya=!1}catch(s){throw tr!==null&&(tr=tr.slice(t+1)),Vf(Ru,zr),s}finally{ie=e,Uo=!1}}return null}var $n=[],Dn=0,xa=null,wa=0,bt=[],kt=0,un=null,rr=1,nr="";function Zr(t,e){$n[Dn++]=wa,$n[Dn++]=xa,xa=t,wa=e}function vp(t,e,r){bt[kt++]=rr,bt[kt++]=nr,bt[kt++]=un,un=t;var n=rr;t=nr;var s=32-Mt(n)-1;n&=~(1<<s),r+=1;var i=32-Mt(e)+s;if(30<i){var a=s-s%5;i=(n&(1<<a)-1).toString(32),n>>=a,s-=a,rr=1<<32-Mt(e)+s|r<<s|n,nr=i+t}else rr=1<<i|r<<s|n,nr=t}function Fu(t){t.return!==null&&(Zr(t,1),vp(t,1,0))}function Vu(t){for(;t===xa;)xa=$n[--Dn],$n[Dn]=null,wa=$n[--Dn],$n[Dn]=null;for(;t===un;)un=bt[--kt],bt[kt]=null,nr=bt[--kt],bt[kt]=null,rr=bt[--kt],bt[kt]=null}var gt=null,mt=null,me=!1,$t=null;function xp(t,e){var r=jt(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function _d(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,gt=t,mt=Pr(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,gt=t,mt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=un!==null?{id:rr,overflow:nr}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=jt(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,gt=t,mt=null,!0):!1;default:return!1}}function Al(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Il(t){if(me){var e=mt;if(e){var r=e;if(!_d(t,e)){if(Al(t))throw Error(C(418));e=Pr(r.nextSibling);var n=gt;e&&_d(t,e)?xp(n,r):(t.flags=t.flags&-4097|2,me=!1,gt=t)}}else{if(Al(t))throw Error(C(418));t.flags=t.flags&-4097|2,me=!1,gt=t}}}function bd(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;gt=t}function Li(t){if(t!==gt)return!1;if(!me)return bd(t),me=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Tl(t.type,t.memoizedProps)),e&&(e=mt)){if(Al(t))throw wp(),Error(C(418));for(;e;)xp(t,e),e=Pr(e.nextSibling)}if(bd(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(C(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){mt=Pr(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}mt=null}}else mt=gt?Pr(t.stateNode.nextSibling):null;return!0}function wp(){for(var t=mt;t;)t=Pr(t.nextSibling)}function Qn(){mt=gt=null,me=!1}function zu(t){$t===null?$t=[t]:$t.push(t)}var e0=cr.ReactCurrentBatchConfig;function _s(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(C(309));var n=r.stateNode}if(!n)throw Error(C(147,t));var s=n,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(a){var o=s.refs;a===null?delete o[i]:o[i]=a},e._stringRef=i,e)}if(typeof t!="string")throw Error(C(284));if(!r._owner)throw Error(C(290,t))}return t}function $i(t,e){throw t=Object.prototype.toString.call(e),Error(C(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function kd(t){var e=t._init;return e(t._payload)}function _p(t){function e(g,m){if(t){var v=g.deletions;v===null?(g.deletions=[m],g.flags|=16):v.push(m)}}function r(g,m){if(!t)return null;for(;m!==null;)e(g,m),m=m.sibling;return null}function n(g,m){for(g=new Map;m!==null;)m.key!==null?g.set(m.key,m):g.set(m.index,m),m=m.sibling;return g}function s(g,m){return g=Ir(g,m),g.index=0,g.sibling=null,g}function i(g,m,v){return g.index=v,t?(v=g.alternate,v!==null?(v=v.index,v<m?(g.flags|=2,m):v):(g.flags|=2,m)):(g.flags|=1048576,m)}function a(g){return t&&g.alternate===null&&(g.flags|=2),g}function o(g,m,v,b){return m===null||m.tag!==6?(m=Ho(v,g.mode,b),m.return=g,m):(m=s(m,v),m.return=g,m)}function u(g,m,v,b){var E=v.type;return E===Pn?d(g,m,v.props.children,b,v.key):m!==null&&(m.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===gr&&kd(E)===m.type)?(b=s(m,v.props),b.ref=_s(g,m,v),b.return=g,b):(b=oa(v.type,v.key,v.props,null,g.mode,b),b.ref=_s(g,m,v),b.return=g,b)}function c(g,m,v,b){return m===null||m.tag!==4||m.stateNode.containerInfo!==v.containerInfo||m.stateNode.implementation!==v.implementation?(m=qo(v,g.mode,b),m.return=g,m):(m=s(m,v.children||[]),m.return=g,m)}function d(g,m,v,b,E){return m===null||m.tag!==7?(m=on(v,g.mode,b,E),m.return=g,m):(m=s(m,v),m.return=g,m)}function h(g,m,v){if(typeof m=="string"&&m!==""||typeof m=="number")return m=Ho(""+m,g.mode,v),m.return=g,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case Si:return v=oa(m.type,m.key,m.props,null,g.mode,v),v.ref=_s(g,null,m),v.return=g,v;case Tn:return m=qo(m,g.mode,v),m.return=g,m;case gr:var b=m._init;return h(g,b(m._payload),v)}if(Es(m)||gs(m))return m=on(m,g.mode,v,null),m.return=g,m;$i(g,m)}return null}function f(g,m,v,b){var E=m!==null?m.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return E!==null?null:o(g,m,""+v,b);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Si:return v.key===E?u(g,m,v,b):null;case Tn:return v.key===E?c(g,m,v,b):null;case gr:return E=v._init,f(g,m,E(v._payload),b)}if(Es(v)||gs(v))return E!==null?null:d(g,m,v,b,null);$i(g,v)}return null}function p(g,m,v,b,E){if(typeof b=="string"&&b!==""||typeof b=="number")return g=g.get(v)||null,o(m,g,""+b,E);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Si:return g=g.get(b.key===null?v:b.key)||null,u(m,g,b,E);case Tn:return g=g.get(b.key===null?v:b.key)||null,c(m,g,b,E);case gr:var T=b._init;return p(g,m,v,T(b._payload),E)}if(Es(b)||gs(b))return g=g.get(v)||null,d(m,g,b,E,null);$i(m,b)}return null}function x(g,m,v,b){for(var E=null,T=null,N=m,A=m=0,Z=null;N!==null&&A<v.length;A++){N.index>A?(Z=N,N=null):Z=N.sibling;var G=f(g,N,v[A],b);if(G===null){N===null&&(N=Z);break}t&&N&&G.alternate===null&&e(g,N),m=i(G,m,A),T===null?E=G:T.sibling=G,T=G,N=Z}if(A===v.length)return r(g,N),me&&Zr(g,A),E;if(N===null){for(;A<v.length;A++)N=h(g,v[A],b),N!==null&&(m=i(N,m,A),T===null?E=N:T.sibling=N,T=N);return me&&Zr(g,A),E}for(N=n(g,N);A<v.length;A++)Z=p(N,g,A,v[A],b),Z!==null&&(t&&Z.alternate!==null&&N.delete(Z.key===null?A:Z.key),m=i(Z,m,A),T===null?E=Z:T.sibling=Z,T=Z);return t&&N.forEach(function(we){return e(g,we)}),me&&Zr(g,A),E}function y(g,m,v,b){var E=gs(v);if(typeof E!="function")throw Error(C(150));if(v=E.call(v),v==null)throw Error(C(151));for(var T=E=null,N=m,A=m=0,Z=null,G=v.next();N!==null&&!G.done;A++,G=v.next()){N.index>A?(Z=N,N=null):Z=N.sibling;var we=f(g,N,G.value,b);if(we===null){N===null&&(N=Z);break}t&&N&&we.alternate===null&&e(g,N),m=i(we,m,A),T===null?E=we:T.sibling=we,T=we,N=Z}if(G.done)return r(g,N),me&&Zr(g,A),E;if(N===null){for(;!G.done;A++,G=v.next())G=h(g,G.value,b),G!==null&&(m=i(G,m,A),T===null?E=G:T.sibling=G,T=G);return me&&Zr(g,A),E}for(N=n(g,N);!G.done;A++,G=v.next())G=p(N,g,A,G.value,b),G!==null&&(t&&G.alternate!==null&&N.delete(G.key===null?A:G.key),m=i(G,m,A),T===null?E=G:T.sibling=G,T=G);return t&&N.forEach(function(Q){return e(g,Q)}),me&&Zr(g,A),E}function w(g,m,v,b){if(typeof v=="object"&&v!==null&&v.type===Pn&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case Si:e:{for(var E=v.key,T=m;T!==null;){if(T.key===E){if(E=v.type,E===Pn){if(T.tag===7){r(g,T.sibling),m=s(T,v.props.children),m.return=g,g=m;break e}}else if(T.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===gr&&kd(E)===T.type){r(g,T.sibling),m=s(T,v.props),m.ref=_s(g,T,v),m.return=g,g=m;break e}r(g,T);break}else e(g,T);T=T.sibling}v.type===Pn?(m=on(v.props.children,g.mode,b,v.key),m.return=g,g=m):(b=oa(v.type,v.key,v.props,null,g.mode,b),b.ref=_s(g,m,v),b.return=g,g=b)}return a(g);case Tn:e:{for(T=v.key;m!==null;){if(m.key===T)if(m.tag===4&&m.stateNode.containerInfo===v.containerInfo&&m.stateNode.implementation===v.implementation){r(g,m.sibling),m=s(m,v.children||[]),m.return=g,g=m;break e}else{r(g,m);break}else e(g,m);m=m.sibling}m=qo(v,g.mode,b),m.return=g,g=m}return a(g);case gr:return T=v._init,w(g,m,T(v._payload),b)}if(Es(v))return x(g,m,v,b);if(gs(v))return y(g,m,v,b);$i(g,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,m!==null&&m.tag===6?(r(g,m.sibling),m=s(m,v),m.return=g,g=m):(r(g,m),m=Ho(v,g.mode,b),m.return=g,g=m),a(g)):r(g,m)}return w}var Yn=_p(!0),bp=_p(!1),_a=Vr(null),ba=null,Un=null,Wu=null;function Hu(){Wu=Un=ba=null}function qu(t){var e=_a.current;he(_a),t._currentValue=e}function Ll(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function Hn(t,e){ba=t,Wu=Un=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(at=!0),t.firstContext=null)}function Et(t){var e=t._currentValue;if(Wu!==t)if(t={context:t,memoizedValue:e,next:null},Un===null){if(ba===null)throw Error(C(308));Un=t,ba.dependencies={lanes:0,firstContext:t}}else Un=Un.next=t;return e}var tn=null;function Ku(t){tn===null?tn=[t]:tn.push(t)}function kp(t,e,r,n){var s=e.interleaved;return s===null?(r.next=r,Ku(e)):(r.next=s.next,s.next=r),e.interleaved=r,or(t,n)}function or(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var yr=!1;function Zu(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function jp(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function sr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Or(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,te&2){var s=n.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),n.pending=e,or(t,r)}return s=n.interleaved,s===null?(e.next=e,Ku(n)):(e.next=s.next,s.next=e),n.interleaved=e,or(t,r)}function ta(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,Au(t,r)}}function jd(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=a:i=i.next=a,r=r.next}while(r!==null);i===null?s=i=e:i=i.next=e}else s=i=e;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function ka(t,e,r,n){var s=t.updateQueue;yr=!1;var i=s.firstBaseUpdate,a=s.lastBaseUpdate,o=s.shared.pending;if(o!==null){s.shared.pending=null;var u=o,c=u.next;u.next=null,a===null?i=c:a.next=c,a=u;var d=t.alternate;d!==null&&(d=d.updateQueue,o=d.lastBaseUpdate,o!==a&&(o===null?d.firstBaseUpdate=c:o.next=c,d.lastBaseUpdate=u))}if(i!==null){var h=s.baseState;a=0,d=c=u=null,o=i;do{var f=o.lane,p=o.eventTime;if((n&f)===f){d!==null&&(d=d.next={eventTime:p,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var x=t,y=o;switch(f=e,p=r,y.tag){case 1:if(x=y.payload,typeof x=="function"){h=x.call(p,h,f);break e}h=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=y.payload,f=typeof x=="function"?x.call(p,h,f):x,f==null)break e;h=xe({},h,f);break e;case 2:yr=!0}}o.callback!==null&&o.lane!==0&&(t.flags|=64,f=s.effects,f===null?s.effects=[o]:f.push(o))}else p={eventTime:p,lane:f,tag:o.tag,payload:o.payload,callback:o.callback,next:null},d===null?(c=d=p,u=h):d=d.next=p,a|=f;if(o=o.next,o===null){if(o=s.shared.pending,o===null)break;f=o,o=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(d===null&&(u=h),s.baseState=u,s.firstBaseUpdate=c,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do a|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);dn|=a,t.lanes=a,t.memoizedState=h}}function Sd(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(C(191,s));s.call(n)}}}var xi={},Kt=Vr(xi),ri=Vr(xi),ni=Vr(xi);function rn(t){if(t===xi)throw Error(C(174));return t}function Gu(t,e){switch(ue(ni,e),ue(ri,t),ue(Kt,xi),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:ml(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=ml(e,t)}he(Kt),ue(Kt,e)}function Xn(){he(Kt),he(ri),he(ni)}function Sp(t){rn(ni.current);var e=rn(Kt.current),r=ml(e,t.type);e!==r&&(ue(ri,t),ue(Kt,r))}function Ju(t){ri.current===t&&(he(Kt),he(ri))}var ye=Vr(0);function ja(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Mo=[];function Qu(){for(var t=0;t<Mo.length;t++)Mo[t]._workInProgressVersionPrimary=null;Mo.length=0}var ra=cr.ReactCurrentDispatcher,Bo=cr.ReactCurrentBatchConfig,cn=0,ve=null,Ae=null,Ue=null,Sa=!1,Ds=!1,si=0,t0=0;function He(){throw Error(C(321))}function Yu(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!Ft(t[r],e[r]))return!1;return!0}function Xu(t,e,r,n,s,i){if(cn=i,ve=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,ra.current=t===null||t.memoizedState===null?i0:a0,t=r(n,s),Ds){i=0;do{if(Ds=!1,si=0,25<=i)throw Error(C(301));i+=1,Ue=Ae=null,e.updateQueue=null,ra.current=o0,t=r(n,s)}while(Ds)}if(ra.current=Ea,e=Ae!==null&&Ae.next!==null,cn=0,Ue=Ae=ve=null,Sa=!1,e)throw Error(C(300));return t}function ec(){var t=si!==0;return si=0,t}function zt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ue===null?ve.memoizedState=Ue=t:Ue=Ue.next=t,Ue}function Nt(){if(Ae===null){var t=ve.alternate;t=t!==null?t.memoizedState:null}else t=Ae.next;var e=Ue===null?ve.memoizedState:Ue.next;if(e!==null)Ue=e,Ae=t;else{if(t===null)throw Error(C(310));Ae=t,t={memoizedState:Ae.memoizedState,baseState:Ae.baseState,baseQueue:Ae.baseQueue,queue:Ae.queue,next:null},Ue===null?ve.memoizedState=Ue=t:Ue=Ue.next=t}return Ue}function ii(t,e){return typeof e=="function"?e(t):e}function Fo(t){var e=Nt(),r=e.queue;if(r===null)throw Error(C(311));r.lastRenderedReducer=t;var n=Ae,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var a=s.next;s.next=i.next,i.next=a}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var o=a=null,u=null,c=i;do{var d=c.lane;if((cn&d)===d)u!==null&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:t(n,c.action);else{var h={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};u===null?(o=u=h,a=n):u=u.next=h,ve.lanes|=d,dn|=d}c=c.next}while(c!==null&&c!==i);u===null?a=n:u.next=o,Ft(n,e.memoizedState)||(at=!0),e.memoizedState=n,e.baseState=a,e.baseQueue=u,r.lastRenderedState=n}if(t=r.interleaved,t!==null){s=t;do i=s.lane,ve.lanes|=i,dn|=i,s=s.next;while(s!==t)}else s===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function Vo(t){var e=Nt(),r=e.queue;if(r===null)throw Error(C(311));r.lastRenderedReducer=t;var n=r.dispatch,s=r.pending,i=e.memoizedState;if(s!==null){r.pending=null;var a=s=s.next;do i=t(i,a.action),a=a.next;while(a!==s);Ft(i,e.memoizedState)||(at=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),r.lastRenderedState=i}return[i,n]}function Ep(){}function Np(t,e){var r=ve,n=Nt(),s=e(),i=!Ft(n.memoizedState,s);if(i&&(n.memoizedState=s,at=!0),n=n.queue,tc(Pp.bind(null,r,n,t),[t]),n.getSnapshot!==e||i||Ue!==null&&Ue.memoizedState.tag&1){if(r.flags|=2048,ai(9,Tp.bind(null,r,n,s,e),void 0,null),Me===null)throw Error(C(349));cn&30||Cp(r,e,s)}return s}function Cp(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=ve.updateQueue,e===null?(e={lastEffect:null,stores:null},ve.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function Tp(t,e,r,n){e.value=r,e.getSnapshot=n,Op(e)&&Rp(t)}function Pp(t,e,r){return r(function(){Op(e)&&Rp(t)})}function Op(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!Ft(t,r)}catch{return!0}}function Rp(t){var e=or(t,1);e!==null&&Bt(e,t,1,-1)}function Ed(t){var e=zt();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ii,lastRenderedState:t},e.queue=t,t=t.dispatch=s0.bind(null,ve,t),[e.memoizedState,t]}function ai(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=ve.updateQueue,e===null?(e={lastEffect:null,stores:null},ve.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function Ap(){return Nt().memoizedState}function na(t,e,r,n){var s=zt();ve.flags|=t,s.memoizedState=ai(1|e,r,void 0,n===void 0?null:n)}function Xa(t,e,r,n){var s=Nt();n=n===void 0?null:n;var i=void 0;if(Ae!==null){var a=Ae.memoizedState;if(i=a.destroy,n!==null&&Yu(n,a.deps)){s.memoizedState=ai(e,r,i,n);return}}ve.flags|=t,s.memoizedState=ai(1|e,r,i,n)}function Nd(t,e){return na(8390656,8,t,e)}function tc(t,e){return Xa(2048,8,t,e)}function Ip(t,e){return Xa(4,2,t,e)}function Lp(t,e){return Xa(4,4,t,e)}function $p(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Dp(t,e,r){return r=r!=null?r.concat([t]):null,Xa(4,4,$p.bind(null,e,t),r)}function rc(){}function Up(t,e){var r=Nt();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&Yu(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function Mp(t,e){var r=Nt();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&Yu(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function Bp(t,e,r){return cn&21?(Ft(r,e)||(r=Hf(),ve.lanes|=r,dn|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,at=!0),t.memoizedState=r)}function r0(t,e){var r=ie;ie=r!==0&&4>r?r:4,t(!0);var n=Bo.transition;Bo.transition={};try{t(!1),e()}finally{ie=r,Bo.transition=n}}function Fp(){return Nt().memoizedState}function n0(t,e,r){var n=Ar(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Vp(t))zp(e,r);else if(r=kp(t,e,r,n),r!==null){var s=et();Bt(r,t,n,s),Wp(r,e,n)}}function s0(t,e,r){var n=Ar(t),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Vp(t))zp(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var a=e.lastRenderedState,o=i(a,r);if(s.hasEagerState=!0,s.eagerState=o,Ft(o,a)){var u=e.interleaved;u===null?(s.next=s,Ku(e)):(s.next=u.next,u.next=s),e.interleaved=s;return}}catch{}finally{}r=kp(t,e,s,n),r!==null&&(s=et(),Bt(r,t,n,s),Wp(r,e,n))}}function Vp(t){var e=t.alternate;return t===ve||e!==null&&e===ve}function zp(t,e){Ds=Sa=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function Wp(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,Au(t,r)}}var Ea={readContext:Et,useCallback:He,useContext:He,useEffect:He,useImperativeHandle:He,useInsertionEffect:He,useLayoutEffect:He,useMemo:He,useReducer:He,useRef:He,useState:He,useDebugValue:He,useDeferredValue:He,useTransition:He,useMutableSource:He,useSyncExternalStore:He,useId:He,unstable_isNewReconciler:!1},i0={readContext:Et,useCallback:function(t,e){return zt().memoizedState=[t,e===void 0?null:e],t},useContext:Et,useEffect:Nd,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,na(4194308,4,$p.bind(null,e,t),r)},useLayoutEffect:function(t,e){return na(4194308,4,t,e)},useInsertionEffect:function(t,e){return na(4,2,t,e)},useMemo:function(t,e){var r=zt();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=zt();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=n0.bind(null,ve,t),[n.memoizedState,t]},useRef:function(t){var e=zt();return t={current:t},e.memoizedState=t},useState:Ed,useDebugValue:rc,useDeferredValue:function(t){return zt().memoizedState=t},useTransition:function(){var t=Ed(!1),e=t[0];return t=r0.bind(null,t[1]),zt().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=ve,s=zt();if(me){if(r===void 0)throw Error(C(407));r=r()}else{if(r=e(),Me===null)throw Error(C(349));cn&30||Cp(n,e,r)}s.memoizedState=r;var i={value:r,getSnapshot:e};return s.queue=i,Nd(Pp.bind(null,n,i,t),[t]),n.flags|=2048,ai(9,Tp.bind(null,n,i,r,e),void 0,null),r},useId:function(){var t=zt(),e=Me.identifierPrefix;if(me){var r=nr,n=rr;r=(n&~(1<<32-Mt(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=si++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=t0++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},a0={readContext:Et,useCallback:Up,useContext:Et,useEffect:tc,useImperativeHandle:Dp,useInsertionEffect:Ip,useLayoutEffect:Lp,useMemo:Mp,useReducer:Fo,useRef:Ap,useState:function(){return Fo(ii)},useDebugValue:rc,useDeferredValue:function(t){var e=Nt();return Bp(e,Ae.memoizedState,t)},useTransition:function(){var t=Fo(ii)[0],e=Nt().memoizedState;return[t,e]},useMutableSource:Ep,useSyncExternalStore:Np,useId:Fp,unstable_isNewReconciler:!1},o0={readContext:Et,useCallback:Up,useContext:Et,useEffect:tc,useImperativeHandle:Dp,useInsertionEffect:Ip,useLayoutEffect:Lp,useMemo:Mp,useReducer:Vo,useRef:Ap,useState:function(){return Vo(ii)},useDebugValue:rc,useDeferredValue:function(t){var e=Nt();return Ae===null?e.memoizedState=t:Bp(e,Ae.memoizedState,t)},useTransition:function(){var t=Vo(ii)[0],e=Nt().memoizedState;return[t,e]},useMutableSource:Ep,useSyncExternalStore:Np,useId:Fp,unstable_isNewReconciler:!1};function Rt(t,e){if(t&&t.defaultProps){e=xe({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function $l(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:xe({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var eo={isMounted:function(t){return(t=t._reactInternals)?mn(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=et(),s=Ar(t),i=sr(n,s);i.payload=e,r!=null&&(i.callback=r),e=Or(t,i,s),e!==null&&(Bt(e,t,s,n),ta(e,t,s))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=et(),s=Ar(t),i=sr(n,s);i.tag=1,i.payload=e,r!=null&&(i.callback=r),e=Or(t,i,s),e!==null&&(Bt(e,t,s,n),ta(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=et(),n=Ar(t),s=sr(r,n);s.tag=2,e!=null&&(s.callback=e),e=Or(t,s,n),e!==null&&(Bt(e,t,n,r),ta(e,t,n))}};function Cd(t,e,r,n,s,i,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,i,a):e.prototype&&e.prototype.isPureReactComponent?!Ys(r,n)||!Ys(s,i):!0}function Hp(t,e,r){var n=!1,s=Ur,i=e.contextType;return typeof i=="object"&&i!==null?i=Et(i):(s=lt(e)?ln:Ze.current,n=e.contextTypes,i=(n=n!=null)?Jn(t,s):Ur),e=new e(r,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=eo,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function Td(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&eo.enqueueReplaceState(e,e.state,null)}function Dl(t,e,r,n){var s=t.stateNode;s.props=r,s.state=t.memoizedState,s.refs={},Zu(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=Et(i):(i=lt(e)?ln:Ze.current,s.context=Jn(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&($l(t,e,i,r),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&eo.enqueueReplaceState(s,s.state,null),ka(t,r,s,n),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function es(t,e){try{var r="",n=e;do r+=Ly(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function zo(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function Ul(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var l0=typeof WeakMap=="function"?WeakMap:Map;function qp(t,e,r){r=sr(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){Ca||(Ca=!0,Zl=n),Ul(t,e)},r}function Kp(t,e,r){r=sr(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var s=e.value;r.payload=function(){return n(s)},r.callback=function(){Ul(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){Ul(t,e),typeof n!="function"&&(Rr===null?Rr=new Set([this]):Rr.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),r}function Pd(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new l0;var s=new Set;n.set(e,s)}else s=n.get(e),s===void 0&&(s=new Set,n.set(e,s));s.has(r)||(s.add(r),t=b0.bind(null,t,e,r),e.then(t,t))}function Od(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Rd(t,e,r,n,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=sr(-1,1),e.tag=2,Or(r,e,1))),r.lanes|=1),t)}var u0=cr.ReactCurrentOwner,at=!1;function Ye(t,e,r,n){e.child=t===null?bp(e,null,r,n):Yn(e,t.child,r,n)}function Ad(t,e,r,n,s){r=r.render;var i=e.ref;return Hn(e,s),n=Xu(t,e,r,n,i,s),r=ec(),t!==null&&!at?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,lr(t,e,s)):(me&&r&&Fu(e),e.flags|=1,Ye(t,e,n,s),e.child)}function Id(t,e,r,n,s){if(t===null){var i=r.type;return typeof i=="function"&&!cc(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=i,Zp(t,e,i,n,s)):(t=oa(r.type,null,n,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var a=i.memoizedProps;if(r=r.compare,r=r!==null?r:Ys,r(a,n)&&t.ref===e.ref)return lr(t,e,s)}return e.flags|=1,t=Ir(i,n),t.ref=e.ref,t.return=e,e.child=t}function Zp(t,e,r,n,s){if(t!==null){var i=t.memoizedProps;if(Ys(i,n)&&t.ref===e.ref)if(at=!1,e.pendingProps=n=i,(t.lanes&s)!==0)t.flags&131072&&(at=!0);else return e.lanes=t.lanes,lr(t,e,s)}return Ml(t,e,r,n,s)}function Gp(t,e,r){var n=e.pendingProps,s=n.children,i=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ue(Bn,dt),dt|=r;else{if(!(r&1073741824))return t=i!==null?i.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ue(Bn,dt),dt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,ue(Bn,dt),dt|=n}else i!==null?(n=i.baseLanes|r,e.memoizedState=null):n=r,ue(Bn,dt),dt|=n;return Ye(t,e,s,r),e.child}function Jp(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function Ml(t,e,r,n,s){var i=lt(r)?ln:Ze.current;return i=Jn(e,i),Hn(e,s),r=Xu(t,e,r,n,i,s),n=ec(),t!==null&&!at?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,lr(t,e,s)):(me&&n&&Fu(e),e.flags|=1,Ye(t,e,r,s),e.child)}function Ld(t,e,r,n,s){if(lt(r)){var i=!0;va(e)}else i=!1;if(Hn(e,s),e.stateNode===null)sa(t,e),Hp(e,r,n),Dl(e,r,n,s),n=!0;else if(t===null){var a=e.stateNode,o=e.memoizedProps;a.props=o;var u=a.context,c=r.contextType;typeof c=="object"&&c!==null?c=Et(c):(c=lt(r)?ln:Ze.current,c=Jn(e,c));var d=r.getDerivedStateFromProps,h=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function";h||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==n||u!==c)&&Td(e,a,n,c),yr=!1;var f=e.memoizedState;a.state=f,ka(e,n,a,s),u=e.memoizedState,o!==n||f!==u||ot.current||yr?(typeof d=="function"&&($l(e,r,d,n),u=e.memoizedState),(o=yr||Cd(e,r,o,n,f,u,c))?(h||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=u),a.props=n,a.state=u,a.context=c,n=o):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{a=e.stateNode,jp(t,e),o=e.memoizedProps,c=e.type===e.elementType?o:Rt(e.type,o),a.props=c,h=e.pendingProps,f=a.context,u=r.contextType,typeof u=="object"&&u!==null?u=Et(u):(u=lt(r)?ln:Ze.current,u=Jn(e,u));var p=r.getDerivedStateFromProps;(d=typeof p=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==h||f!==u)&&Td(e,a,n,u),yr=!1,f=e.memoizedState,a.state=f,ka(e,n,a,s);var x=e.memoizedState;o!==h||f!==x||ot.current||yr?(typeof p=="function"&&($l(e,r,p,n),x=e.memoizedState),(c=yr||Cd(e,r,c,n,f,x,u)||!1)?(d||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(n,x,u),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(n,x,u)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=x),a.props=n,a.state=x,a.context=u,n=c):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),n=!1)}return Bl(t,e,r,n,i,s)}function Bl(t,e,r,n,s,i){Jp(t,e);var a=(e.flags&128)!==0;if(!n&&!a)return s&&wd(e,r,!1),lr(t,e,i);n=e.stateNode,u0.current=e;var o=a&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&a?(e.child=Yn(e,t.child,null,i),e.child=Yn(e,null,o,i)):Ye(t,e,o,i),e.memoizedState=n.state,s&&wd(e,r,!0),e.child}function Qp(t){var e=t.stateNode;e.pendingContext?xd(t,e.pendingContext,e.pendingContext!==e.context):e.context&&xd(t,e.context,!1),Gu(t,e.containerInfo)}function $d(t,e,r,n,s){return Qn(),zu(s),e.flags|=256,Ye(t,e,r,n),e.child}var Fl={dehydrated:null,treeContext:null,retryLane:0};function Vl(t){return{baseLanes:t,cachePool:null,transitions:null}}function Yp(t,e,r){var n=e.pendingProps,s=ye.current,i=!1,a=(e.flags&128)!==0,o;if((o=a)||(o=t!==null&&t.memoizedState===null?!1:(s&2)!==0),o?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),ue(ye,s&1),t===null)return Il(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=n.children,t=n.fallback,i?(n=e.mode,i=e.child,a={mode:"hidden",children:a},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=a):i=no(a,n,0,null),t=on(t,n,r,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Vl(r),e.memoizedState=Fl,t):nc(e,a));if(s=t.memoizedState,s!==null&&(o=s.dehydrated,o!==null))return c0(t,e,a,n,o,s,r);if(i){i=n.fallback,a=e.mode,s=t.child,o=s.sibling;var u={mode:"hidden",children:n.children};return!(a&1)&&e.child!==s?(n=e.child,n.childLanes=0,n.pendingProps=u,e.deletions=null):(n=Ir(s,u),n.subtreeFlags=s.subtreeFlags&14680064),o!==null?i=Ir(o,i):(i=on(i,a,r,null),i.flags|=2),i.return=e,n.return=e,n.sibling=i,e.child=n,n=i,i=e.child,a=t.child.memoizedState,a=a===null?Vl(r):{baseLanes:a.baseLanes|r,cachePool:null,transitions:a.transitions},i.memoizedState=a,i.childLanes=t.childLanes&~r,e.memoizedState=Fl,n}return i=t.child,t=i.sibling,n=Ir(i,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function nc(t,e){return e=no({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Di(t,e,r,n){return n!==null&&zu(n),Yn(e,t.child,null,r),t=nc(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function c0(t,e,r,n,s,i,a){if(r)return e.flags&256?(e.flags&=-257,n=zo(Error(C(422))),Di(t,e,a,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=n.fallback,s=e.mode,n=no({mode:"visible",children:n.children},s,0,null),i=on(i,s,a,null),i.flags|=2,n.return=e,i.return=e,n.sibling=i,e.child=n,e.mode&1&&Yn(e,t.child,null,a),e.child.memoizedState=Vl(a),e.memoizedState=Fl,i);if(!(e.mode&1))return Di(t,e,a,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var o=n.dgst;return n=o,i=Error(C(419)),n=zo(i,n,void 0),Di(t,e,a,n)}if(o=(a&t.childLanes)!==0,at||o){if(n=Me,n!==null){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|a)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,or(t,s),Bt(n,t,s,-1))}return uc(),n=zo(Error(C(421))),Di(t,e,a,n)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=k0.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,mt=Pr(s.nextSibling),gt=e,me=!0,$t=null,t!==null&&(bt[kt++]=rr,bt[kt++]=nr,bt[kt++]=un,rr=t.id,nr=t.overflow,un=e),e=nc(e,n.children),e.flags|=4096,e)}function Dd(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),Ll(t.return,e,r)}function Wo(t,e,r,n,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function Xp(t,e,r){var n=e.pendingProps,s=n.revealOrder,i=n.tail;if(Ye(t,e,n.children,r),n=ye.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Dd(t,r,e);else if(t.tag===19)Dd(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(ue(ye,n),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(r=e.child,s=null;r!==null;)t=r.alternate,t!==null&&ja(t)===null&&(s=r),r=r.sibling;r=s,r===null?(s=e.child,e.child=null):(s=r.sibling,r.sibling=null),Wo(e,!1,s,r,i);break;case"backwards":for(r=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&ja(t)===null){e.child=s;break}t=s.sibling,s.sibling=r,r=s,s=t}Wo(e,!0,r,null,i);break;case"together":Wo(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function sa(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function lr(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),dn|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(C(153));if(e.child!==null){for(t=e.child,r=Ir(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=Ir(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function d0(t,e,r){switch(e.tag){case 3:Qp(e),Qn();break;case 5:Sp(e);break;case 1:lt(e.type)&&va(e);break;case 4:Gu(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,s=e.memoizedProps.value;ue(_a,n._currentValue),n._currentValue=s;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(ue(ye,ye.current&1),e.flags|=128,null):r&e.child.childLanes?Yp(t,e,r):(ue(ye,ye.current&1),t=lr(t,e,r),t!==null?t.sibling:null);ue(ye,ye.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return Xp(t,e,r);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),ue(ye,ye.current),n)break;return null;case 22:case 23:return e.lanes=0,Gp(t,e,r)}return lr(t,e,r)}var em,zl,tm,rm;em=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};zl=function(){};tm=function(t,e,r,n){var s=t.memoizedProps;if(s!==n){t=e.stateNode,rn(Kt.current);var i=null;switch(r){case"input":s=dl(t,s),n=dl(t,n),i=[];break;case"select":s=xe({},s,{value:void 0}),n=xe({},n,{value:void 0}),i=[];break;case"textarea":s=pl(t,s),n=pl(t,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=ga)}gl(r,n);var a;r=null;for(c in s)if(!n.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var o=s[c];for(a in o)o.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Hs.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in n){var u=n[c];if(o=s!=null?s[c]:void 0,n.hasOwnProperty(c)&&u!==o&&(u!=null||o!=null))if(c==="style")if(o){for(a in o)!o.hasOwnProperty(a)||u&&u.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in u)u.hasOwnProperty(a)&&o[a]!==u[a]&&(r||(r={}),r[a]=u[a])}else r||(i||(i=[]),i.push(c,r)),r=u;else c==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,o=o?o.__html:void 0,u!=null&&o!==u&&(i=i||[]).push(c,u)):c==="children"?typeof u!="string"&&typeof u!="number"||(i=i||[]).push(c,""+u):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Hs.hasOwnProperty(c)?(u!=null&&c==="onScroll"&&ce("scroll",t),i||o===u||(i=[])):(i=i||[]).push(c,u))}r&&(i=i||[]).push("style",r);var c=i;(e.updateQueue=c)&&(e.flags|=4)}};rm=function(t,e,r,n){r!==n&&(e.flags|=4)};function bs(t,e){if(!me)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function qe(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function h0(t,e,r){var n=e.pendingProps;switch(Vu(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qe(e),null;case 1:return lt(e.type)&&ya(),qe(e),null;case 3:return n=e.stateNode,Xn(),he(ot),he(Ze),Qu(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Li(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,$t!==null&&(Ql($t),$t=null))),zl(t,e),qe(e),null;case 5:Ju(e);var s=rn(ni.current);if(r=e.type,t!==null&&e.stateNode!=null)tm(t,e,r,n,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(C(166));return qe(e),null}if(t=rn(Kt.current),Li(e)){n=e.stateNode,r=e.type;var i=e.memoizedProps;switch(n[Ht]=e,n[ti]=i,t=(e.mode&1)!==0,r){case"dialog":ce("cancel",n),ce("close",n);break;case"iframe":case"object":case"embed":ce("load",n);break;case"video":case"audio":for(s=0;s<Cs.length;s++)ce(Cs[s],n);break;case"source":ce("error",n);break;case"img":case"image":case"link":ce("error",n),ce("load",n);break;case"details":ce("toggle",n);break;case"input":qc(n,i),ce("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},ce("invalid",n);break;case"textarea":Zc(n,i),ce("invalid",n)}gl(r,i),s=null;for(var a in i)if(i.hasOwnProperty(a)){var o=i[a];a==="children"?typeof o=="string"?n.textContent!==o&&(i.suppressHydrationWarning!==!0&&Ii(n.textContent,o,t),s=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(i.suppressHydrationWarning!==!0&&Ii(n.textContent,o,t),s=["children",""+o]):Hs.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&ce("scroll",n)}switch(r){case"input":Ei(n),Kc(n,i,!0);break;case"textarea":Ei(n),Gc(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=ga)}n=s,e.updateQueue=n,n!==null&&(e.flags|=4)}else{a=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Pf(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=a.createElement(r,{is:n.is}):(t=a.createElement(r),r==="select"&&(a=t,n.multiple?a.multiple=!0:n.size&&(a.size=n.size))):t=a.createElementNS(t,r),t[Ht]=e,t[ti]=n,em(t,e,!1,!1),e.stateNode=t;e:{switch(a=yl(r,n),r){case"dialog":ce("cancel",t),ce("close",t),s=n;break;case"iframe":case"object":case"embed":ce("load",t),s=n;break;case"video":case"audio":for(s=0;s<Cs.length;s++)ce(Cs[s],t);s=n;break;case"source":ce("error",t),s=n;break;case"img":case"image":case"link":ce("error",t),ce("load",t),s=n;break;case"details":ce("toggle",t),s=n;break;case"input":qc(t,n),s=dl(t,n),ce("invalid",t);break;case"option":s=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},s=xe({},n,{value:void 0}),ce("invalid",t);break;case"textarea":Zc(t,n),s=pl(t,n),ce("invalid",t);break;default:s=n}gl(r,s),o=s;for(i in o)if(o.hasOwnProperty(i)){var u=o[i];i==="style"?Af(t,u):i==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&Of(t,u)):i==="children"?typeof u=="string"?(r!=="textarea"||u!=="")&&qs(t,u):typeof u=="number"&&qs(t,""+u):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Hs.hasOwnProperty(i)?u!=null&&i==="onScroll"&&ce("scroll",t):u!=null&&Nu(t,i,u,a))}switch(r){case"input":Ei(t),Kc(t,n,!1);break;case"textarea":Ei(t),Gc(t);break;case"option":n.value!=null&&t.setAttribute("value",""+Dr(n.value));break;case"select":t.multiple=!!n.multiple,i=n.value,i!=null?Fn(t,!!n.multiple,i,!1):n.defaultValue!=null&&Fn(t,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=ga)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return qe(e),null;case 6:if(t&&e.stateNode!=null)rm(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(C(166));if(r=rn(ni.current),rn(Kt.current),Li(e)){if(n=e.stateNode,r=e.memoizedProps,n[Ht]=e,(i=n.nodeValue!==r)&&(t=gt,t!==null))switch(t.tag){case 3:Ii(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Ii(n.nodeValue,r,(t.mode&1)!==0)}i&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Ht]=e,e.stateNode=n}return qe(e),null;case 13:if(he(ye),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(me&&mt!==null&&e.mode&1&&!(e.flags&128))wp(),Qn(),e.flags|=98560,i=!1;else if(i=Li(e),n!==null&&n.dehydrated!==null){if(t===null){if(!i)throw Error(C(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(C(317));i[Ht]=e}else Qn(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;qe(e),i=!1}else $t!==null&&(Ql($t),$t=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||ye.current&1?Le===0&&(Le=3):uc())),e.updateQueue!==null&&(e.flags|=4),qe(e),null);case 4:return Xn(),zl(t,e),t===null&&Xs(e.stateNode.containerInfo),qe(e),null;case 10:return qu(e.type._context),qe(e),null;case 17:return lt(e.type)&&ya(),qe(e),null;case 19:if(he(ye),i=e.memoizedState,i===null)return qe(e),null;if(n=(e.flags&128)!==0,a=i.rendering,a===null)if(n)bs(i,!1);else{if(Le!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=ja(t),a!==null){for(e.flags|=128,bs(i,!1),n=a.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)i=r,t=n,i.flags&=14680066,a=i.alternate,a===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,t=a.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return ue(ye,ye.current&1|2),e.child}t=t.sibling}i.tail!==null&&ke()>ts&&(e.flags|=128,n=!0,bs(i,!1),e.lanes=4194304)}else{if(!n)if(t=ja(a),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),bs(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!me)return qe(e),null}else 2*ke()-i.renderingStartTime>ts&&r!==1073741824&&(e.flags|=128,n=!0,bs(i,!1),e.lanes=4194304);i.isBackwards?(a.sibling=e.child,e.child=a):(r=i.last,r!==null?r.sibling=a:e.child=a,i.last=a)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=ke(),e.sibling=null,r=ye.current,ue(ye,n?r&1|2:r&1),e):(qe(e),null);case 22:case 23:return lc(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?dt&1073741824&&(qe(e),e.subtreeFlags&6&&(e.flags|=8192)):qe(e),null;case 24:return null;case 25:return null}throw Error(C(156,e.tag))}function f0(t,e){switch(Vu(e),e.tag){case 1:return lt(e.type)&&ya(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Xn(),he(ot),he(Ze),Qu(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Ju(e),null;case 13:if(he(ye),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(C(340));Qn()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return he(ye),null;case 4:return Xn(),null;case 10:return qu(e.type._context),null;case 22:case 23:return lc(),null;case 24:return null;default:return null}}var Ui=!1,Ke=!1,p0=typeof WeakSet=="function"?WeakSet:Set,D=null;function Mn(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){_e(t,e,n)}else r.current=null}function Wl(t,e,r){try{r()}catch(n){_e(t,e,n)}}var Ud=!1;function m0(t,e){if(Nl=fa,t=op(),Bu(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var a=0,o=-1,u=-1,c=0,d=0,h=t,f=null;t:for(;;){for(var p;h!==r||s!==0&&h.nodeType!==3||(o=a+s),h!==i||n!==0&&h.nodeType!==3||(u=a+n),h.nodeType===3&&(a+=h.nodeValue.length),(p=h.firstChild)!==null;)f=h,h=p;for(;;){if(h===t)break t;if(f===r&&++c===s&&(o=a),f===i&&++d===n&&(u=a),(p=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=p}r=o===-1||u===-1?null:{start:o,end:u}}else r=null}r=r||{start:0,end:0}}else r=null;for(Cl={focusedElem:t,selectionRange:r},fa=!1,D=e;D!==null;)if(e=D,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,D=t;else for(;D!==null;){e=D;try{var x=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var y=x.memoizedProps,w=x.memoizedState,g=e.stateNode,m=g.getSnapshotBeforeUpdate(e.elementType===e.type?y:Rt(e.type,y),w);g.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var v=e.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(C(163))}}catch(b){_e(e,e.return,b)}if(t=e.sibling,t!==null){t.return=e.return,D=t;break}D=e.return}return x=Ud,Ud=!1,x}function Us(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&Wl(e,r,i)}s=s.next}while(s!==n)}}function to(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function Hl(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function nm(t){var e=t.alternate;e!==null&&(t.alternate=null,nm(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Ht],delete e[ti],delete e[Ol],delete e[Qv],delete e[Yv])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function sm(t){return t.tag===5||t.tag===3||t.tag===4}function Md(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||sm(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function ql(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=ga));else if(n!==4&&(t=t.child,t!==null))for(ql(t,e,r),t=t.sibling;t!==null;)ql(t,e,r),t=t.sibling}function Kl(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(Kl(t,e,r),t=t.sibling;t!==null;)Kl(t,e,r),t=t.sibling}var Ve=null,It=!1;function pr(t,e,r){for(r=r.child;r!==null;)im(t,e,r),r=r.sibling}function im(t,e,r){if(qt&&typeof qt.onCommitFiberUnmount=="function")try{qt.onCommitFiberUnmount(Ka,r)}catch{}switch(r.tag){case 5:Ke||Mn(r,e);case 6:var n=Ve,s=It;Ve=null,pr(t,e,r),Ve=n,It=s,Ve!==null&&(It?(t=Ve,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):Ve.removeChild(r.stateNode));break;case 18:Ve!==null&&(It?(t=Ve,r=r.stateNode,t.nodeType===8?Do(t.parentNode,r):t.nodeType===1&&Do(t,r),Js(t)):Do(Ve,r.stateNode));break;case 4:n=Ve,s=It,Ve=r.stateNode.containerInfo,It=!0,pr(t,e,r),Ve=n,It=s;break;case 0:case 11:case 14:case 15:if(!Ke&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,a=i.destroy;i=i.tag,a!==void 0&&(i&2||i&4)&&Wl(r,e,a),s=s.next}while(s!==n)}pr(t,e,r);break;case 1:if(!Ke&&(Mn(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){_e(r,e,o)}pr(t,e,r);break;case 21:pr(t,e,r);break;case 22:r.mode&1?(Ke=(n=Ke)||r.memoizedState!==null,pr(t,e,r),Ke=n):pr(t,e,r);break;default:pr(t,e,r)}}function Bd(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new p0),e.forEach(function(n){var s=j0.bind(null,t,n);r.has(n)||(r.add(n),n.then(s,s))})}}function Pt(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=t,a=e,o=a;e:for(;o!==null;){switch(o.tag){case 5:Ve=o.stateNode,It=!1;break e;case 3:Ve=o.stateNode.containerInfo,It=!0;break e;case 4:Ve=o.stateNode.containerInfo,It=!0;break e}o=o.return}if(Ve===null)throw Error(C(160));im(i,a,s),Ve=null,It=!1;var u=s.alternate;u!==null&&(u.return=null),s.return=null}catch(c){_e(s,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)am(e,t),e=e.sibling}function am(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Pt(e,t),Vt(t),n&4){try{Us(3,t,t.return),to(3,t)}catch(y){_e(t,t.return,y)}try{Us(5,t,t.return)}catch(y){_e(t,t.return,y)}}break;case 1:Pt(e,t),Vt(t),n&512&&r!==null&&Mn(r,r.return);break;case 5:if(Pt(e,t),Vt(t),n&512&&r!==null&&Mn(r,r.return),t.flags&32){var s=t.stateNode;try{qs(s,"")}catch(y){_e(t,t.return,y)}}if(n&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,a=r!==null?r.memoizedProps:i,o=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{o==="input"&&i.type==="radio"&&i.name!=null&&Cf(s,i),yl(o,a);var c=yl(o,i);for(a=0;a<u.length;a+=2){var d=u[a],h=u[a+1];d==="style"?Af(s,h):d==="dangerouslySetInnerHTML"?Of(s,h):d==="children"?qs(s,h):Nu(s,d,h,c)}switch(o){case"input":hl(s,i);break;case"textarea":Tf(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?Fn(s,!!i.multiple,p,!1):f!==!!i.multiple&&(i.defaultValue!=null?Fn(s,!!i.multiple,i.defaultValue,!0):Fn(s,!!i.multiple,i.multiple?[]:"",!1))}s[ti]=i}catch(y){_e(t,t.return,y)}}break;case 6:if(Pt(e,t),Vt(t),n&4){if(t.stateNode===null)throw Error(C(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(y){_e(t,t.return,y)}}break;case 3:if(Pt(e,t),Vt(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Js(e.containerInfo)}catch(y){_e(t,t.return,y)}break;case 4:Pt(e,t),Vt(t);break;case 13:Pt(e,t),Vt(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(ac=ke())),n&4&&Bd(t);break;case 22:if(d=r!==null&&r.memoizedState!==null,t.mode&1?(Ke=(c=Ke)||d,Pt(e,t),Ke=c):Pt(e,t),Vt(t),n&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!d&&t.mode&1)for(D=t,d=t.child;d!==null;){for(h=D=d;D!==null;){switch(f=D,p=f.child,f.tag){case 0:case 11:case 14:case 15:Us(4,f,f.return);break;case 1:Mn(f,f.return);var x=f.stateNode;if(typeof x.componentWillUnmount=="function"){n=f,r=f.return;try{e=n,x.props=e.memoizedProps,x.state=e.memoizedState,x.componentWillUnmount()}catch(y){_e(n,r,y)}}break;case 5:Mn(f,f.return);break;case 22:if(f.memoizedState!==null){Vd(h);continue}}p!==null?(p.return=f,D=p):Vd(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(o=h.stateNode,u=h.memoizedProps.style,a=u!=null&&u.hasOwnProperty("display")?u.display:null,o.style.display=Rf("display",a))}catch(y){_e(t,t.return,y)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(y){_e(t,t.return,y)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Pt(e,t),Vt(t),n&4&&Bd(t);break;case 21:break;default:Pt(e,t),Vt(t)}}function Vt(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(sm(r)){var n=r;break e}r=r.return}throw Error(C(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(qs(s,""),n.flags&=-33);var i=Md(t);Kl(t,i,s);break;case 3:case 4:var a=n.stateNode.containerInfo,o=Md(t);ql(t,o,a);break;default:throw Error(C(161))}}catch(u){_e(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function g0(t,e,r){D=t,om(t)}function om(t,e,r){for(var n=(t.mode&1)!==0;D!==null;){var s=D,i=s.child;if(s.tag===22&&n){var a=s.memoizedState!==null||Ui;if(!a){var o=s.alternate,u=o!==null&&o.memoizedState!==null||Ke;o=Ui;var c=Ke;if(Ui=a,(Ke=u)&&!c)for(D=s;D!==null;)a=D,u=a.child,a.tag===22&&a.memoizedState!==null?zd(s):u!==null?(u.return=a,D=u):zd(s);for(;i!==null;)D=i,om(i),i=i.sibling;D=s,Ui=o,Ke=c}Fd(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,D=i):Fd(t)}}function Fd(t){for(;D!==null;){var e=D;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ke||to(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!Ke)if(r===null)n.componentDidMount();else{var s=e.elementType===e.type?r.memoizedProps:Rt(e.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&Sd(e,i,n);break;case 3:var a=e.updateQueue;if(a!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}Sd(e,a,r)}break;case 5:var o=e.stateNode;if(r===null&&e.flags&4){r=o;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&r.focus();break;case"img":u.src&&(r.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Js(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(C(163))}Ke||e.flags&512&&Hl(e)}catch(f){_e(e,e.return,f)}}if(e===t){D=null;break}if(r=e.sibling,r!==null){r.return=e.return,D=r;break}D=e.return}}function Vd(t){for(;D!==null;){var e=D;if(e===t){D=null;break}var r=e.sibling;if(r!==null){r.return=e.return,D=r;break}D=e.return}}function zd(t){for(;D!==null;){var e=D;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{to(4,e)}catch(u){_e(e,r,u)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var s=e.return;try{n.componentDidMount()}catch(u){_e(e,s,u)}}var i=e.return;try{Hl(e)}catch(u){_e(e,i,u)}break;case 5:var a=e.return;try{Hl(e)}catch(u){_e(e,a,u)}}}catch(u){_e(e,e.return,u)}if(e===t){D=null;break}var o=e.sibling;if(o!==null){o.return=e.return,D=o;break}D=e.return}}var y0=Math.ceil,Na=cr.ReactCurrentDispatcher,sc=cr.ReactCurrentOwner,St=cr.ReactCurrentBatchConfig,te=0,Me=null,Te=null,ze=0,dt=0,Bn=Vr(0),Le=0,oi=null,dn=0,ro=0,ic=0,Ms=null,it=null,ac=0,ts=1/0,Xt=null,Ca=!1,Zl=null,Rr=null,Mi=!1,jr=null,Ta=0,Bs=0,Gl=null,ia=-1,aa=0;function et(){return te&6?ke():ia!==-1?ia:ia=ke()}function Ar(t){return t.mode&1?te&2&&ze!==0?ze&-ze:e0.transition!==null?(aa===0&&(aa=Hf()),aa):(t=ie,t!==0||(t=window.event,t=t===void 0?16:Yf(t.type)),t):1}function Bt(t,e,r,n){if(50<Bs)throw Bs=0,Gl=null,Error(C(185));gi(t,r,n),(!(te&2)||t!==Me)&&(t===Me&&(!(te&2)&&(ro|=r),Le===4&&wr(t,ze)),ut(t,n),r===1&&te===0&&!(e.mode&1)&&(ts=ke()+500,Ya&&zr()))}function ut(t,e){var r=t.callbackNode;ev(t,e);var n=ha(t,t===Me?ze:0);if(n===0)r!==null&&Yc(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&Yc(r),e===1)t.tag===0?Xv(Wd.bind(null,t)):yp(Wd.bind(null,t)),Gv(function(){!(te&6)&&zr()}),r=null;else{switch(qf(n)){case 1:r=Ru;break;case 4:r=zf;break;case 16:r=da;break;case 536870912:r=Wf;break;default:r=da}r=mm(r,lm.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function lm(t,e){if(ia=-1,aa=0,te&6)throw Error(C(327));var r=t.callbackNode;if(qn()&&t.callbackNode!==r)return null;var n=ha(t,t===Me?ze:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=Pa(t,n);else{e=n;var s=te;te|=2;var i=cm();(Me!==t||ze!==e)&&(Xt=null,ts=ke()+500,an(t,e));do try{w0();break}catch(o){um(t,o)}while(!0);Hu(),Na.current=i,te=s,Te!==null?e=0:(Me=null,ze=0,e=Le)}if(e!==0){if(e===2&&(s=bl(t),s!==0&&(n=s,e=Jl(t,s))),e===1)throw r=oi,an(t,0),wr(t,n),ut(t,ke()),r;if(e===6)wr(t,n);else{if(s=t.current.alternate,!(n&30)&&!v0(s)&&(e=Pa(t,n),e===2&&(i=bl(t),i!==0&&(n=i,e=Jl(t,i))),e===1))throw r=oi,an(t,0),wr(t,n),ut(t,ke()),r;switch(t.finishedWork=s,t.finishedLanes=n,e){case 0:case 1:throw Error(C(345));case 2:Gr(t,it,Xt);break;case 3:if(wr(t,n),(n&130023424)===n&&(e=ac+500-ke(),10<e)){if(ha(t,0)!==0)break;if(s=t.suspendedLanes,(s&n)!==n){et(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Pl(Gr.bind(null,t,it,Xt),e);break}Gr(t,it,Xt);break;case 4:if(wr(t,n),(n&4194240)===n)break;for(e=t.eventTimes,s=-1;0<n;){var a=31-Mt(n);i=1<<a,a=e[a],a>s&&(s=a),n&=~i}if(n=s,n=ke()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*y0(n/1960))-n,10<n){t.timeoutHandle=Pl(Gr.bind(null,t,it,Xt),n);break}Gr(t,it,Xt);break;case 5:Gr(t,it,Xt);break;default:throw Error(C(329))}}}return ut(t,ke()),t.callbackNode===r?lm.bind(null,t):null}function Jl(t,e){var r=Ms;return t.current.memoizedState.isDehydrated&&(an(t,e).flags|=256),t=Pa(t,e),t!==2&&(e=it,it=r,e!==null&&Ql(e)),t}function Ql(t){it===null?it=t:it.push.apply(it,t)}function v0(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!Ft(i(),s))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function wr(t,e){for(e&=~ic,e&=~ro,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-Mt(e),n=1<<r;t[r]=-1,e&=~n}}function Wd(t){if(te&6)throw Error(C(327));qn();var e=ha(t,0);if(!(e&1))return ut(t,ke()),null;var r=Pa(t,e);if(t.tag!==0&&r===2){var n=bl(t);n!==0&&(e=n,r=Jl(t,n))}if(r===1)throw r=oi,an(t,0),wr(t,e),ut(t,ke()),r;if(r===6)throw Error(C(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Gr(t,it,Xt),ut(t,ke()),null}function oc(t,e){var r=te;te|=1;try{return t(e)}finally{te=r,te===0&&(ts=ke()+500,Ya&&zr())}}function hn(t){jr!==null&&jr.tag===0&&!(te&6)&&qn();var e=te;te|=1;var r=St.transition,n=ie;try{if(St.transition=null,ie=1,t)return t()}finally{ie=n,St.transition=r,te=e,!(te&6)&&zr()}}function lc(){dt=Bn.current,he(Bn)}function an(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,Zv(r)),Te!==null)for(r=Te.return;r!==null;){var n=r;switch(Vu(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&ya();break;case 3:Xn(),he(ot),he(Ze),Qu();break;case 5:Ju(n);break;case 4:Xn();break;case 13:he(ye);break;case 19:he(ye);break;case 10:qu(n.type._context);break;case 22:case 23:lc()}r=r.return}if(Me=t,Te=t=Ir(t.current,null),ze=dt=e,Le=0,oi=null,ic=ro=dn=0,it=Ms=null,tn!==null){for(e=0;e<tn.length;e++)if(r=tn[e],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var a=i.next;i.next=s,n.next=a}r.pending=n}tn=null}return t}function um(t,e){do{var r=Te;try{if(Hu(),ra.current=Ea,Sa){for(var n=ve.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Sa=!1}if(cn=0,Ue=Ae=ve=null,Ds=!1,si=0,sc.current=null,r===null||r.return===null){Le=1,oi=e,Te=null;break}e:{var i=t,a=r.return,o=r,u=e;if(e=ze,o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var c=u,d=o,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=Od(a);if(p!==null){p.flags&=-257,Rd(p,a,o,i,e),p.mode&1&&Pd(i,c,e),e=p,u=c;var x=e.updateQueue;if(x===null){var y=new Set;y.add(u),e.updateQueue=y}else x.add(u);break e}else{if(!(e&1)){Pd(i,c,e),uc();break e}u=Error(C(426))}}else if(me&&o.mode&1){var w=Od(a);if(w!==null){!(w.flags&65536)&&(w.flags|=256),Rd(w,a,o,i,e),zu(es(u,o));break e}}i=u=es(u,o),Le!==4&&(Le=2),Ms===null?Ms=[i]:Ms.push(i),i=a;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var g=qp(i,u,e);jd(i,g);break e;case 1:o=u;var m=i.type,v=i.stateNode;if(!(i.flags&128)&&(typeof m.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(Rr===null||!Rr.has(v)))){i.flags|=65536,e&=-e,i.lanes|=e;var b=Kp(i,o,e);jd(i,b);break e}}i=i.return}while(i!==null)}hm(r)}catch(E){e=E,Te===r&&r!==null&&(Te=r=r.return);continue}break}while(!0)}function cm(){var t=Na.current;return Na.current=Ea,t===null?Ea:t}function uc(){(Le===0||Le===3||Le===2)&&(Le=4),Me===null||!(dn&268435455)&&!(ro&268435455)||wr(Me,ze)}function Pa(t,e){var r=te;te|=2;var n=cm();(Me!==t||ze!==e)&&(Xt=null,an(t,e));do try{x0();break}catch(s){um(t,s)}while(!0);if(Hu(),te=r,Na.current=n,Te!==null)throw Error(C(261));return Me=null,ze=0,Le}function x0(){for(;Te!==null;)dm(Te)}function w0(){for(;Te!==null&&!Hy();)dm(Te)}function dm(t){var e=pm(t.alternate,t,dt);t.memoizedProps=t.pendingProps,e===null?hm(t):Te=e,sc.current=null}function hm(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=f0(r,e),r!==null){r.flags&=32767,Te=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Le=6,Te=null;return}}else if(r=h0(r,e,dt),r!==null){Te=r;return}if(e=e.sibling,e!==null){Te=e;return}Te=e=t}while(e!==null);Le===0&&(Le=5)}function Gr(t,e,r){var n=ie,s=St.transition;try{St.transition=null,ie=1,_0(t,e,r,n)}finally{St.transition=s,ie=n}return null}function _0(t,e,r,n){do qn();while(jr!==null);if(te&6)throw Error(C(327));r=t.finishedWork;var s=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(C(177));t.callbackNode=null,t.callbackPriority=0;var i=r.lanes|r.childLanes;if(tv(t,i),t===Me&&(Te=Me=null,ze=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Mi||(Mi=!0,mm(da,function(){return qn(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=St.transition,St.transition=null;var a=ie;ie=1;var o=te;te|=4,sc.current=null,m0(t,r),am(r,t),Fv(Cl),fa=!!Nl,Cl=Nl=null,t.current=r,g0(r),qy(),te=o,ie=a,St.transition=i}else t.current=r;if(Mi&&(Mi=!1,jr=t,Ta=s),i=t.pendingLanes,i===0&&(Rr=null),Gy(r.stateNode),ut(t,ke()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)s=e[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(Ca)throw Ca=!1,t=Zl,Zl=null,t;return Ta&1&&t.tag!==0&&qn(),i=t.pendingLanes,i&1?t===Gl?Bs++:(Bs=0,Gl=t):Bs=0,zr(),null}function qn(){if(jr!==null){var t=qf(Ta),e=St.transition,r=ie;try{if(St.transition=null,ie=16>t?16:t,jr===null)var n=!1;else{if(t=jr,jr=null,Ta=0,te&6)throw Error(C(331));var s=te;for(te|=4,D=t.current;D!==null;){var i=D,a=i.child;if(D.flags&16){var o=i.deletions;if(o!==null){for(var u=0;u<o.length;u++){var c=o[u];for(D=c;D!==null;){var d=D;switch(d.tag){case 0:case 11:case 15:Us(8,d,i)}var h=d.child;if(h!==null)h.return=d,D=h;else for(;D!==null;){d=D;var f=d.sibling,p=d.return;if(nm(d),d===c){D=null;break}if(f!==null){f.return=p,D=f;break}D=p}}}var x=i.alternate;if(x!==null){var y=x.child;if(y!==null){x.child=null;do{var w=y.sibling;y.sibling=null,y=w}while(y!==null)}}D=i}}if(i.subtreeFlags&2064&&a!==null)a.return=i,D=a;else e:for(;D!==null;){if(i=D,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Us(9,i,i.return)}var g=i.sibling;if(g!==null){g.return=i.return,D=g;break e}D=i.return}}var m=t.current;for(D=m;D!==null;){a=D;var v=a.child;if(a.subtreeFlags&2064&&v!==null)v.return=a,D=v;else e:for(a=m;D!==null;){if(o=D,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:to(9,o)}}catch(E){_e(o,o.return,E)}if(o===a){D=null;break e}var b=o.sibling;if(b!==null){b.return=o.return,D=b;break e}D=o.return}}if(te=s,zr(),qt&&typeof qt.onPostCommitFiberRoot=="function")try{qt.onPostCommitFiberRoot(Ka,t)}catch{}n=!0}return n}finally{ie=r,St.transition=e}}return!1}function Hd(t,e,r){e=es(r,e),e=qp(t,e,1),t=Or(t,e,1),e=et(),t!==null&&(gi(t,1,e),ut(t,e))}function _e(t,e,r){if(t.tag===3)Hd(t,t,r);else for(;e!==null;){if(e.tag===3){Hd(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Rr===null||!Rr.has(n))){t=es(r,t),t=Kp(e,t,1),e=Or(e,t,1),t=et(),e!==null&&(gi(e,1,t),ut(e,t));break}}e=e.return}}function b0(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=et(),t.pingedLanes|=t.suspendedLanes&r,Me===t&&(ze&r)===r&&(Le===4||Le===3&&(ze&130023424)===ze&&500>ke()-ac?an(t,0):ic|=r),ut(t,e)}function fm(t,e){e===0&&(t.mode&1?(e=Ti,Ti<<=1,!(Ti&130023424)&&(Ti=4194304)):e=1);var r=et();t=or(t,e),t!==null&&(gi(t,e,r),ut(t,r))}function k0(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),fm(t,r)}function j0(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,s=t.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(C(314))}n!==null&&n.delete(e),fm(t,r)}var pm;pm=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||ot.current)at=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return at=!1,d0(t,e,r);at=!!(t.flags&131072)}else at=!1,me&&e.flags&1048576&&vp(e,wa,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;sa(t,e),t=e.pendingProps;var s=Jn(e,Ze.current);Hn(e,r),s=Xu(null,e,n,t,s,r);var i=ec();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,lt(n)?(i=!0,va(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Zu(e),s.updater=eo,e.stateNode=s,s._reactInternals=e,Dl(e,n,t,r),e=Bl(null,e,n,!0,i,r)):(e.tag=0,me&&i&&Fu(e),Ye(null,e,s,r),e=e.child),e;case 16:n=e.elementType;e:{switch(sa(t,e),t=e.pendingProps,s=n._init,n=s(n._payload),e.type=n,s=e.tag=E0(n),t=Rt(n,t),s){case 0:e=Ml(null,e,n,t,r);break e;case 1:e=Ld(null,e,n,t,r);break e;case 11:e=Ad(null,e,n,t,r);break e;case 14:e=Id(null,e,n,Rt(n.type,t),r);break e}throw Error(C(306,n,""))}return e;case 0:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:Rt(n,s),Ml(t,e,n,s,r);case 1:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:Rt(n,s),Ld(t,e,n,s,r);case 3:e:{if(Qp(e),t===null)throw Error(C(387));n=e.pendingProps,i=e.memoizedState,s=i.element,jp(t,e),ka(e,n,null,r);var a=e.memoizedState;if(n=a.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=es(Error(C(423)),e),e=$d(t,e,n,r,s);break e}else if(n!==s){s=es(Error(C(424)),e),e=$d(t,e,n,r,s);break e}else for(mt=Pr(e.stateNode.containerInfo.firstChild),gt=e,me=!0,$t=null,r=bp(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Qn(),n===s){e=lr(t,e,r);break e}Ye(t,e,n,r)}e=e.child}return e;case 5:return Sp(e),t===null&&Il(e),n=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,a=s.children,Tl(n,s)?a=null:i!==null&&Tl(n,i)&&(e.flags|=32),Jp(t,e),Ye(t,e,a,r),e.child;case 6:return t===null&&Il(e),null;case 13:return Yp(t,e,r);case 4:return Gu(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=Yn(e,null,n,r):Ye(t,e,n,r),e.child;case 11:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:Rt(n,s),Ad(t,e,n,s,r);case 7:return Ye(t,e,e.pendingProps,r),e.child;case 8:return Ye(t,e,e.pendingProps.children,r),e.child;case 12:return Ye(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,s=e.pendingProps,i=e.memoizedProps,a=s.value,ue(_a,n._currentValue),n._currentValue=a,i!==null)if(Ft(i.value,a)){if(i.children===s.children&&!ot.current){e=lr(t,e,r);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var o=i.dependencies;if(o!==null){a=i.child;for(var u=o.firstContext;u!==null;){if(u.context===n){if(i.tag===1){u=sr(-1,r&-r),u.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?u.next=u:(u.next=d.next,d.next=u),c.pending=u}}i.lanes|=r,u=i.alternate,u!==null&&(u.lanes|=r),Ll(i.return,r,e),o.lanes|=r;break}u=u.next}}else if(i.tag===10)a=i.type===e.type?null:i.child;else if(i.tag===18){if(a=i.return,a===null)throw Error(C(341));a.lanes|=r,o=a.alternate,o!==null&&(o.lanes|=r),Ll(a,r,e),a=i.sibling}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===e){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}Ye(t,e,s.children,r),e=e.child}return e;case 9:return s=e.type,n=e.pendingProps.children,Hn(e,r),s=Et(s),n=n(s),e.flags|=1,Ye(t,e,n,r),e.child;case 14:return n=e.type,s=Rt(n,e.pendingProps),s=Rt(n.type,s),Id(t,e,n,s,r);case 15:return Zp(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:Rt(n,s),sa(t,e),e.tag=1,lt(n)?(t=!0,va(e)):t=!1,Hn(e,r),Hp(e,n,s),Dl(e,n,s,r),Bl(null,e,n,!0,t,r);case 19:return Xp(t,e,r);case 22:return Gp(t,e,r)}throw Error(C(156,e.tag))};function mm(t,e){return Vf(t,e)}function S0(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function jt(t,e,r,n){return new S0(t,e,r,n)}function cc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function E0(t){if(typeof t=="function")return cc(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Tu)return 11;if(t===Pu)return 14}return 2}function Ir(t,e){var r=t.alternate;return r===null?(r=jt(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function oa(t,e,r,n,s,i){var a=2;if(n=t,typeof t=="function")cc(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case Pn:return on(r.children,s,i,e);case Cu:a=8,s|=8;break;case ol:return t=jt(12,r,e,s|2),t.elementType=ol,t.lanes=i,t;case ll:return t=jt(13,r,e,s),t.elementType=ll,t.lanes=i,t;case ul:return t=jt(19,r,e,s),t.elementType=ul,t.lanes=i,t;case Sf:return no(r,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case kf:a=10;break e;case jf:a=9;break e;case Tu:a=11;break e;case Pu:a=14;break e;case gr:a=16,n=null;break e}throw Error(C(130,t==null?t:typeof t,""))}return e=jt(a,r,e,s),e.elementType=t,e.type=n,e.lanes=i,e}function on(t,e,r,n){return t=jt(7,t,n,e),t.lanes=r,t}function no(t,e,r,n){return t=jt(22,t,n,e),t.elementType=Sf,t.lanes=r,t.stateNode={isHidden:!1},t}function Ho(t,e,r){return t=jt(6,t,null,e),t.lanes=r,t}function qo(t,e,r){return e=jt(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function N0(t,e,r,n,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Eo(0),this.expirationTimes=Eo(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Eo(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function dc(t,e,r,n,s,i,a,o,u){return t=new N0(t,e,r,o,u),e===1?(e=1,i===!0&&(e|=8)):e=0,i=jt(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Zu(i),t}function C0(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Tn,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function gm(t){if(!t)return Ur;t=t._reactInternals;e:{if(mn(t)!==t||t.tag!==1)throw Error(C(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(lt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(C(171))}if(t.tag===1){var r=t.type;if(lt(r))return gp(t,r,e)}return e}function ym(t,e,r,n,s,i,a,o,u){return t=dc(r,n,!0,t,s,i,a,o,u),t.context=gm(null),r=t.current,n=et(),s=Ar(r),i=sr(n,s),i.callback=e??null,Or(r,i,s),t.current.lanes=s,gi(t,s,n),ut(t,n),t}function so(t,e,r,n){var s=e.current,i=et(),a=Ar(s);return r=gm(r),e.context===null?e.context=r:e.pendingContext=r,e=sr(i,a),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=Or(s,e,a),t!==null&&(Bt(t,s,a,i),ta(t,s,a)),a}function Oa(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function qd(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function hc(t,e){qd(t,e),(t=t.alternate)&&qd(t,e)}function T0(){return null}var vm=typeof reportError=="function"?reportError:function(t){console.error(t)};function fc(t){this._internalRoot=t}io.prototype.render=fc.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(C(409));so(t,e,null,null)};io.prototype.unmount=fc.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;hn(function(){so(null,t,null,null)}),e[ar]=null}};function io(t){this._internalRoot=t}io.prototype.unstable_scheduleHydration=function(t){if(t){var e=Gf();t={blockedOn:null,target:t,priority:e};for(var r=0;r<xr.length&&e!==0&&e<xr[r].priority;r++);xr.splice(r,0,t),r===0&&Qf(t)}};function pc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function ao(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Kd(){}function P0(t,e,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var c=Oa(a);i.call(c)}}var a=ym(e,n,t,0,null,!1,!1,"",Kd);return t._reactRootContainer=a,t[ar]=a.current,Xs(t.nodeType===8?t.parentNode:t),hn(),a}for(;s=t.lastChild;)t.removeChild(s);if(typeof n=="function"){var o=n;n=function(){var c=Oa(u);o.call(c)}}var u=dc(t,0,!1,null,null,!1,!1,"",Kd);return t._reactRootContainer=u,t[ar]=u.current,Xs(t.nodeType===8?t.parentNode:t),hn(function(){so(e,u,r,n)}),u}function oo(t,e,r,n,s){var i=r._reactRootContainer;if(i){var a=i;if(typeof s=="function"){var o=s;s=function(){var u=Oa(a);o.call(u)}}so(e,a,t,s)}else a=P0(r,e,t,s,n);return Oa(a)}Kf=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=Ns(e.pendingLanes);r!==0&&(Au(e,r|1),ut(e,ke()),!(te&6)&&(ts=ke()+500,zr()))}break;case 13:hn(function(){var n=or(t,1);if(n!==null){var s=et();Bt(n,t,1,s)}}),hc(t,1)}};Iu=function(t){if(t.tag===13){var e=or(t,134217728);if(e!==null){var r=et();Bt(e,t,134217728,r)}hc(t,134217728)}};Zf=function(t){if(t.tag===13){var e=Ar(t),r=or(t,e);if(r!==null){var n=et();Bt(r,t,e,n)}hc(t,e)}};Gf=function(){return ie};Jf=function(t,e){var r=ie;try{return ie=t,e()}finally{ie=r}};xl=function(t,e,r){switch(e){case"input":if(hl(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var s=Qa(n);if(!s)throw Error(C(90));Nf(n),hl(n,s)}}}break;case"textarea":Tf(t,r);break;case"select":e=r.value,e!=null&&Fn(t,!!r.multiple,e,!1)}};$f=oc;Df=hn;var O0={usingClientEntryPoint:!1,Events:[vi,In,Qa,If,Lf,oc]},ks={findFiberByHostInstance:en,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},R0={bundleType:ks.bundleType,version:ks.version,rendererPackageName:ks.rendererPackageName,rendererConfig:ks.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:cr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Bf(t),t===null?null:t.stateNode},findFiberByHostInstance:ks.findFiberByHostInstance||T0,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Bi=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Bi.isDisabled&&Bi.supportsFiber)try{Ka=Bi.inject(R0),qt=Bi}catch{}}xt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=O0;xt.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!pc(e))throw Error(C(200));return C0(t,e,null,r)};xt.createRoot=function(t,e){if(!pc(t))throw Error(C(299));var r=!1,n="",s=vm;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=dc(t,1,!1,null,null,r,!1,n,s),t[ar]=e.current,Xs(t.nodeType===8?t.parentNode:t),new fc(e)};xt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(C(188)):(t=Object.keys(t).join(","),Error(C(268,t)));return t=Bf(e),t=t===null?null:t.stateNode,t};xt.flushSync=function(t){return hn(t)};xt.hydrate=function(t,e,r){if(!ao(e))throw Error(C(200));return oo(null,t,e,!0,r)};xt.hydrateRoot=function(t,e,r){if(!pc(t))throw Error(C(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",a=vm;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(a=r.onRecoverableError)),e=ym(e,null,t,1,r??null,s,!1,i,a),t[ar]=e.current,Xs(t),n)for(t=0;t<n.length;t++)r=n[t],s=r._getVersion,s=s(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,s]:e.mutableSourceEagerHydrationData.push(r,s);return new io(e)};xt.render=function(t,e,r){if(!ao(e))throw Error(C(200));return oo(null,t,e,!1,r)};xt.unmountComponentAtNode=function(t){if(!ao(t))throw Error(C(40));return t._reactRootContainer?(hn(function(){oo(null,null,t,!1,function(){t._reactRootContainer=null,t[ar]=null})}),!0):!1};xt.unstable_batchedUpdates=oc;xt.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!ao(r))throw Error(C(200));if(t==null||t._reactInternals===void 0)throw Error(C(38));return oo(t,e,r,!1,n)};xt.version="18.3.1-next-f1338f8080-20240426";function xm(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(xm)}catch(t){console.error(t)}}xm(),xf.exports=xt;var A0=xf.exports,Zd=A0;il.createRoot=Zd.createRoot,il.hydrateRoot=Zd.hydrateRoot;/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function li(){return li=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},li.apply(this,arguments)}var Sr;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Sr||(Sr={}));const Gd="popstate";function I0(t){t===void 0&&(t={});function e(n,s){let{pathname:i,search:a,hash:o}=n.location;return Yl("",{pathname:i,search:a,hash:o},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:Ra(s)}return $0(e,r,null,t)}function Pe(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function mc(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function L0(){return Math.random().toString(36).substr(2,8)}function Jd(t,e){return{usr:t.state,key:t.key,idx:e}}function Yl(t,e,r,n){return r===void 0&&(r=null),li({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?ds(e):e,{state:r,key:e&&e.key||n||L0()})}function Ra(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function ds(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function $0(t,e,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:i=!1}=n,a=s.history,o=Sr.Pop,u=null,c=d();c==null&&(c=0,a.replaceState(li({},a.state,{idx:c}),""));function d(){return(a.state||{idx:null}).idx}function h(){o=Sr.Pop;let w=d(),g=w==null?null:w-c;c=w,u&&u({action:o,location:y.location,delta:g})}function f(w,g){o=Sr.Push;let m=Yl(y.location,w,g);c=d()+1;let v=Jd(m,c),b=y.createHref(m);try{a.pushState(v,"",b)}catch(E){if(E instanceof DOMException&&E.name==="DataCloneError")throw E;s.location.assign(b)}i&&u&&u({action:o,location:y.location,delta:1})}function p(w,g){o=Sr.Replace;let m=Yl(y.location,w,g);c=d();let v=Jd(m,c),b=y.createHref(m);a.replaceState(v,"",b),i&&u&&u({action:o,location:y.location,delta:0})}function x(w){let g=s.location.origin!=="null"?s.location.origin:s.location.href,m=typeof w=="string"?w:Ra(w);return m=m.replace(/ $/,"%20"),Pe(g,"No window.location.(origin|href) available to create URL for href: "+m),new URL(m,g)}let y={get action(){return o},get location(){return t(s,a)},listen(w){if(u)throw new Error("A history only accepts one active listener");return s.addEventListener(Gd,h),u=w,()=>{s.removeEventListener(Gd,h),u=null}},createHref(w){return e(s,w)},createURL:x,encodeLocation(w){let g=x(w);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:f,replace:p,go(w){return a.go(w)}};return y}var Qd;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Qd||(Qd={}));function D0(t,e,r){return r===void 0&&(r="/"),U0(t,e,r)}function U0(t,e,r,n){let s=typeof e=="string"?ds(e):e,i=gc(s.pathname||"/",r);if(i==null)return null;let a=wm(t);M0(a);let o=null;for(let u=0;o==null&&u<a.length;++u){let c=Q0(i);o=Z0(a[u],c)}return o}function wm(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(i,a,o)=>{let u={relativePath:o===void 0?i.path||"":o,caseSensitive:i.caseSensitive===!0,childrenIndex:a,route:i};u.relativePath.startsWith("/")&&(Pe(u.relativePath.startsWith(n),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(n.length));let c=Lr([n,u.relativePath]),d=r.concat(u);i.children&&i.children.length>0&&(Pe(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),wm(i.children,e,d,c)),!(i.path==null&&!i.index)&&e.push({path:c,score:q0(c,i.index),routesMeta:d})};return t.forEach((i,a)=>{var o;if(i.path===""||!((o=i.path)!=null&&o.includes("?")))s(i,a);else for(let u of _m(i.path))s(i,a,u)}),e}function _m(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,s=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return s?[i,""]:[i];let a=_m(n.join("/")),o=[];return o.push(...a.map(u=>u===""?i:[i,u].join("/"))),s&&o.push(...a),o.map(u=>t.startsWith("/")&&u===""?"/":u)}function M0(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:K0(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const B0=/^:[\w-]+$/,F0=3,V0=2,z0=1,W0=10,H0=-2,Yd=t=>t==="*";function q0(t,e){let r=t.split("/"),n=r.length;return r.some(Yd)&&(n+=H0),e&&(n+=V0),r.filter(s=>!Yd(s)).reduce((s,i)=>s+(B0.test(i)?F0:i===""?z0:W0),n)}function K0(t,e){return t.length===e.length&&t.slice(0,-1).every((n,s)=>n===e[s])?t[t.length-1]-e[e.length-1]:0}function Z0(t,e,r){let{routesMeta:n}=t,s={},i="/",a=[];for(let o=0;o<n.length;++o){let u=n[o],c=o===n.length-1,d=i==="/"?e:e.slice(i.length)||"/",h=G0({path:u.relativePath,caseSensitive:u.caseSensitive,end:c},d),f=u.route;if(!h)return null;Object.assign(s,h.params),a.push({params:s,pathname:Lr([i,h.pathname]),pathnameBase:rx(Lr([i,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(i=Lr([i,h.pathnameBase]))}return a}function G0(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=J0(t.path,t.caseSensitive,t.end),s=e.match(r);if(!s)return null;let i=s[0],a=i.replace(/(.)\/+$/,"$1"),o=s.slice(1);return{params:n.reduce((c,d,h)=>{let{paramName:f,isOptional:p}=d;if(f==="*"){let y=o[h]||"";a=i.slice(0,i.length-y.length).replace(/(.)\/+$/,"$1")}const x=o[h];return p&&!x?c[f]=void 0:c[f]=(x||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:a,pattern:t}}function J0(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),mc(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,u)=>(n.push({paramName:o,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),n]}function Q0(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return mc(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function gc(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}const Y0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,X0=t=>Y0.test(t);function ex(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:s=""}=typeof t=="string"?ds(t):t,i;if(r)if(X0(r))i=r;else{if(r.includes("//")){let a=r;r=r.replace(/\/\/+/g,"/"),mc(!1,"Pathnames cannot have embedded double slashes - normalizing "+(a+" -> "+r))}r.startsWith("/")?i=Xd(r.substring(1),"/"):i=Xd(r,e)}else i=e;return{pathname:i,search:nx(n),hash:sx(s)}}function Xd(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function Ko(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function tx(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function bm(t,e){let r=tx(t);return e?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function km(t,e,r,n){n===void 0&&(n=!1);let s;typeof t=="string"?s=ds(t):(s=li({},t),Pe(!s.pathname||!s.pathname.includes("?"),Ko("?","pathname","search",s)),Pe(!s.pathname||!s.pathname.includes("#"),Ko("#","pathname","hash",s)),Pe(!s.search||!s.search.includes("#"),Ko("#","search","hash",s)));let i=t===""||s.pathname==="",a=i?"/":s.pathname,o;if(a==null)o=r;else{let h=e.length-1;if(!n&&a.startsWith("..")){let f=a.split("/");for(;f[0]==="..";)f.shift(),h-=1;s.pathname=f.join("/")}o=h>=0?e[h]:"/"}let u=ex(s,o),c=a&&a!=="/"&&a.endsWith("/"),d=(i||a===".")&&r.endsWith("/");return!u.pathname.endsWith("/")&&(c||d)&&(u.pathname+="/"),u}const Lr=t=>t.join("/").replace(/\/\/+/g,"/"),rx=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),nx=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,sx=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function ix(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const jm=["post","put","patch","delete"];new Set(jm);const ax=["get",...jm];new Set(ax);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ui(){return ui=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ui.apply(this,arguments)}const yc=j.createContext(null),ox=j.createContext(null),gn=j.createContext(null),lo=j.createContext(null),dr=j.createContext({outlet:null,matches:[],isDataRoute:!1}),Sm=j.createContext(null);function lx(t,e){let{relative:r}=e===void 0?{}:e;wi()||Pe(!1);let{basename:n,navigator:s}=j.useContext(gn),{hash:i,pathname:a,search:o}=Cm(t,{relative:r}),u=a;return n!=="/"&&(u=a==="/"?n:Lr([n,a])),s.createHref({pathname:u,search:o,hash:i})}function wi(){return j.useContext(lo)!=null}function hs(){return wi()||Pe(!1),j.useContext(lo).location}function Em(t){j.useContext(gn).static||j.useLayoutEffect(t)}function Gt(){let{isDataRoute:t}=j.useContext(dr);return t?kx():ux()}function ux(){wi()||Pe(!1);let t=j.useContext(yc),{basename:e,future:r,navigator:n}=j.useContext(gn),{matches:s}=j.useContext(dr),{pathname:i}=hs(),a=JSON.stringify(bm(s,r.v7_relativeSplatPath)),o=j.useRef(!1);return Em(()=>{o.current=!0}),j.useCallback(function(c,d){if(d===void 0&&(d={}),!o.current)return;if(typeof c=="number"){n.go(c);return}let h=km(c,JSON.parse(a),i,d.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:Lr([e,h.pathname])),(d.replace?n.replace:n.push)(h,d.state,d)},[e,n,a,i,t])}const cx=j.createContext(null);function dx(t){let e=j.useContext(dr).outlet;return e&&j.createElement(cx.Provider,{value:t},e)}function Nm(){let{matches:t}=j.useContext(dr),e=t[t.length-1];return e?e.params:{}}function Cm(t,e){let{relative:r}=e===void 0?{}:e,{future:n}=j.useContext(gn),{matches:s}=j.useContext(dr),{pathname:i}=hs(),a=JSON.stringify(bm(s,n.v7_relativeSplatPath));return j.useMemo(()=>km(t,JSON.parse(a),i,r==="path"),[t,a,i,r])}function hx(t,e){return fx(t,e)}function fx(t,e,r,n){wi()||Pe(!1);let{navigator:s}=j.useContext(gn),{matches:i}=j.useContext(dr),a=i[i.length-1],o=a?a.params:{};a&&a.pathname;let u=a?a.pathnameBase:"/";a&&a.route;let c=hs(),d;if(e){var h;let w=typeof e=="string"?ds(e):e;u==="/"||(h=w.pathname)!=null&&h.startsWith(u)||Pe(!1),d=w}else d=c;let f=d.pathname||"/",p=f;if(u!=="/"){let w=u.replace(/^\//,"").split("/");p="/"+f.replace(/^\//,"").split("/").slice(w.length).join("/")}let x=D0(t,{pathname:p}),y=vx(x&&x.map(w=>Object.assign({},w,{params:Object.assign({},o,w.params),pathname:Lr([u,s.encodeLocation?s.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?u:Lr([u,s.encodeLocation?s.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),i,r,n);return e&&y?j.createElement(lo.Provider,{value:{location:ui({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Sr.Pop}},y):y}function px(){let t=bx(),e=ix(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},e),r?j.createElement("pre",{style:s},r):null,null)}const mx=j.createElement(px,null);class gx extends j.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?j.createElement(dr.Provider,{value:this.props.routeContext},j.createElement(Sm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function yx(t){let{routeContext:e,match:r,children:n}=t,s=j.useContext(yc);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),j.createElement(dr.Provider,{value:e},n)}function vx(t,e,r,n){var s;if(e===void 0&&(e=[]),r===void 0&&(r=null),n===void 0&&(n=null),t==null){var i;if(!r)return null;if(r.errors)t=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let a=t,o=(s=r)==null?void 0:s.errors;if(o!=null){let d=a.findIndex(h=>h.route.id&&(o==null?void 0:o[h.route.id])!==void 0);d>=0||Pe(!1),a=a.slice(0,Math.min(a.length,d+1))}let u=!1,c=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<a.length;d++){let h=a[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(c=d),h.route.id){let{loaderData:f,errors:p}=r,x=h.route.loader&&f[h.route.id]===void 0&&(!p||p[h.route.id]===void 0);if(h.route.lazy||x){u=!0,c>=0?a=a.slice(0,c+1):a=[a[0]];break}}}return a.reduceRight((d,h,f)=>{let p,x=!1,y=null,w=null;r&&(p=o&&h.route.id?o[h.route.id]:void 0,y=h.route.errorElement||mx,u&&(c<0&&f===0?(jx("route-fallback"),x=!0,w=null):c===f&&(x=!0,w=h.route.hydrateFallbackElement||null)));let g=e.concat(a.slice(0,f+1)),m=()=>{let v;return p?v=y:x?v=w:h.route.Component?v=j.createElement(h.route.Component,null):h.route.element?v=h.route.element:v=d,j.createElement(yx,{match:h,routeContext:{outlet:d,matches:g,isDataRoute:r!=null},children:v})};return r&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?j.createElement(gx,{location:r.location,revalidation:r.revalidation,component:y,error:p,children:m(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):m()},null)}var Tm=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(Tm||{}),Pm=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Pm||{});function xx(t){let e=j.useContext(yc);return e||Pe(!1),e}function wx(t){let e=j.useContext(ox);return e||Pe(!1),e}function _x(t){let e=j.useContext(dr);return e||Pe(!1),e}function Om(t){let e=_x(),r=e.matches[e.matches.length-1];return r.route.id||Pe(!1),r.route.id}function bx(){var t;let e=j.useContext(Sm),r=wx(),n=Om();return e!==void 0?e:(t=r.errors)==null?void 0:t[n]}function kx(){let{router:t}=xx(Tm.UseNavigateStable),e=Om(Pm.UseNavigateStable),r=j.useRef(!1);return Em(()=>{r.current=!0}),j.useCallback(function(s,i){i===void 0&&(i={}),r.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,ui({fromRouteId:e},i)))},[t,e])}const eh={};function jx(t,e,r){eh[t]||(eh[t]=!0)}function Sx(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function Rm(t){return dx(t.context)}function Ge(t){Pe(!1)}function Ex(t){let{basename:e="/",children:r=null,location:n,navigationType:s=Sr.Pop,navigator:i,static:a=!1,future:o}=t;wi()&&Pe(!1);let u=e.replace(/^\/*/,"/"),c=j.useMemo(()=>({basename:u,navigator:i,static:a,future:ui({v7_relativeSplatPath:!1},o)}),[u,o,i,a]);typeof n=="string"&&(n=ds(n));let{pathname:d="/",search:h="",hash:f="",state:p=null,key:x="default"}=n,y=j.useMemo(()=>{let w=gc(d,u);return w==null?null:{location:{pathname:w,search:h,hash:f,state:p,key:x},navigationType:s}},[u,d,h,f,p,x,s]);return y==null?null:j.createElement(gn.Provider,{value:c},j.createElement(lo.Provider,{children:r,value:y}))}function Nx(t){let{children:e,location:r}=t;return hx(Xl(e),r)}new Promise(()=>{});function Xl(t,e){e===void 0&&(e=[]);let r=[];return j.Children.forEach(t,(n,s)=>{if(!j.isValidElement(n))return;let i=[...e,s];if(n.type===j.Fragment){r.push.apply(r,Xl(n.props.children,i));return}n.type!==Ge&&Pe(!1),!n.props.index||!n.props.children||Pe(!1);let a={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(a.children=Xl(n.props.children,i)),r.push(a)}),r}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function eu(){return eu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},eu.apply(this,arguments)}function Cx(t,e){if(t==null)return{};var r={},n=Object.keys(t),s,i;for(i=0;i<n.length;i++)s=n[i],!(e.indexOf(s)>=0)&&(r[s]=t[s]);return r}function Tx(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Px(t,e){return t.button===0&&(!e||e==="_self")&&!Tx(t)}const Ox=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Rx="6";try{window.__reactRouterVersion=Rx}catch{}const Ax="startTransition",th=by[Ax];function Ix(t){let{basename:e,children:r,future:n,window:s}=t,i=j.useRef();i.current==null&&(i.current=I0({window:s,v5Compat:!0}));let a=i.current,[o,u]=j.useState({action:a.action,location:a.location}),{v7_startTransition:c}=n||{},d=j.useCallback(h=>{c&&th?th(()=>u(h)):u(h)},[u,c]);return j.useLayoutEffect(()=>a.listen(d),[a,d]),j.useEffect(()=>Sx(n),[n]),j.createElement(Ex,{basename:e,children:r,location:o.location,navigationType:o.action,navigator:a,future:n})}const Lx=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",$x=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,de=j.forwardRef(function(e,r){let{onClick:n,relative:s,reloadDocument:i,replace:a,state:o,target:u,to:c,preventScrollReset:d,viewTransition:h}=e,f=Cx(e,Ox),{basename:p}=j.useContext(gn),x,y=!1;if(typeof c=="string"&&$x.test(c)&&(x=c,Lx))try{let v=new URL(window.location.href),b=c.startsWith("//")?new URL(v.protocol+c):new URL(c),E=gc(b.pathname,p);b.origin===v.origin&&E!=null?c=E+b.search+b.hash:y=!0}catch{}let w=lx(c,{relative:s}),g=Dx(c,{replace:a,state:o,target:u,preventScrollReset:d,relative:s,viewTransition:h});function m(v){n&&n(v),v.defaultPrevented||g(v)}return j.createElement("a",eu({},f,{href:x||w,onClick:y||i?n:m,ref:r,target:u}))});var rh;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(rh||(rh={}));var nh;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(nh||(nh={}));function Dx(t,e){let{target:r,replace:n,state:s,preventScrollReset:i,relative:a,viewTransition:o}=e===void 0?{}:e,u=Gt(),c=hs(),d=Cm(t,{relative:a});return j.useCallback(h=>{if(Px(h,r)){h.preventDefault();let f=n!==void 0?n:Ra(c)===Ra(d);u(t,{replace:f,state:s,preventScrollReset:i,relative:a,viewTransition:o})}},[c,u,d,n,s,r,t,i,a,o])}const Am=j.createContext(void 0);function Ux({children:t}){const[e,r]=j.useState(null),n=a=>{r(a)},s=()=>{r(null)},i=!!e;return l.jsx(Am.Provider,{value:{user:e,login:n,logout:s,isAuthenticated:i},children:t})}function Ct(){const t=j.useContext(Am);if(t===void 0)throw new Error("useAuth must be used within AuthProvider");return t}const Im=j.createContext(void 0);function Mx({children:t}){const[e,r]=j.useState([]),n=o=>{e.includes(o)||(r(u=>[...u,o]),console.log("Interest added for property:",o))},s=o=>{r(u=>u.filter(c=>c!==o)),console.log("Interest removed for property:",o)},i=o=>e.includes(o),a=()=>e;return l.jsx(Im.Provider,{value:{interests:e,addInterest:n,removeInterest:s,isInterested:i,getInterests:a},children:t})}function Bx(){const t=j.useContext(Im);if(t===void 0)throw new Error("useInterest must be used within an InterestProvider");return t}function Fx(){const{pathname:t}=hs();return j.useEffect(()=>{window.scrollTo(0,0)},[t]),null}function Vx(){return l.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:l.jsx("div",{className:"w-full max-w-2xl",children:l.jsx(Rm,{})})})}var _i=t=>t.type==="checkbox",nn=t=>t instanceof Date,st=t=>t==null;const Lm=t=>typeof t=="object";var Oe=t=>!st(t)&&!Array.isArray(t)&&Lm(t)&&!nn(t),zx=t=>Oe(t)&&t.target?_i(t.target)?t.target.checked:t.target.value:t,Wx=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,Hx=(t,e)=>t.has(Wx(e)),qx=t=>{const e=t.constructor&&t.constructor.prototype;return Oe(e)&&e.hasOwnProperty("isPrototypeOf")},vc=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function De(t){let e;const r=Array.isArray(t),n=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)e=new Date(t);else if(!(vc&&(t instanceof Blob||n))&&(r||Oe(t)))if(e=r?[]:Object.create(Object.getPrototypeOf(t)),!r&&!qx(t))e=t;else for(const s in t)t.hasOwnProperty(s)&&(e[s]=De(t[s]));else return t;return e}var uo=t=>/^\w*$/.test(t),be=t=>t===void 0,xc=t=>Array.isArray(t)?t.filter(Boolean):[],wc=t=>xc(t.replace(/["|']|\]/g,"").split(/\.|\[/)),U=(t,e,r)=>{if(!e||!Oe(t))return r;const n=(uo(e)?[e]:wc(e)).reduce((s,i)=>st(s)?s:s[i],t);return be(n)||n===t?be(t[e])?r:t[e]:n},Wt=t=>typeof t=="boolean",ae=(t,e,r)=>{let n=-1;const s=uo(e)?[e]:wc(e),i=s.length,a=i-1;for(;++n<i;){const o=s[n];let u=r;if(n!==a){const c=t[o];u=Oe(c)||Array.isArray(c)?c:isNaN(+s[n+1])?{}:[]}if(o==="__proto__"||o==="constructor"||o==="prototype")return;t[o]=u,t=t[o]}};const sh={BLUR:"blur",FOCUS_OUT:"focusout"},Dt={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Yt={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},Kx=Qe.createContext(null);Kx.displayName="HookFormContext";var Zx=(t,e,r,n=!0)=>{const s={defaultValues:e._defaultValues};for(const i in t)Object.defineProperty(s,i,{get:()=>{const a=i;return e._proxyFormState[a]!==Dt.all&&(e._proxyFormState[a]=!n||Dt.all),t[a]}});return s};const Gx=typeof window<"u"?Qe.useLayoutEffect:Qe.useEffect;var ht=t=>typeof t=="string",Jx=(t,e,r,n,s)=>ht(t)?(n&&e.watch.add(t),U(r,t,s)):Array.isArray(t)?t.map(i=>(n&&e.watch.add(i),U(r,i))):(n&&(e.watchAll=!0),r),tu=t=>st(t)||!Lm(t);function _r(t,e,r=new WeakSet){if(tu(t)||tu(e))return Object.is(t,e);if(nn(t)&&nn(e))return t.getTime()===e.getTime();const n=Object.keys(t),s=Object.keys(e);if(n.length!==s.length)return!1;if(r.has(t)||r.has(e))return!0;r.add(t),r.add(e);for(const i of n){const a=t[i];if(!s.includes(i))return!1;if(i!=="ref"){const o=e[i];if(nn(a)&&nn(o)||Oe(a)&&Oe(o)||Array.isArray(a)&&Array.isArray(o)?!_r(a,o,r):!Object.is(a,o))return!1}}return!0}var $m=(t,e,r,n,s)=>e?{...r[t],types:{...r[t]&&r[t].types?r[t].types:{},[n]:s||!0}}:{},Fs=t=>Array.isArray(t)?t:[t],ih=()=>{let t=[];return{get observers(){return t},next:s=>{for(const i of t)i.next&&i.next(s)},subscribe:s=>(t.push(s),{unsubscribe:()=>{t=t.filter(i=>i!==s)}}),unsubscribe:()=>{t=[]}}};function Dm(t,e){const r={};for(const n in t)if(t.hasOwnProperty(n)){const s=t[n],i=e[n];if(s&&Oe(s)&&i){const a=Dm(s,i);Oe(a)&&(r[n]=a)}else t[n]&&(r[n]=i)}return r}var Je=t=>Oe(t)&&!Object.keys(t).length,_c=t=>t.type==="file",Ut=t=>typeof t=="function",Aa=t=>{if(!vc)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},Um=t=>t.type==="select-multiple",bc=t=>t.type==="radio",Qx=t=>bc(t)||_i(t),Zo=t=>Aa(t)&&t.isConnected;function Yx(t,e){const r=e.slice(0,-1).length;let n=0;for(;n<r;)t=be(t)?n++:t[e[n++]];return t}function Xx(t){for(const e in t)if(t.hasOwnProperty(e)&&!be(t[e]))return!1;return!0}function Ee(t,e){const r=Array.isArray(e)?e:uo(e)?[e]:wc(e),n=r.length===1?t:Yx(t,r),s=r.length-1,i=r[s];return n&&delete n[i],s!==0&&(Oe(n)&&Je(n)||Array.isArray(n)&&Xx(n))&&Ee(t,r.slice(0,-1)),t}var ew=t=>{for(const e in t)if(Ut(t[e]))return!0;return!1};function Mm(t){return Array.isArray(t)||Oe(t)&&!ew(t)}function ru(t,e={}){for(const r in t){const n=t[r];Mm(n)?(e[r]=Array.isArray(n)?[]:{},ru(n,e[r])):be(n)||(e[r]=!0)}return e}function Sn(t,e,r){r||(r=ru(e));for(const n in t){const s=t[n];if(Mm(s))be(e)||tu(r[n])?r[n]=ru(s,Array.isArray(s)?[]:{}):Sn(s,st(e)?{}:e[n],r[n]);else{const i=e[n];r[n]=!_r(s,i)}}return r}const ah={value:!1,isValid:!1},oh={value:!0,isValid:!0};var Bm=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!be(t[0].attributes.value)?be(t[0].value)||t[0].value===""?oh:{value:t[0].value,isValid:!0}:oh:ah}return ah},Fm=(t,{valueAsNumber:e,valueAsDate:r,setValueAs:n})=>be(t)?t:e?t===""?NaN:t&&+t:r&&ht(t)?new Date(t):n?n(t):t;const lh={isValid:!1,value:null};var Vm=t=>Array.isArray(t)?t.reduce((e,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:e,lh):lh;function uh(t){const e=t.ref;return _c(e)?e.files:bc(e)?Vm(t.refs).value:Um(e)?[...e.selectedOptions].map(({value:r})=>r):_i(e)?Bm(t.refs).value:Fm(be(e.value)?t.ref.value:e.value,t)}var tw=(t,e,r,n)=>{const s={};for(const i of t){const a=U(e,i);a&&ae(s,i,a._f)}return{criteriaMode:r,names:[...t],fields:s,shouldUseNativeValidation:n}},Ia=t=>t instanceof RegExp,js=t=>be(t)?t:Ia(t)?t.source:Oe(t)?Ia(t.value)?t.value.source:t.value:t,ch=t=>({isOnSubmit:!t||t===Dt.onSubmit,isOnBlur:t===Dt.onBlur,isOnChange:t===Dt.onChange,isOnAll:t===Dt.all,isOnTouch:t===Dt.onTouched});const dh="AsyncFunction";var rw=t=>!!t&&!!t.validate&&!!(Ut(t.validate)&&t.validate.constructor.name===dh||Oe(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===dh)),nw=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),hh=(t,e,r)=>!r&&(e.watchAll||e.watch.has(t)||[...e.watch].some(n=>t.startsWith(n)&&/^\.\w+/.test(t.slice(n.length))));const Vs=(t,e,r,n)=>{for(const s of r||Object.keys(t)){const i=U(t,s);if(i){const{_f:a,...o}=i;if(a){if(a.refs&&a.refs[0]&&e(a.refs[0],s)&&!n)return!0;if(a.ref&&e(a.ref,a.name)&&!n)return!0;if(Vs(o,e))break}else if(Oe(o)&&Vs(o,e))break}}};function fh(t,e,r){const n=U(t,r);if(n||uo(r))return{error:n,name:r};const s=r.split(".");for(;s.length;){const i=s.join("."),a=U(e,i),o=U(t,i);if(a&&!Array.isArray(a)&&r!==i)return{name:r};if(o&&o.type)return{name:i,error:o};if(o&&o.root&&o.root.type)return{name:`${i}.root`,error:o.root};s.pop()}return{name:r}}var sw=(t,e,r,n)=>{r(t);const{name:s,...i}=t;return Je(i)||Object.keys(i).length>=Object.keys(e).length||Object.keys(i).find(a=>e[a]===(!n||Dt.all))},iw=(t,e,r)=>!t||!e||t===e||Fs(t).some(n=>n&&(r?n===e:n.startsWith(e)||e.startsWith(n))),aw=(t,e,r,n,s)=>s.isOnAll?!1:!r&&s.isOnTouch?!(e||t):(r?n.isOnBlur:s.isOnBlur)?!t:(r?n.isOnChange:s.isOnChange)?t:!0,ow=(t,e)=>!xc(U(t,e)).length&&Ee(t,e),lw=(t,e,r)=>{const n=Fs(U(t,r));return ae(n,"root",e[r]),ae(t,r,n),t};function ph(t,e,r="validate"){if(ht(t)||Array.isArray(t)&&t.every(ht)||Wt(t)&&!t)return{type:r,message:ht(t)?t:"",ref:e}}var xn=t=>Oe(t)&&!Ia(t)?t:{value:t,message:""},mh=async(t,e,r,n,s,i)=>{const{ref:a,refs:o,required:u,maxLength:c,minLength:d,min:h,max:f,pattern:p,validate:x,name:y,valueAsNumber:w,mount:g}=t._f,m=U(r,y);if(!g||e.has(y))return{};const v=o?o[0]:a,b=Q=>{s&&v.reportValidity&&(v.setCustomValidity(Wt(Q)?"":Q||""),v.reportValidity())},E={},T=bc(a),N=_i(a),A=T||N,Z=(w||_c(a))&&be(a.value)&&be(m)||Aa(a)&&a.value===""||m===""||Array.isArray(m)&&!m.length,G=$m.bind(null,y,n,E),we=(Q,ee,fe,Be=Yt.maxLength,$e=Yt.minLength)=>{const nt=Q?ee:fe;E[y]={type:Q?Be:$e,message:nt,ref:a,...G(Q?Be:$e,nt)}};if(i?!Array.isArray(m)||!m.length:u&&(!A&&(Z||st(m))||Wt(m)&&!m||N&&!Bm(o).isValid||T&&!Vm(o).isValid)){const{value:Q,message:ee}=ht(u)?{value:!!u,message:u}:xn(u);if(Q&&(E[y]={type:Yt.required,message:ee,ref:v,...G(Yt.required,ee)},!n))return b(ee),E}if(!Z&&(!st(h)||!st(f))){let Q,ee;const fe=xn(f),Be=xn(h);if(!st(m)&&!isNaN(m)){const $e=a.valueAsNumber||m&&+m;st(fe.value)||(Q=$e>fe.value),st(Be.value)||(ee=$e<Be.value)}else{const $e=a.valueAsDate||new Date(m),nt=J=>new Date(new Date().toDateString()+" "+J),I=a.type=="time",H=a.type=="week";ht(fe.value)&&m&&(Q=I?nt(m)>nt(fe.value):H?m>fe.value:$e>new Date(fe.value)),ht(Be.value)&&m&&(ee=I?nt(m)<nt(Be.value):H?m<Be.value:$e<new Date(Be.value))}if((Q||ee)&&(we(!!Q,fe.message,Be.message,Yt.max,Yt.min),!n))return b(E[y].message),E}if((c||d)&&!Z&&(ht(m)||i&&Array.isArray(m))){const Q=xn(c),ee=xn(d),fe=!st(Q.value)&&m.length>+Q.value,Be=!st(ee.value)&&m.length<+ee.value;if((fe||Be)&&(we(fe,Q.message,ee.message),!n))return b(E[y].message),E}if(p&&!Z&&ht(m)){const{value:Q,message:ee}=xn(p);if(Ia(Q)&&!m.match(Q)&&(E[y]={type:Yt.pattern,message:ee,ref:a,...G(Yt.pattern,ee)},!n))return b(ee),E}if(x){if(Ut(x)){const Q=await x(m,r),ee=ph(Q,v);if(ee&&(E[y]={...ee,...G(Yt.validate,ee.message)},!n))return b(ee.message),E}else if(Oe(x)){let Q={};for(const ee in x){if(!Je(Q)&&!n)break;const fe=ph(await x[ee](m,r),v,ee);fe&&(Q={...fe,...G(ee,fe.message)},b(fe.message),n&&(E[y]=Q))}if(!Je(Q)&&(E[y]={ref:v,...Q},!n))return E}}return b(!0),E};const uw={mode:Dt.onSubmit,reValidateMode:Dt.onChange,shouldFocusError:!0};function cw(t={}){let e={...uw,...t},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:Ut(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},n={},s=Oe(e.defaultValues)||Oe(e.values)?De(e.defaultValues||e.values)||{}:{},i=e.shouldUnregister?{}:De(s),a={action:!1,mount:!1,watch:!1},o={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},u,c=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let h={...d};const f={array:ih(),state:ih()},p=e.criteriaMode===Dt.all,x=_=>k=>{clearTimeout(c),c=setTimeout(_,k)},y=async _=>{if(!e.disabled&&(d.isValid||h.isValid||_)){const k=e.resolver?Je((await N()).errors):await Z(n,!0);k!==r.isValid&&f.state.next({isValid:k})}},w=(_,k)=>{!e.disabled&&(d.isValidating||d.validatingFields||h.isValidating||h.validatingFields)&&((_||Array.from(o.mount)).forEach(S=>{S&&(k?ae(r.validatingFields,S,k):Ee(r.validatingFields,S))}),f.state.next({validatingFields:r.validatingFields,isValidating:!Je(r.validatingFields)}))},g=(_,k=[],S,$,R=!0,O=!0)=>{if($&&S&&!e.disabled){if(a.action=!0,O&&Array.isArray(U(n,_))){const z=S(U(n,_),$.argA,$.argB);R&&ae(n,_,z)}if(O&&Array.isArray(U(r.errors,_))){const z=S(U(r.errors,_),$.argA,$.argB);R&&ae(r.errors,_,z),ow(r.errors,_)}if((d.touchedFields||h.touchedFields)&&O&&Array.isArray(U(r.touchedFields,_))){const z=S(U(r.touchedFields,_),$.argA,$.argB);R&&ae(r.touchedFields,_,z)}(d.dirtyFields||h.dirtyFields)&&(r.dirtyFields=Sn(s,i)),f.state.next({name:_,isDirty:we(_,k),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else ae(i,_,k)},m=(_,k)=>{ae(r.errors,_,k),f.state.next({errors:r.errors})},v=_=>{r.errors=_,f.state.next({errors:r.errors,isValid:!1})},b=(_,k,S,$)=>{const R=U(n,_);if(R){const O=U(i,_,be(S)?U(s,_):S);be(O)||$&&$.defaultChecked||k?ae(i,_,k?O:uh(R._f)):fe(_,O),a.mount&&!a.action&&y()}},E=(_,k,S,$,R)=>{let O=!1,z=!1;const se={name:_};if(!e.disabled){if(!S||$){(d.isDirty||h.isDirty)&&(z=r.isDirty,r.isDirty=se.isDirty=we(),O=z!==se.isDirty);const oe=_r(U(s,_),k);z=!!U(r.dirtyFields,_),oe?Ee(r.dirtyFields,_):ae(r.dirtyFields,_,!0),se.dirtyFields=r.dirtyFields,O=O||(d.dirtyFields||h.dirtyFields)&&z!==!oe}if(S){const oe=U(r.touchedFields,_);oe||(ae(r.touchedFields,_,S),se.touchedFields=r.touchedFields,O=O||(d.touchedFields||h.touchedFields)&&oe!==S)}O&&R&&f.state.next(se)}return O?se:{}},T=(_,k,S,$)=>{const R=U(r.errors,_),O=(d.isValid||h.isValid)&&Wt(k)&&r.isValid!==k;if(e.delayError&&S?(u=x(()=>m(_,S)),u(e.delayError)):(clearTimeout(c),u=null,S?ae(r.errors,_,S):Ee(r.errors,_)),(S?!_r(R,S):R)||!Je($)||O){const z={...$,...O&&Wt(k)?{isValid:k}:{},errors:r.errors,name:_};r={...r,...z},f.state.next(z)}},N=async _=>{w(_,!0);const k=await e.resolver(i,e.context,tw(_||o.mount,n,e.criteriaMode,e.shouldUseNativeValidation));return w(_),k},A=async _=>{const{errors:k}=await N(_);if(_)for(const S of _){const $=U(k,S);$?ae(r.errors,S,$):Ee(r.errors,S)}else r.errors=k;return k},Z=async(_,k,S={valid:!0})=>{for(const $ in _){const R=_[$];if(R){const{_f:O,...z}=R;if(O){const se=o.array.has(O.name),oe=R._f&&rw(R._f);oe&&d.validatingFields&&w([O.name],!0);const _t=await mh(R,o.disabled,i,p,e.shouldUseNativeValidation&&!k,se);if(oe&&d.validatingFields&&w([O.name]),_t[O.name]&&(S.valid=!1,k))break;!k&&(U(_t,O.name)?se?lw(r.errors,_t,O.name):ae(r.errors,O.name,_t[O.name]):Ee(r.errors,O.name))}!Je(z)&&await Z(z,k,S)}}return S.valid},G=()=>{for(const _ of o.unMount){const k=U(n,_);k&&(k._f.refs?k._f.refs.every(S=>!Zo(S)):!Zo(k._f.ref))&&hr(_)}o.unMount=new Set},we=(_,k)=>!e.disabled&&(_&&k&&ae(i,_,k),!_r(J(),s)),Q=(_,k,S)=>Jx(_,o,{...a.mount?i:be(k)?s:ht(_)?{[_]:k}:k},S,k),ee=_=>xc(U(a.mount?i:s,_,e.shouldUnregister?U(s,_,[]):[])),fe=(_,k,S={})=>{const $=U(n,_);let R=k;if($){const O=$._f;O&&(!O.disabled&&ae(i,_,Fm(k,O)),R=Aa(O.ref)&&st(k)?"":k,Um(O.ref)?[...O.ref.options].forEach(z=>z.selected=R.includes(z.value)):O.refs?_i(O.ref)?O.refs.forEach(z=>{(!z.defaultChecked||!z.disabled)&&(Array.isArray(R)?z.checked=!!R.find(se=>se===z.value):z.checked=R===z.value||!!R)}):O.refs.forEach(z=>z.checked=z.value===R):_c(O.ref)?O.ref.value="":(O.ref.value=R,O.ref.type||f.state.next({name:_,values:De(i)})))}(S.shouldDirty||S.shouldTouch)&&E(_,R,S.shouldTouch,S.shouldDirty,!0),S.shouldValidate&&H(_)},Be=(_,k,S)=>{for(const $ in k){if(!k.hasOwnProperty($))return;const R=k[$],O=_+"."+$,z=U(n,O);(o.array.has(_)||Oe(R)||z&&!z._f)&&!nn(R)?Be(O,R,S):fe(O,R,S)}},$e=(_,k,S={})=>{const $=U(n,_),R=o.array.has(_),O=De(k);ae(i,_,O),R?(f.array.next({name:_,values:De(i)}),(d.isDirty||d.dirtyFields||h.isDirty||h.dirtyFields)&&S.shouldDirty&&f.state.next({name:_,dirtyFields:Sn(s,i),isDirty:we(_,O)})):$&&!$._f&&!st(O)?Be(_,O,S):fe(_,O,S),hh(_,o)&&f.state.next({...r,name:_}),f.state.next({name:a.mount?_:void 0,values:De(i)})},nt=async _=>{a.mount=!0;const k=_.target;let S=k.name,$=!0;const R=U(n,S),O=oe=>{$=Number.isNaN(oe)||nn(oe)&&isNaN(oe.getTime())||_r(oe,U(i,S,oe))},z=ch(e.mode),se=ch(e.reValidateMode);if(R){let oe,_t;const ki=k.type?uh(R._f):zx(_),fr=_.type===sh.BLUR||_.type===sh.FOCUS_OUT,ry=!nw(R._f)&&!e.resolver&&!U(r.errors,S)&&!R._f.deps||aw(fr,U(r.touchedFields,S),r.isSubmitted,se,z),xo=hh(S,o,fr);ae(i,S,ki),fr?(!k||!k.readOnly)&&(R._f.onBlur&&R._f.onBlur(_),u&&u(0)):R._f.onChange&&R._f.onChange(_);const wo=E(S,ki,fr),ny=!Je(wo)||xo;if(!fr&&f.state.next({name:S,type:_.type,values:De(i)}),ry)return(d.isValid||h.isValid)&&(e.mode==="onBlur"?fr&&y():fr||y()),ny&&f.state.next({name:S,...xo?{}:wo});if(!fr&&xo&&f.state.next({...r}),e.resolver){const{errors:Uc}=await N([S]);if(O(ki),$){const sy=fh(r.errors,n,S),Mc=fh(Uc,n,sy.name||S);oe=Mc.error,S=Mc.name,_t=Je(Uc)}}else w([S],!0),oe=(await mh(R,o.disabled,i,p,e.shouldUseNativeValidation))[S],w([S]),O(ki),$&&(oe?_t=!1:(d.isValid||h.isValid)&&(_t=await Z(n,!0)));$&&(R._f.deps&&(!Array.isArray(R._f.deps)||R._f.deps.length>0)&&H(R._f.deps),T(S,_t,oe,wo))}},I=(_,k)=>{if(U(r.errors,k)&&_.focus)return _.focus(),1},H=async(_,k={})=>{let S,$;const R=Fs(_);if(e.resolver){const O=await A(be(_)?_:R);S=Je(O),$=_?!R.some(z=>U(O,z)):S}else _?($=(await Promise.all(R.map(async O=>{const z=U(n,O);return await Z(z&&z._f?{[O]:z}:z)}))).every(Boolean),!(!$&&!r.isValid)&&y()):$=S=await Z(n);return f.state.next({...!ht(_)||(d.isValid||h.isValid)&&S!==r.isValid?{}:{name:_},...e.resolver||!_?{isValid:S}:{},errors:r.errors}),k.shouldFocus&&!$&&Vs(n,I,_?R:o.mount),$},J=(_,k)=>{let S={...a.mount?i:s};return k&&(S=Dm(k.dirtyFields?r.dirtyFields:r.touchedFields,S)),be(_)?S:ht(_)?U(S,_):_.map($=>U(S,$))},pe=(_,k)=>({invalid:!!U((k||r).errors,_),isDirty:!!U((k||r).dirtyFields,_),error:U((k||r).errors,_),isValidating:!!U(r.validatingFields,_),isTouched:!!U((k||r).touchedFields,_)}),Se=_=>{_&&Fs(_).forEach(k=>Ee(r.errors,k)),f.state.next({errors:_?r.errors:{}})},Hr=(_,k,S)=>{const $=(U(n,_,{_f:{}})._f||{}).ref,R=U(r.errors,_)||{},{ref:O,message:z,type:se,...oe}=R;ae(r.errors,_,{...oe,...k,ref:$}),f.state.next({name:_,errors:r.errors,isValid:!1}),S&&S.shouldFocus&&$&&$.focus&&$.focus()},Jt=(_,k)=>Ut(_)?f.state.subscribe({next:S=>"values"in S&&_(Q(void 0,k),S)}):Q(_,k,!0),yn=_=>f.state.subscribe({next:k=>{iw(_.name,k.name,_.exact)&&sw(k,_.formState||d,ty,_.reRenderRoot)&&_.callback({values:{...i},...r,...k,defaultValues:s})}}).unsubscribe,Qt=_=>(a.mount=!0,h={...h,..._.formState},yn({..._,formState:h})),hr=(_,k={})=>{for(const S of _?Fs(_):o.mount)o.mount.delete(S),o.array.delete(S),k.keepValue||(Ee(n,S),Ee(i,S)),!k.keepError&&Ee(r.errors,S),!k.keepDirty&&Ee(r.dirtyFields,S),!k.keepTouched&&Ee(r.touchedFields,S),!k.keepIsValidating&&Ee(r.validatingFields,S),!e.shouldUnregister&&!k.keepDefaultValue&&Ee(s,S);f.state.next({values:De(i)}),f.state.next({...r,...k.keepDirty?{isDirty:we()}:{}}),!k.keepIsValid&&y()},Ac=({disabled:_,name:k})=>{(Wt(_)&&a.mount||_||o.disabled.has(k))&&(_?o.disabled.add(k):o.disabled.delete(k))},yo=(_,k={})=>{let S=U(n,_);const $=Wt(k.disabled)||Wt(e.disabled);return ae(n,_,{...S||{},_f:{...S&&S._f?S._f:{ref:{name:_}},name:_,mount:!0,...k}}),o.mount.add(_),S?Ac({disabled:Wt(k.disabled)?k.disabled:e.disabled,name:_}):b(_,!0,k.value),{...$?{disabled:k.disabled||e.disabled}:{},...e.progressive?{required:!!k.required,min:js(k.min),max:js(k.max),minLength:js(k.minLength),maxLength:js(k.maxLength),pattern:js(k.pattern)}:{},name:_,onChange:nt,onBlur:nt,ref:R=>{if(R){yo(_,k),S=U(n,_);const O=be(R.value)&&R.querySelectorAll&&R.querySelectorAll("input,select,textarea")[0]||R,z=Qx(O),se=S._f.refs||[];if(z?se.find(oe=>oe===O):O===S._f.ref)return;ae(n,_,{_f:{...S._f,...z?{refs:[...se.filter(Zo),O,...Array.isArray(U(s,_))?[{}]:[]],ref:{type:O.type,name:_}}:{ref:O}}}),b(_,!1,void 0,O)}else S=U(n,_,{}),S._f&&(S._f.mount=!1),(e.shouldUnregister||k.shouldUnregister)&&!(Hx(o.array,_)&&a.action)&&o.unMount.add(_)}}},vo=()=>e.shouldFocusError&&Vs(n,I,o.mount),Yg=_=>{Wt(_)&&(f.state.next({disabled:_}),Vs(n,(k,S)=>{const $=U(n,S);$&&(k.disabled=$._f.disabled||_,Array.isArray($._f.refs)&&$._f.refs.forEach(R=>{R.disabled=$._f.disabled||_}))},0,!1))},Ic=(_,k)=>async S=>{let $;S&&(S.preventDefault&&S.preventDefault(),S.persist&&S.persist());let R=De(i);if(f.state.next({isSubmitting:!0}),e.resolver){const{errors:O,values:z}=await N();r.errors=O,R=De(z)}else await Z(n);if(o.disabled.size)for(const O of o.disabled)Ee(R,O);if(Ee(r.errors,"root"),Je(r.errors)){f.state.next({errors:{}});try{await _(R,S)}catch(O){$=O}}else k&&await k({...r.errors},S),vo(),setTimeout(vo);if(f.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Je(r.errors)&&!$,submitCount:r.submitCount+1,errors:r.errors}),$)throw $},Xg=(_,k={})=>{U(n,_)&&(be(k.defaultValue)?$e(_,De(U(s,_))):($e(_,k.defaultValue),ae(s,_,De(k.defaultValue))),k.keepTouched||Ee(r.touchedFields,_),k.keepDirty||(Ee(r.dirtyFields,_),r.isDirty=k.defaultValue?we(_,De(U(s,_))):we()),k.keepError||(Ee(r.errors,_),d.isValid&&y()),f.state.next({...r}))},Lc=(_,k={})=>{const S=_?De(_):s,$=De(S),R=Je(_),O=R?s:$;if(k.keepDefaultValues||(s=S),!k.keepValues){if(k.keepDirtyValues){const z=new Set([...o.mount,...Object.keys(Sn(s,i))]);for(const se of Array.from(z))U(r.dirtyFields,se)?ae(O,se,U(i,se)):$e(se,U(O,se))}else{if(vc&&be(_))for(const z of o.mount){const se=U(n,z);if(se&&se._f){const oe=Array.isArray(se._f.refs)?se._f.refs[0]:se._f.ref;if(Aa(oe)){const _t=oe.closest("form");if(_t){_t.reset();break}}}}if(k.keepFieldsRef)for(const z of o.mount)$e(z,U(O,z));else n={}}i=e.shouldUnregister?k.keepDefaultValues?De(s):{}:De(O),f.array.next({values:{...O}}),f.state.next({values:{...O}})}o={mount:k.keepDirtyValues?o.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},a.mount=!d.isValid||!!k.keepIsValid||!!k.keepDirtyValues||!e.shouldUnregister&&!Je(O),a.watch=!!e.shouldUnregister,f.state.next({submitCount:k.keepSubmitCount?r.submitCount:0,isDirty:R?!1:k.keepDirty?r.isDirty:!!(k.keepDefaultValues&&!_r(_,s)),isSubmitted:k.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:R?{}:k.keepDirtyValues?k.keepDefaultValues&&i?Sn(s,i):r.dirtyFields:k.keepDefaultValues&&_?Sn(s,_):k.keepDirty?r.dirtyFields:{},touchedFields:k.keepTouched?r.touchedFields:{},errors:k.keepErrors?r.errors:{},isSubmitSuccessful:k.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:s})},$c=(_,k)=>Lc(Ut(_)?_(i):_,k),ey=(_,k={})=>{const S=U(n,_),$=S&&S._f;if($){const R=$.refs?$.refs[0]:$.ref;R.focus&&(R.focus(),k.shouldSelect&&Ut(R.select)&&R.select())}},ty=_=>{r={...r,..._}},Dc={control:{register:yo,unregister:hr,getFieldState:pe,handleSubmit:Ic,setError:Hr,_subscribe:yn,_runSchema:N,_focusError:vo,_getWatch:Q,_getDirty:we,_setValid:y,_setFieldArray:g,_setDisabledField:Ac,_setErrors:v,_getFieldArray:ee,_reset:Lc,_resetDefaultValues:()=>Ut(e.defaultValues)&&e.defaultValues().then(_=>{$c(_,e.resetOptions),f.state.next({isLoading:!1})}),_removeUnmounted:G,_disableForm:Yg,_subjects:f,_proxyFormState:d,get _fields(){return n},get _formValues(){return i},get _state(){return a},set _state(_){a=_},get _defaultValues(){return s},get _names(){return o},set _names(_){o=_},get _formState(){return r},get _options(){return e},set _options(_){e={...e,..._}}},subscribe:Qt,trigger:H,register:yo,handleSubmit:Ic,watch:Jt,setValue:$e,getValues:J,reset:$c,resetField:Xg,clearErrors:Se,unregister:hr,setError:Hr,setFocus:ey,getFieldState:pe};return{...Dc,formControl:Dc}}function co(t={}){const e=Qe.useRef(void 0),r=Qe.useRef(void 0),[n,s]=Qe.useState({isDirty:!1,isValidating:!1,isLoading:Ut(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,isReady:!1,defaultValues:Ut(t.defaultValues)?void 0:t.defaultValues});if(!e.current)if(t.formControl)e.current={...t.formControl,formState:n},t.defaultValues&&!Ut(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions);else{const{formControl:a,...o}=cw(t);e.current={...o,formState:n}}const i=e.current.control;return i._options=t,Gx(()=>{const a=i._subscribe({formState:i._proxyFormState,callback:()=>s({...i._formState}),reRenderRoot:!0});return s(o=>({...o,isReady:!0})),i._formState.isReady=!0,a},[i]),Qe.useEffect(()=>i._disableForm(t.disabled),[i,t.disabled]),Qe.useEffect(()=>{t.mode&&(i._options.mode=t.mode),t.reValidateMode&&(i._options.reValidateMode=t.reValidateMode)},[i,t.mode,t.reValidateMode]),Qe.useEffect(()=>{t.errors&&(i._setErrors(t.errors),i._focusError())},[i,t.errors]),Qe.useEffect(()=>{t.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})},[i,t.shouldUnregister]),Qe.useEffect(()=>{if(i._proxyFormState.isDirty){const a=i._getDirty();a!==n.isDirty&&i._subjects.state.next({isDirty:a})}},[i,n.isDirty]),Qe.useEffect(()=>{var a;t.values&&!_r(t.values,r.current)?(i._reset(t.values,{keepFieldsRef:!0,...i._options.resetOptions}),!((a=i._options.resetOptions)===null||a===void 0)&&a.keepIsValid||i._setValid(),r.current=t.values,s(o=>({...o}))):i._resetDefaultValues()},[i,t.values]),Qe.useEffect(()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),e.current.formState=Zx(n,i),e.current}const gh=(t,e,r)=>{if(t&&"reportValidity"in t){const n=U(r,e);t.setCustomValidity(n&&n.message||""),t.reportValidity()}},zm=(t,e)=>{for(const r in e.fields){const n=e.fields[r];n&&n.ref&&"reportValidity"in n.ref?gh(n.ref,r,t):n.refs&&n.refs.forEach(s=>gh(s,r,t))}},dw=(t,e)=>{e.shouldUseNativeValidation&&zm(t,e);const r={};for(const n in t){const s=U(e.fields,n),i=Object.assign(t[n]||{},{ref:s&&s.ref});if(hw(e.names||Object.keys(t),n)){const a=Object.assign({},U(r,n));ae(a,"root",i),ae(r,n,a)}else ae(r,n,i)}return r},hw=(t,e)=>t.some(r=>r.startsWith(e+"."));var fw=function(t,e){for(var r={};t.length;){var n=t[0],s=n.code,i=n.message,a=n.path.join(".");if(!r[a])if("unionErrors"in n){var o=n.unionErrors[0].errors[0];r[a]={message:o.message,type:o.code}}else r[a]={message:i,type:s};if("unionErrors"in n&&n.unionErrors.forEach(function(d){return d.errors.forEach(function(h){return t.push(h)})}),e){var u=r[a].types,c=u&&u[n.code];r[a]=$m(a,e,r,s,c?[].concat(c,n.message):n.message)}t.shift()}return r},ho=function(t,e,r){return r===void 0&&(r={}),function(n,s,i){try{return Promise.resolve(function(a,o){try{var u=Promise.resolve(t[r.mode==="sync"?"parse":"parseAsync"](n,e)).then(function(c){return i.shouldUseNativeValidation&&zm({},i),{errors:{},values:r.raw?n:c}})}catch(c){return o(c)}return u&&u.then?u.then(void 0,o):u}(0,function(a){if(function(o){return Array.isArray(o==null?void 0:o.errors)}(a))return{values:{},errors:dw(fw(a.errors,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw a}))}catch(a){return Promise.reject(a)}}},ne;(function(t){t.assertEqual=s=>{};function e(s){}t.assertIs=e;function r(s){throw new Error}t.assertNever=r,t.arrayToEnum=s=>{const i={};for(const a of s)i[a]=a;return i},t.getValidEnumValues=s=>{const i=t.objectKeys(s).filter(o=>typeof s[s[o]]!="number"),a={};for(const o of i)a[o]=s[o];return t.objectValues(a)},t.objectValues=s=>t.objectKeys(s).map(function(i){return s[i]}),t.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const i=[];for(const a in s)Object.prototype.hasOwnProperty.call(s,a)&&i.push(a);return i},t.find=(s,i)=>{for(const a of s)if(i(a))return a},t.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&Number.isFinite(s)&&Math.floor(s)===s;function n(s,i=" | "){return s.map(a=>typeof a=="string"?`'${a}'`:a).join(i)}t.joinValues=n,t.jsonStringifyReplacer=(s,i)=>typeof i=="bigint"?i.toString():i})(ne||(ne={}));var yh;(function(t){t.mergeShapes=(e,r)=>({...e,...r})})(yh||(yh={}));const M=ne.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),vr=t=>{switch(typeof t){case"undefined":return M.undefined;case"string":return M.string;case"number":return Number.isNaN(t)?M.nan:M.number;case"boolean":return M.boolean;case"function":return M.function;case"bigint":return M.bigint;case"symbol":return M.symbol;case"object":return Array.isArray(t)?M.array:t===null?M.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?M.promise:typeof Map<"u"&&t instanceof Map?M.map:typeof Set<"u"&&t instanceof Set?M.set:typeof Date<"u"&&t instanceof Date?M.date:M.object;default:return M.unknown}},P=ne.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class ur extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=e}format(e){const r=e||function(i){return i.message},n={_errors:[]},s=i=>{for(const a of i.issues)if(a.code==="invalid_union")a.unionErrors.map(s);else if(a.code==="invalid_return_type")s(a.returnTypeError);else if(a.code==="invalid_arguments")s(a.argumentsError);else if(a.path.length===0)n._errors.push(r(a));else{let o=n,u=0;for(;u<a.path.length;){const c=a.path[u];u===a.path.length-1?(o[c]=o[c]||{_errors:[]},o[c]._errors.push(r(a))):o[c]=o[c]||{_errors:[]},o=o[c],u++}}};return s(this),n}static assert(e){if(!(e instanceof ur))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,ne.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=r=>r.message){const r={},n=[];for(const s of this.issues)if(s.path.length>0){const i=s.path[0];r[i]=r[i]||[],r[i].push(e(s))}else n.push(e(s));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}ur.create=t=>new ur(t);const nu=(t,e)=>{let r;switch(t.code){case P.invalid_type:t.received===M.undefined?r="Required":r=`Expected ${t.expected}, received ${t.received}`;break;case P.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(t.expected,ne.jsonStringifyReplacer)}`;break;case P.unrecognized_keys:r=`Unrecognized key(s) in object: ${ne.joinValues(t.keys,", ")}`;break;case P.invalid_union:r="Invalid input";break;case P.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${ne.joinValues(t.options)}`;break;case P.invalid_enum_value:r=`Invalid enum value. Expected ${ne.joinValues(t.options)}, received '${t.received}'`;break;case P.invalid_arguments:r="Invalid function arguments";break;case P.invalid_return_type:r="Invalid function return type";break;case P.invalid_date:r="Invalid date";break;case P.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(r=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?r=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?r=`Invalid input: must end with "${t.validation.endsWith}"`:ne.assertNever(t.validation):t.validation!=="regex"?r=`Invalid ${t.validation}`:r="Invalid";break;case P.too_small:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="bigint"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:r="Invalid input";break;case P.too_big:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?r=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:r="Invalid input";break;case P.custom:r="Invalid input";break;case P.invalid_intersection_types:r="Intersection results could not be merged";break;case P.not_multiple_of:r=`Number must be a multiple of ${t.multipleOf}`;break;case P.not_finite:r="Number must be finite";break;default:r=e.defaultError,ne.assertNever(t)}return{message:r}};let pw=nu;function mw(){return pw}const gw=t=>{const{data:e,path:r,errorMaps:n,issueData:s}=t,i=[...r,...s.path||[]],a={...s,path:i};if(s.message!==void 0)return{...s,path:i,message:s.message};let o="";const u=n.filter(c=>!!c).slice().reverse();for(const c of u)o=c(a,{data:e,defaultError:o}).message;return{...s,path:i,message:o}};function L(t,e){const r=mw(),n=gw({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,r,r===nu?void 0:nu].filter(s=>!!s)});t.common.issues.push(n)}class vt{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,r){const n=[];for(const s of r){if(s.status==="aborted")return q;s.status==="dirty"&&e.dirty(),n.push(s.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,r){const n=[];for(const s of r){const i=await s.key,a=await s.value;n.push({key:i,value:a})}return vt.mergeObjectSync(e,n)}static mergeObjectSync(e,r){const n={};for(const s of r){const{key:i,value:a}=s;if(i.status==="aborted"||a.status==="aborted")return q;i.status==="dirty"&&e.dirty(),a.status==="dirty"&&e.dirty(),i.value!=="__proto__"&&(typeof a.value<"u"||s.alwaysSet)&&(n[i.value]=a.value)}return{status:e.value,value:n}}}const q=Object.freeze({status:"aborted"}),Ts=t=>({status:"dirty",value:t}),Tt=t=>({status:"valid",value:t}),vh=t=>t.status==="aborted",xh=t=>t.status==="dirty",rs=t=>t.status==="valid",La=t=>typeof Promise<"u"&&t instanceof Promise;var B;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(B||(B={}));class Mr{constructor(e,r,n,s){this._cachedPath=[],this.parent=e,this.data=r,this._path=n,this._key=s}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const wh=(t,e)=>{if(rs(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new ur(t.common.issues);return this._error=r,this._error}}};function Y(t){if(!t)return{};const{errorMap:e,invalid_type_error:r,required_error:n,description:s}=t;if(e&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:s}:{errorMap:(a,o)=>{const{message:u}=t;return a.code==="invalid_enum_value"?{message:u??o.defaultError}:typeof o.data>"u"?{message:u??n??o.defaultError}:a.code!=="invalid_type"?{message:o.defaultError}:{message:u??r??o.defaultError}},description:s}}class re{get description(){return this._def.description}_getType(e){return vr(e.data)}_getOrReturnCtx(e,r){return r||{common:e.parent.common,data:e.data,parsedType:vr(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new vt,ctx:{common:e.parent.common,data:e.data,parsedType:vr(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const r=this._parse(e);if(La(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(e){const r=this._parse(e);return Promise.resolve(r)}parse(e,r){const n=this.safeParse(e,r);if(n.success)return n.data;throw n.error}safeParse(e,r){const n={common:{issues:[],async:(r==null?void 0:r.async)??!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:vr(e)},s=this._parseSync({data:e,path:n.path,parent:n});return wh(n,s)}"~validate"(e){var n,s;const r={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:vr(e)};if(!this["~standard"].async)try{const i=this._parseSync({data:e,path:[],parent:r});return rs(i)?{value:i.value}:{issues:r.common.issues}}catch(i){(s=(n=i==null?void 0:i.message)==null?void 0:n.toLowerCase())!=null&&s.includes("encountered")&&(this["~standard"].async=!0),r.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:r}).then(i=>rs(i)?{value:i.value}:{issues:r.common.issues})}async parseAsync(e,r){const n=await this.safeParseAsync(e,r);if(n.success)return n.data;throw n.error}async safeParseAsync(e,r){const n={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:vr(e)},s=this._parse({data:e,path:n.path,parent:n}),i=await(La(s)?s:Promise.resolve(s));return wh(n,i)}refine(e,r){const n=s=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(s):r;return this._refinement((s,i)=>{const a=e(s),o=()=>i.addIssue({code:P.custom,...n(s)});return typeof Promise<"u"&&a instanceof Promise?a.then(u=>u?!0:(o(),!1)):a?!0:(o(),!1)})}refinement(e,r){return this._refinement((n,s)=>e(n)?!0:(s.addIssue(typeof r=="function"?r(n,s):r),!1))}_refinement(e){return new is({schema:this,typeName:K.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return $r.create(this,this._def)}nullable(){return as.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Zt.create(this)}promise(){return Ma.create(this,this._def)}or(e){return Da.create([this,e],this._def)}and(e){return Ua.create(this,e,this._def)}transform(e){return new is({...Y(this._def),schema:this,typeName:K.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const r=typeof e=="function"?e:()=>e;return new iu({...Y(this._def),innerType:this,defaultValue:r,typeName:K.ZodDefault})}brand(){return new Mw({typeName:K.ZodBranded,type:this,...Y(this._def)})}catch(e){const r=typeof e=="function"?e:()=>e;return new au({...Y(this._def),innerType:this,catchValue:r,typeName:K.ZodCatch})}describe(e){const r=this.constructor;return new r({...this._def,description:e})}pipe(e){return kc.create(this,e)}readonly(){return ou.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const yw=/^c[^\s-]{8,}$/i,vw=/^[0-9a-z]+$/,xw=/^[0-9A-HJKMNP-TV-Z]{26}$/i,ww=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,_w=/^[a-z0-9_-]{21}$/i,bw=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,kw=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,jw=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,Sw="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Go;const Ew=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Nw=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,Cw=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,Tw=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,Pw=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,Ow=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,Wm="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",Rw=new RegExp(`^${Wm}$`);function Hm(t){let e="[0-5]\\d";t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`);const r=t.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${r}`}function Aw(t){return new RegExp(`^${Hm(t)}$`)}function Iw(t){let e=`${Wm}T${Hm(t)}`;const r=[];return r.push(t.local?"Z?":"Z"),t.offset&&r.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${r.join("|")})`,new RegExp(`^${e}$`)}function Lw(t,e){return!!((e==="v4"||!e)&&Ew.test(t)||(e==="v6"||!e)&&Cw.test(t))}function $w(t,e){if(!bw.test(t))return!1;try{const[r]=t.split(".");if(!r)return!1;const n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),s=JSON.parse(atob(n));return!(typeof s!="object"||s===null||"typ"in s&&(s==null?void 0:s.typ)!=="JWT"||!s.alg||e&&s.alg!==e)}catch{return!1}}function Dw(t,e){return!!((e==="v4"||!e)&&Nw.test(t)||(e==="v6"||!e)&&Tw.test(t))}class Er extends re{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==M.string){const i=this._getOrReturnCtx(e);return L(i,{code:P.invalid_type,expected:M.string,received:i.parsedType}),q}const n=new vt;let s;for(const i of this._def.checks)if(i.kind==="min")e.data.length<i.value&&(s=this._getOrReturnCtx(e,s),L(s,{code:P.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="max")e.data.length>i.value&&(s=this._getOrReturnCtx(e,s),L(s,{code:P.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="length"){const a=e.data.length>i.value,o=e.data.length<i.value;(a||o)&&(s=this._getOrReturnCtx(e,s),a?L(s,{code:P.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):o&&L(s,{code:P.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),n.dirty())}else if(i.kind==="email")jw.test(e.data)||(s=this._getOrReturnCtx(e,s),L(s,{validation:"email",code:P.invalid_string,message:i.message}),n.dirty());else if(i.kind==="emoji")Go||(Go=new RegExp(Sw,"u")),Go.test(e.data)||(s=this._getOrReturnCtx(e,s),L(s,{validation:"emoji",code:P.invalid_string,message:i.message}),n.dirty());else if(i.kind==="uuid")ww.test(e.data)||(s=this._getOrReturnCtx(e,s),L(s,{validation:"uuid",code:P.invalid_string,message:i.message}),n.dirty());else if(i.kind==="nanoid")_w.test(e.data)||(s=this._getOrReturnCtx(e,s),L(s,{validation:"nanoid",code:P.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid")yw.test(e.data)||(s=this._getOrReturnCtx(e,s),L(s,{validation:"cuid",code:P.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid2")vw.test(e.data)||(s=this._getOrReturnCtx(e,s),L(s,{validation:"cuid2",code:P.invalid_string,message:i.message}),n.dirty());else if(i.kind==="ulid")xw.test(e.data)||(s=this._getOrReturnCtx(e,s),L(s,{validation:"ulid",code:P.invalid_string,message:i.message}),n.dirty());else if(i.kind==="url")try{new URL(e.data)}catch{s=this._getOrReturnCtx(e,s),L(s,{validation:"url",code:P.invalid_string,message:i.message}),n.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(e.data)||(s=this._getOrReturnCtx(e,s),L(s,{validation:"regex",code:P.invalid_string,message:i.message}),n.dirty())):i.kind==="trim"?e.data=e.data.trim():i.kind==="includes"?e.data.includes(i.value,i.position)||(s=this._getOrReturnCtx(e,s),L(s,{code:P.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),n.dirty()):i.kind==="toLowerCase"?e.data=e.data.toLowerCase():i.kind==="toUpperCase"?e.data=e.data.toUpperCase():i.kind==="startsWith"?e.data.startsWith(i.value)||(s=this._getOrReturnCtx(e,s),L(s,{code:P.invalid_string,validation:{startsWith:i.value},message:i.message}),n.dirty()):i.kind==="endsWith"?e.data.endsWith(i.value)||(s=this._getOrReturnCtx(e,s),L(s,{code:P.invalid_string,validation:{endsWith:i.value},message:i.message}),n.dirty()):i.kind==="datetime"?Iw(i).test(e.data)||(s=this._getOrReturnCtx(e,s),L(s,{code:P.invalid_string,validation:"datetime",message:i.message}),n.dirty()):i.kind==="date"?Rw.test(e.data)||(s=this._getOrReturnCtx(e,s),L(s,{code:P.invalid_string,validation:"date",message:i.message}),n.dirty()):i.kind==="time"?Aw(i).test(e.data)||(s=this._getOrReturnCtx(e,s),L(s,{code:P.invalid_string,validation:"time",message:i.message}),n.dirty()):i.kind==="duration"?kw.test(e.data)||(s=this._getOrReturnCtx(e,s),L(s,{validation:"duration",code:P.invalid_string,message:i.message}),n.dirty()):i.kind==="ip"?Lw(e.data,i.version)||(s=this._getOrReturnCtx(e,s),L(s,{validation:"ip",code:P.invalid_string,message:i.message}),n.dirty()):i.kind==="jwt"?$w(e.data,i.alg)||(s=this._getOrReturnCtx(e,s),L(s,{validation:"jwt",code:P.invalid_string,message:i.message}),n.dirty()):i.kind==="cidr"?Dw(e.data,i.version)||(s=this._getOrReturnCtx(e,s),L(s,{validation:"cidr",code:P.invalid_string,message:i.message}),n.dirty()):i.kind==="base64"?Pw.test(e.data)||(s=this._getOrReturnCtx(e,s),L(s,{validation:"base64",code:P.invalid_string,message:i.message}),n.dirty()):i.kind==="base64url"?Ow.test(e.data)||(s=this._getOrReturnCtx(e,s),L(s,{validation:"base64url",code:P.invalid_string,message:i.message}),n.dirty()):ne.assertNever(i);return{status:n.value,value:e.data}}_regex(e,r,n){return this.refinement(s=>e.test(s),{validation:r,code:P.invalid_string,...B.errToObj(n)})}_addCheck(e){return new Er({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...B.errToObj(e)})}url(e){return this._addCheck({kind:"url",...B.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...B.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...B.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...B.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...B.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...B.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...B.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...B.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...B.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...B.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...B.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...B.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(e==null?void 0:e.offset)??!1,local:(e==null?void 0:e.local)??!1,...B.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...B.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...B.errToObj(e)})}regex(e,r){return this._addCheck({kind:"regex",regex:e,...B.errToObj(r)})}includes(e,r){return this._addCheck({kind:"includes",value:e,position:r==null?void 0:r.position,...B.errToObj(r==null?void 0:r.message)})}startsWith(e,r){return this._addCheck({kind:"startsWith",value:e,...B.errToObj(r)})}endsWith(e,r){return this._addCheck({kind:"endsWith",value:e,...B.errToObj(r)})}min(e,r){return this._addCheck({kind:"min",value:e,...B.errToObj(r)})}max(e,r){return this._addCheck({kind:"max",value:e,...B.errToObj(r)})}length(e,r){return this._addCheck({kind:"length",value:e,...B.errToObj(r)})}nonempty(e){return this.min(1,B.errToObj(e))}trim(){return new Er({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Er({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Er({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxLength(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}Er.create=t=>new Er({checks:[],typeName:K.ZodString,coerce:(t==null?void 0:t.coerce)??!1,...Y(t)});function Uw(t,e){const r=(t.toString().split(".")[1]||"").length,n=(e.toString().split(".")[1]||"").length,s=r>n?r:n,i=Number.parseInt(t.toFixed(s).replace(".","")),a=Number.parseInt(e.toFixed(s).replace(".",""));return i%a/10**s}class ns extends re{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==M.number){const i=this._getOrReturnCtx(e);return L(i,{code:P.invalid_type,expected:M.number,received:i.parsedType}),q}let n;const s=new vt;for(const i of this._def.checks)i.kind==="int"?ne.isInteger(e.data)||(n=this._getOrReturnCtx(e,n),L(n,{code:P.invalid_type,expected:"integer",received:"float",message:i.message}),s.dirty()):i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(n=this._getOrReturnCtx(e,n),L(n,{code:P.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(n=this._getOrReturnCtx(e,n),L(n,{code:P.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="multipleOf"?Uw(e.data,i.value)!==0&&(n=this._getOrReturnCtx(e,n),L(n,{code:P.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):i.kind==="finite"?Number.isFinite(e.data)||(n=this._getOrReturnCtx(e,n),L(n,{code:P.not_finite,message:i.message}),s.dirty()):ne.assertNever(i);return{status:s.value,value:e.data}}gte(e,r){return this.setLimit("min",e,!0,B.toString(r))}gt(e,r){return this.setLimit("min",e,!1,B.toString(r))}lte(e,r){return this.setLimit("max",e,!0,B.toString(r))}lt(e,r){return this.setLimit("max",e,!1,B.toString(r))}setLimit(e,r,n,s){return new ns({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:B.toString(s)}]})}_addCheck(e){return new ns({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:B.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:B.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:B.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:B.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:B.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:B.toString(r)})}finite(e){return this._addCheck({kind:"finite",message:B.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:B.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:B.toString(e)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&ne.isInteger(e.value))}get isFinite(){let e=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(e===null||n.value<e)&&(e=n.value)}return Number.isFinite(r)&&Number.isFinite(e)}}ns.create=t=>new ns({checks:[],typeName:K.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...Y(t)});class ci extends re{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==M.bigint)return this._getInvalidInput(e);let n;const s=new vt;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(n=this._getOrReturnCtx(e,n),L(n,{code:P.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(n=this._getOrReturnCtx(e,n),L(n,{code:P.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="multipleOf"?e.data%i.value!==BigInt(0)&&(n=this._getOrReturnCtx(e,n),L(n,{code:P.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):ne.assertNever(i);return{status:s.value,value:e.data}}_getInvalidInput(e){const r=this._getOrReturnCtx(e);return L(r,{code:P.invalid_type,expected:M.bigint,received:r.parsedType}),q}gte(e,r){return this.setLimit("min",e,!0,B.toString(r))}gt(e,r){return this.setLimit("min",e,!1,B.toString(r))}lte(e,r){return this.setLimit("max",e,!0,B.toString(r))}lt(e,r){return this.setLimit("max",e,!1,B.toString(r))}setLimit(e,r,n,s){return new ci({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:B.toString(s)}]})}_addCheck(e){return new ci({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:B.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:B.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:B.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:B.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:B.toString(r)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}ci.create=t=>new ci({checks:[],typeName:K.ZodBigInt,coerce:(t==null?void 0:t.coerce)??!1,...Y(t)});class _h extends re{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==M.boolean){const n=this._getOrReturnCtx(e);return L(n,{code:P.invalid_type,expected:M.boolean,received:n.parsedType}),q}return Tt(e.data)}}_h.create=t=>new _h({typeName:K.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...Y(t)});class $a extends re{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==M.date){const i=this._getOrReturnCtx(e);return L(i,{code:P.invalid_type,expected:M.date,received:i.parsedType}),q}if(Number.isNaN(e.data.getTime())){const i=this._getOrReturnCtx(e);return L(i,{code:P.invalid_date}),q}const n=new vt;let s;for(const i of this._def.checks)i.kind==="min"?e.data.getTime()<i.value&&(s=this._getOrReturnCtx(e,s),L(s,{code:P.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),n.dirty()):i.kind==="max"?e.data.getTime()>i.value&&(s=this._getOrReturnCtx(e,s),L(s,{code:P.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),n.dirty()):ne.assertNever(i);return{status:n.value,value:new Date(e.data.getTime())}}_addCheck(e){return new $a({...this._def,checks:[...this._def.checks,e]})}min(e,r){return this._addCheck({kind:"min",value:e.getTime(),message:B.toString(r)})}max(e,r){return this._addCheck({kind:"max",value:e.getTime(),message:B.toString(r)})}get minDate(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e!=null?new Date(e):null}}$a.create=t=>new $a({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:K.ZodDate,...Y(t)});class bh extends re{_parse(e){if(this._getType(e)!==M.symbol){const n=this._getOrReturnCtx(e);return L(n,{code:P.invalid_type,expected:M.symbol,received:n.parsedType}),q}return Tt(e.data)}}bh.create=t=>new bh({typeName:K.ZodSymbol,...Y(t)});class kh extends re{_parse(e){if(this._getType(e)!==M.undefined){const n=this._getOrReturnCtx(e);return L(n,{code:P.invalid_type,expected:M.undefined,received:n.parsedType}),q}return Tt(e.data)}}kh.create=t=>new kh({typeName:K.ZodUndefined,...Y(t)});class jh extends re{_parse(e){if(this._getType(e)!==M.null){const n=this._getOrReturnCtx(e);return L(n,{code:P.invalid_type,expected:M.null,received:n.parsedType}),q}return Tt(e.data)}}jh.create=t=>new jh({typeName:K.ZodNull,...Y(t)});class Sh extends re{constructor(){super(...arguments),this._any=!0}_parse(e){return Tt(e.data)}}Sh.create=t=>new Sh({typeName:K.ZodAny,...Y(t)});class Eh extends re{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Tt(e.data)}}Eh.create=t=>new Eh({typeName:K.ZodUnknown,...Y(t)});class Br extends re{_parse(e){const r=this._getOrReturnCtx(e);return L(r,{code:P.invalid_type,expected:M.never,received:r.parsedType}),q}}Br.create=t=>new Br({typeName:K.ZodNever,...Y(t)});class Nh extends re{_parse(e){if(this._getType(e)!==M.undefined){const n=this._getOrReturnCtx(e);return L(n,{code:P.invalid_type,expected:M.void,received:n.parsedType}),q}return Tt(e.data)}}Nh.create=t=>new Nh({typeName:K.ZodVoid,...Y(t)});class Zt extends re{_parse(e){const{ctx:r,status:n}=this._processInputParams(e),s=this._def;if(r.parsedType!==M.array)return L(r,{code:P.invalid_type,expected:M.array,received:r.parsedType}),q;if(s.exactLength!==null){const a=r.data.length>s.exactLength.value,o=r.data.length<s.exactLength.value;(a||o)&&(L(r,{code:a?P.too_big:P.too_small,minimum:o?s.exactLength.value:void 0,maximum:a?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),n.dirty())}if(s.minLength!==null&&r.data.length<s.minLength.value&&(L(r,{code:P.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),n.dirty()),s.maxLength!==null&&r.data.length>s.maxLength.value&&(L(r,{code:P.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((a,o)=>s.type._parseAsync(new Mr(r,a,r.path,o)))).then(a=>vt.mergeArray(n,a));const i=[...r.data].map((a,o)=>s.type._parseSync(new Mr(r,a,r.path,o)));return vt.mergeArray(n,i)}get element(){return this._def.type}min(e,r){return new Zt({...this._def,minLength:{value:e,message:B.toString(r)}})}max(e,r){return new Zt({...this._def,maxLength:{value:e,message:B.toString(r)}})}length(e,r){return new Zt({...this._def,exactLength:{value:e,message:B.toString(r)}})}nonempty(e){return this.min(1,e)}}Zt.create=(t,e)=>new Zt({type:t,minLength:null,maxLength:null,exactLength:null,typeName:K.ZodArray,...Y(e)});function En(t){if(t instanceof Ce){const e={};for(const r in t.shape){const n=t.shape[r];e[r]=$r.create(En(n))}return new Ce({...t._def,shape:()=>e})}else return t instanceof Zt?new Zt({...t._def,type:En(t.element)}):t instanceof $r?$r.create(En(t.unwrap())):t instanceof as?as.create(En(t.unwrap())):t instanceof fn?fn.create(t.items.map(e=>En(e))):t}class Ce extends re{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),r=ne.objectKeys(e);return this._cached={shape:e,keys:r},this._cached}_parse(e){if(this._getType(e)!==M.object){const c=this._getOrReturnCtx(e);return L(c,{code:P.invalid_type,expected:M.object,received:c.parsedType}),q}const{status:n,ctx:s}=this._processInputParams(e),{shape:i,keys:a}=this._getCached(),o=[];if(!(this._def.catchall instanceof Br&&this._def.unknownKeys==="strip"))for(const c in s.data)a.includes(c)||o.push(c);const u=[];for(const c of a){const d=i[c],h=s.data[c];u.push({key:{status:"valid",value:c},value:d._parse(new Mr(s,h,s.path,c)),alwaysSet:c in s.data})}if(this._def.catchall instanceof Br){const c=this._def.unknownKeys;if(c==="passthrough")for(const d of o)u.push({key:{status:"valid",value:d},value:{status:"valid",value:s.data[d]}});else if(c==="strict")o.length>0&&(L(s,{code:P.unrecognized_keys,keys:o}),n.dirty());else if(c!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const c=this._def.catchall;for(const d of o){const h=s.data[d];u.push({key:{status:"valid",value:d},value:c._parse(new Mr(s,h,s.path,d)),alwaysSet:d in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const c=[];for(const d of u){const h=await d.key,f=await d.value;c.push({key:h,value:f,alwaysSet:d.alwaysSet})}return c}).then(c=>vt.mergeObjectSync(n,c)):vt.mergeObjectSync(n,u)}get shape(){return this._def.shape()}strict(e){return B.errToObj,new Ce({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(r,n)=>{var i,a;const s=((a=(i=this._def).errorMap)==null?void 0:a.call(i,r,n).message)??n.defaultError;return r.code==="unrecognized_keys"?{message:B.errToObj(e).message??s}:{message:s}}}:{}})}strip(){return new Ce({...this._def,unknownKeys:"strip"})}passthrough(){return new Ce({...this._def,unknownKeys:"passthrough"})}extend(e){return new Ce({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new Ce({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:K.ZodObject})}setKey(e,r){return this.augment({[e]:r})}catchall(e){return new Ce({...this._def,catchall:e})}pick(e){const r={};for(const n of ne.objectKeys(e))e[n]&&this.shape[n]&&(r[n]=this.shape[n]);return new Ce({...this._def,shape:()=>r})}omit(e){const r={};for(const n of ne.objectKeys(this.shape))e[n]||(r[n]=this.shape[n]);return new Ce({...this._def,shape:()=>r})}deepPartial(){return En(this)}partial(e){const r={};for(const n of ne.objectKeys(this.shape)){const s=this.shape[n];e&&!e[n]?r[n]=s:r[n]=s.optional()}return new Ce({...this._def,shape:()=>r})}required(e){const r={};for(const n of ne.objectKeys(this.shape))if(e&&!e[n])r[n]=this.shape[n];else{let i=this.shape[n];for(;i instanceof $r;)i=i._def.innerType;r[n]=i}return new Ce({...this._def,shape:()=>r})}keyof(){return qm(ne.objectKeys(this.shape))}}Ce.create=(t,e)=>new Ce({shape:()=>t,unknownKeys:"strip",catchall:Br.create(),typeName:K.ZodObject,...Y(e)});Ce.strictCreate=(t,e)=>new Ce({shape:()=>t,unknownKeys:"strict",catchall:Br.create(),typeName:K.ZodObject,...Y(e)});Ce.lazycreate=(t,e)=>new Ce({shape:t,unknownKeys:"strip",catchall:Br.create(),typeName:K.ZodObject,...Y(e)});class Da extends re{_parse(e){const{ctx:r}=this._processInputParams(e),n=this._def.options;function s(i){for(const o of i)if(o.result.status==="valid")return o.result;for(const o of i)if(o.result.status==="dirty")return r.common.issues.push(...o.ctx.common.issues),o.result;const a=i.map(o=>new ur(o.ctx.common.issues));return L(r,{code:P.invalid_union,unionErrors:a}),q}if(r.common.async)return Promise.all(n.map(async i=>{const a={...r,common:{...r.common,issues:[]},parent:null};return{result:await i._parseAsync({data:r.data,path:r.path,parent:a}),ctx:a}})).then(s);{let i;const a=[];for(const u of n){const c={...r,common:{...r.common,issues:[]},parent:null},d=u._parseSync({data:r.data,path:r.path,parent:c});if(d.status==="valid")return d;d.status==="dirty"&&!i&&(i={result:d,ctx:c}),c.common.issues.length&&a.push(c.common.issues)}if(i)return r.common.issues.push(...i.ctx.common.issues),i.result;const o=a.map(u=>new ur(u));return L(r,{code:P.invalid_union,unionErrors:o}),q}}get options(){return this._def.options}}Da.create=(t,e)=>new Da({options:t,typeName:K.ZodUnion,...Y(e)});function su(t,e){const r=vr(t),n=vr(e);if(t===e)return{valid:!0,data:t};if(r===M.object&&n===M.object){const s=ne.objectKeys(e),i=ne.objectKeys(t).filter(o=>s.indexOf(o)!==-1),a={...t,...e};for(const o of i){const u=su(t[o],e[o]);if(!u.valid)return{valid:!1};a[o]=u.data}return{valid:!0,data:a}}else if(r===M.array&&n===M.array){if(t.length!==e.length)return{valid:!1};const s=[];for(let i=0;i<t.length;i++){const a=t[i],o=e[i],u=su(a,o);if(!u.valid)return{valid:!1};s.push(u.data)}return{valid:!0,data:s}}else return r===M.date&&n===M.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class Ua extends re{_parse(e){const{status:r,ctx:n}=this._processInputParams(e),s=(i,a)=>{if(vh(i)||vh(a))return q;const o=su(i.value,a.value);return o.valid?((xh(i)||xh(a))&&r.dirty(),{status:r.value,value:o.data}):(L(n,{code:P.invalid_intersection_types}),q)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([i,a])=>s(i,a)):s(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}Ua.create=(t,e,r)=>new Ua({left:t,right:e,typeName:K.ZodIntersection,...Y(r)});class fn extends re{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==M.array)return L(n,{code:P.invalid_type,expected:M.array,received:n.parsedType}),q;if(n.data.length<this._def.items.length)return L(n,{code:P.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),q;!this._def.rest&&n.data.length>this._def.items.length&&(L(n,{code:P.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const i=[...n.data].map((a,o)=>{const u=this._def.items[o]||this._def.rest;return u?u._parse(new Mr(n,a,n.path,o)):null}).filter(a=>!!a);return n.common.async?Promise.all(i).then(a=>vt.mergeArray(r,a)):vt.mergeArray(r,i)}get items(){return this._def.items}rest(e){return new fn({...this._def,rest:e})}}fn.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new fn({items:t,typeName:K.ZodTuple,rest:null,...Y(e)})};class Ch extends re{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==M.map)return L(n,{code:P.invalid_type,expected:M.map,received:n.parsedType}),q;const s=this._def.keyType,i=this._def.valueType,a=[...n.data.entries()].map(([o,u],c)=>({key:s._parse(new Mr(n,o,n.path,[c,"key"])),value:i._parse(new Mr(n,u,n.path,[c,"value"]))}));if(n.common.async){const o=new Map;return Promise.resolve().then(async()=>{for(const u of a){const c=await u.key,d=await u.value;if(c.status==="aborted"||d.status==="aborted")return q;(c.status==="dirty"||d.status==="dirty")&&r.dirty(),o.set(c.value,d.value)}return{status:r.value,value:o}})}else{const o=new Map;for(const u of a){const c=u.key,d=u.value;if(c.status==="aborted"||d.status==="aborted")return q;(c.status==="dirty"||d.status==="dirty")&&r.dirty(),o.set(c.value,d.value)}return{status:r.value,value:o}}}}Ch.create=(t,e,r)=>new Ch({valueType:e,keyType:t,typeName:K.ZodMap,...Y(r)});class di extends re{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==M.set)return L(n,{code:P.invalid_type,expected:M.set,received:n.parsedType}),q;const s=this._def;s.minSize!==null&&n.data.size<s.minSize.value&&(L(n,{code:P.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),r.dirty()),s.maxSize!==null&&n.data.size>s.maxSize.value&&(L(n,{code:P.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),r.dirty());const i=this._def.valueType;function a(u){const c=new Set;for(const d of u){if(d.status==="aborted")return q;d.status==="dirty"&&r.dirty(),c.add(d.value)}return{status:r.value,value:c}}const o=[...n.data.values()].map((u,c)=>i._parse(new Mr(n,u,n.path,c)));return n.common.async?Promise.all(o).then(u=>a(u)):a(o)}min(e,r){return new di({...this._def,minSize:{value:e,message:B.toString(r)}})}max(e,r){return new di({...this._def,maxSize:{value:e,message:B.toString(r)}})}size(e,r){return this.min(e,r).max(e,r)}nonempty(e){return this.min(1,e)}}di.create=(t,e)=>new di({valueType:t,minSize:null,maxSize:null,typeName:K.ZodSet,...Y(e)});class Th extends re{get schema(){return this._def.getter()}_parse(e){const{ctx:r}=this._processInputParams(e);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}Th.create=(t,e)=>new Th({getter:t,typeName:K.ZodLazy,...Y(e)});class Ph extends re{_parse(e){if(e.data!==this._def.value){const r=this._getOrReturnCtx(e);return L(r,{received:r.data,code:P.invalid_literal,expected:this._def.value}),q}return{status:"valid",value:e.data}}get value(){return this._def.value}}Ph.create=(t,e)=>new Ph({value:t,typeName:K.ZodLiteral,...Y(e)});function qm(t,e){return new ss({values:t,typeName:K.ZodEnum,...Y(e)})}class ss extends re{_parse(e){if(typeof e.data!="string"){const r=this._getOrReturnCtx(e),n=this._def.values;return L(r,{expected:ne.joinValues(n),received:r.parsedType,code:P.invalid_type}),q}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const r=this._getOrReturnCtx(e),n=this._def.values;return L(r,{received:r.data,code:P.invalid_enum_value,options:n}),q}return Tt(e.data)}get options(){return this._def.values}get enum(){const e={};for(const r of this._def.values)e[r]=r;return e}get Values(){const e={};for(const r of this._def.values)e[r]=r;return e}get Enum(){const e={};for(const r of this._def.values)e[r]=r;return e}extract(e,r=this._def){return ss.create(e,{...this._def,...r})}exclude(e,r=this._def){return ss.create(this.options.filter(n=>!e.includes(n)),{...this._def,...r})}}ss.create=qm;class Oh extends re{_parse(e){const r=ne.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==M.string&&n.parsedType!==M.number){const s=ne.objectValues(r);return L(n,{expected:ne.joinValues(s),received:n.parsedType,code:P.invalid_type}),q}if(this._cache||(this._cache=new Set(ne.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const s=ne.objectValues(r);return L(n,{received:n.data,code:P.invalid_enum_value,options:s}),q}return Tt(e.data)}get enum(){return this._def.values}}Oh.create=(t,e)=>new Oh({values:t,typeName:K.ZodNativeEnum,...Y(e)});class Ma extends re{unwrap(){return this._def.type}_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==M.promise&&r.common.async===!1)return L(r,{code:P.invalid_type,expected:M.promise,received:r.parsedType}),q;const n=r.parsedType===M.promise?r.data:Promise.resolve(r.data);return Tt(n.then(s=>this._def.type.parseAsync(s,{path:r.path,errorMap:r.common.contextualErrorMap})))}}Ma.create=(t,e)=>new Ma({type:t,typeName:K.ZodPromise,...Y(e)});class is extends re{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===K.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:r,ctx:n}=this._processInputParams(e),s=this._def.effect||null,i={addIssue:a=>{L(n,a),a.fatal?r.abort():r.dirty()},get path(){return n.path}};if(i.addIssue=i.addIssue.bind(i),s.type==="preprocess"){const a=s.transform(n.data,i);if(n.common.async)return Promise.resolve(a).then(async o=>{if(r.value==="aborted")return q;const u=await this._def.schema._parseAsync({data:o,path:n.path,parent:n});return u.status==="aborted"?q:u.status==="dirty"||r.value==="dirty"?Ts(u.value):u});{if(r.value==="aborted")return q;const o=this._def.schema._parseSync({data:a,path:n.path,parent:n});return o.status==="aborted"?q:o.status==="dirty"||r.value==="dirty"?Ts(o.value):o}}if(s.type==="refinement"){const a=o=>{const u=s.refinement(o,i);if(n.common.async)return Promise.resolve(u);if(u instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return o};if(n.common.async===!1){const o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return o.status==="aborted"?q:(o.status==="dirty"&&r.dirty(),a(o.value),{status:r.value,value:o.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>o.status==="aborted"?q:(o.status==="dirty"&&r.dirty(),a(o.value).then(()=>({status:r.value,value:o.value}))))}if(s.type==="transform")if(n.common.async===!1){const a=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!rs(a))return q;const o=s.transform(a.value,i);if(o instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:o}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(a=>rs(a)?Promise.resolve(s.transform(a.value,i)).then(o=>({status:r.value,value:o})):q);ne.assertNever(s)}}is.create=(t,e,r)=>new is({schema:t,typeName:K.ZodEffects,effect:e,...Y(r)});is.createWithPreprocess=(t,e,r)=>new is({schema:e,effect:{type:"preprocess",transform:t},typeName:K.ZodEffects,...Y(r)});class $r extends re{_parse(e){return this._getType(e)===M.undefined?Tt(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}$r.create=(t,e)=>new $r({innerType:t,typeName:K.ZodOptional,...Y(e)});class as extends re{_parse(e){return this._getType(e)===M.null?Tt(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}as.create=(t,e)=>new as({innerType:t,typeName:K.ZodNullable,...Y(e)});class iu extends re{_parse(e){const{ctx:r}=this._processInputParams(e);let n=r.data;return r.parsedType===M.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}iu.create=(t,e)=>new iu({innerType:t,typeName:K.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...Y(e)});class au extends re{_parse(e){const{ctx:r}=this._processInputParams(e),n={...r,common:{...r.common,issues:[]}},s=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return La(s)?s.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new ur(n.common.issues)},input:n.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new ur(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}au.create=(t,e)=>new au({innerType:t,typeName:K.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...Y(e)});class Rh extends re{_parse(e){if(this._getType(e)!==M.nan){const n=this._getOrReturnCtx(e);return L(n,{code:P.invalid_type,expected:M.nan,received:n.parsedType}),q}return{status:"valid",value:e.data}}}Rh.create=t=>new Rh({typeName:K.ZodNaN,...Y(t)});class Mw extends re{_parse(e){const{ctx:r}=this._processInputParams(e),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class kc extends re{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?q:i.status==="dirty"?(r.dirty(),Ts(i.value)):this._def.out._parseAsync({data:i.value,path:n.path,parent:n})})();{const s=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return s.status==="aborted"?q:s.status==="dirty"?(r.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:n.path,parent:n})}}static create(e,r){return new kc({in:e,out:r,typeName:K.ZodPipeline})}}class ou extends re{_parse(e){const r=this._def.innerType._parse(e),n=s=>(rs(s)&&(s.value=Object.freeze(s.value)),s);return La(r)?r.then(s=>n(s)):n(r)}unwrap(){return this._def.innerType}}ou.create=(t,e)=>new ou({innerType:t,typeName:K.ZodReadonly,...Y(e)});var K;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(K||(K={}));const Ie=Er.create,Ps=ns.create;Br.create;Zt.create;const fo=Ce.create;Da.create;Ua.create;fn.create;const Ba=ss.create;Ma.create;$r.create;as.create;const Bw=fo({fullName:Ie().min(2,"Name must be at least 2 characters"),email:Ie().email("Invalid email address"),phone:Ie().regex(/^01[0-9]{9}$/,"Must be valid Egyptian phone (01XXXXXXXXX)"),password:Ie().min(8,"Password must be at least 8 characters"),budget:Ps().positive("Budget must be greater than 0"),buyingIntent:Ba(["Cash","Installment","Mortgage"]).optional()}),Fw=fo({fullName:Ie().min(2,"Name must be at least 2 characters"),email:Ie().email("Invalid email address"),phone:Ie().regex(/^01[0-9]{9}$/,"Must be valid Egyptian phone"),password:Ie().min(8,"Password must be at least 8 characters"),companyName:Ie().optional(),role:Ba(["Marketer","Developer"]),officeLocation:Ie().min(1,"Office location is required")}),Vw=fo({emailOrPhone:Ie().min(1,"Email or phone is required"),password:Ie().min(1,"Password is required")});function zw(t){var a,o;let e=0;t.budget&&t.budget>0&&(e+=30),t.locations&&t.locations.length>0&&(e+=20),t.propertyTypes&&t.propertyTypes.length>0&&(e+=20),t.buyingIntent&&(e+=10);const r=t.phone?/^01[0-9]{9}$/.test(t.phone):!1,n=t.email?t.email.includes("@")&&t.email.includes("."):!1;r&&n&&(e+=10),!!(t.fullName&&t.email&&t.phone&&t.password&&t.budget&&((a=t.locations)!=null&&a.length)&&((o=t.propertyTypes)!=null&&o.length)&&t.buyingIntent)&&(e+=10);let i="Cold";return e>=90?i="Hot":e>=70&&(i="Warm"),{score:e,tier:i}}var lu=function(t,e){return lu=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(r[s]=n[s])},lu(t,e)};function Km(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");lu(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var Fa=function(){return Fa=Object.assign||function(e){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},Fa.apply(this,arguments)};function fs(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r}function Zm(t,e,r,n){var s=arguments.length,i=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,r,n);else for(var o=t.length-1;o>=0;o--)(a=t[o])&&(i=(s<3?a(i):s>3?a(e,r,i):a(e,r))||i);return s>3&&i&&Object.defineProperty(e,r,i),i}function Gm(t,e){return function(r,n){e(r,n,t)}}function Jm(t,e,r,n,s,i){function a(g){if(g!==void 0&&typeof g!="function")throw new TypeError("Function expected");return g}for(var o=n.kind,u=o==="getter"?"get":o==="setter"?"set":"value",c=!e&&t?n.static?t:t.prototype:null,d=e||(c?Object.getOwnPropertyDescriptor(c,n.name):{}),h,f=!1,p=r.length-1;p>=0;p--){var x={};for(var y in n)x[y]=y==="access"?{}:n[y];for(var y in n.access)x.access[y]=n.access[y];x.addInitializer=function(g){if(f)throw new TypeError("Cannot add initializers after decoration has completed");i.push(a(g||null))};var w=(0,r[p])(o==="accessor"?{get:d.get,set:d.set}:d[u],x);if(o==="accessor"){if(w===void 0)continue;if(w===null||typeof w!="object")throw new TypeError("Object expected");(h=a(w.get))&&(d.get=h),(h=a(w.set))&&(d.set=h),(h=a(w.init))&&s.unshift(h)}else(h=a(w))&&(o==="field"?s.unshift(h):d[u]=h)}c&&Object.defineProperty(c,n.name,d),f=!0}function Qm(t,e,r){for(var n=arguments.length>2,s=0;s<e.length;s++)r=n?e[s].call(t,r):e[s].call(t);return n?r:void 0}function Ym(t){return typeof t=="symbol"?t:"".concat(t)}function Xm(t,e,r){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:r?"".concat(r," ",e):e})}function eg(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function F(t,e,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function o(d){try{c(n.next(d))}catch(h){a(h)}}function u(d){try{c(n.throw(d))}catch(h){a(h)}}function c(d){d.done?i(d.value):s(d.value).then(o,u)}c((n=n.apply(t,e||[])).next())})}function tg(t,e){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,s,i,a=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return a.next=o(0),a.throw=o(1),a.return=o(2),typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function o(c){return function(d){return u([c,d])}}function u(c){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,c[0]&&(r=0)),r;)try{if(n=1,s&&(i=c[0]&2?s.return:c[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,c[1])).done)return i;switch(s=0,i&&(c=[c[0]&2,i.value]),c[0]){case 0:case 1:i=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,s=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(c[0]===6||c[0]===2)){r=0;continue}if(c[0]===3&&(!i||c[1]>i[0]&&c[1]<i[3])){r.label=c[1];break}if(c[0]===6&&r.label<i[1]){r.label=i[1],i=c;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(c);break}i[2]&&r.ops.pop(),r.trys.pop();continue}c=e.call(t,r)}catch(d){c=[6,d],s=0}finally{n=i=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}var po=Object.create?function(t,e,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(e,r);(!s||("get"in s?!e.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,s)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]};function rg(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&po(e,t,r)}function Va(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function jc(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),s,i=[],a;try{for(;(e===void 0||e-- >0)&&!(s=n.next()).done;)i.push(s.value)}catch(o){a={error:o}}finally{try{s&&!s.done&&(r=n.return)&&r.call(n)}finally{if(a)throw a.error}}return i}function ng(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(jc(arguments[e]));return t}function sg(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),s=0,e=0;e<r;e++)for(var i=arguments[e],a=0,o=i.length;a<o;a++,s++)n[s]=i[a];return n}function ig(t,e,r){if(r||arguments.length===2)for(var n=0,s=e.length,i;n<s;n++)(i||!(n in e))&&(i||(i=Array.prototype.slice.call(e,0,n)),i[n]=e[n]);return t.concat(i||Array.prototype.slice.call(e))}function os(t){return this instanceof os?(this.v=t,this):new os(t)}function ag(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),s,i=[];return s=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),o("next"),o("throw"),o("return",a),s[Symbol.asyncIterator]=function(){return this},s;function a(p){return function(x){return Promise.resolve(x).then(p,h)}}function o(p,x){n[p]&&(s[p]=function(y){return new Promise(function(w,g){i.push([p,y,w,g])>1||u(p,y)})},x&&(s[p]=x(s[p])))}function u(p,x){try{c(n[p](x))}catch(y){f(i[0][3],y)}}function c(p){p.value instanceof os?Promise.resolve(p.value.v).then(d,h):f(i[0][2],p)}function d(p){u("next",p)}function h(p){u("throw",p)}function f(p,x){p(x),i.shift(),i.length&&u(i[0][0],i[0][1])}}function og(t){var e,r;return e={},n("next"),n("throw",function(s){throw s}),n("return"),e[Symbol.iterator]=function(){return this},e;function n(s,i){e[s]=t[s]?function(a){return(r=!r)?{value:os(t[s](a)),done:!1}:i?i(a):a}:i}}function lg(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof Va=="function"?Va(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(i){r[i]=t[i]&&function(a){return new Promise(function(o,u){a=t[i](a),s(o,u,a.done,a.value)})}}function s(i,a,o,u){Promise.resolve(u).then(function(c){i({value:c,done:o})},a)}}function ug(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var Ww=Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e},uu=function(t){return uu=Object.getOwnPropertyNames||function(e){var r=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[r.length]=n);return r},uu(t)};function cg(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r=uu(t),n=0;n<r.length;n++)r[n]!=="default"&&po(e,t,r[n]);return Ww(e,t),e}function dg(t){return t&&t.__esModule?t:{default:t}}function hg(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)}function fg(t,e,r,n,s){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?s.call(t,r):s?s.value=r:e.set(t,r),r}function pg(t,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof t=="function"?e===t:t.has(e)}function mg(t,e,r){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var n,s;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=e[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=e[Symbol.dispose],r&&(s=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");s&&(n=function(){try{s.call(this)}catch(i){return Promise.reject(i)}}),t.stack.push({value:e,dispose:n,async:r})}else r&&t.stack.push({async:!0});return e}var Hw=typeof SuppressedError=="function"?SuppressedError:function(t,e,r){var n=new Error(r);return n.name="SuppressedError",n.error=t,n.suppressed=e,n};function gg(t){function e(i){t.error=t.hasError?new Hw(i,t.error,"An error was suppressed during disposal."):i,t.hasError=!0}var r,n=0;function s(){for(;r=t.stack.pop();)try{if(!r.async&&n===1)return n=0,t.stack.push(r),Promise.resolve().then(s);if(r.dispose){var i=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(i).then(s,function(a){return e(a),s()})}else n|=1}catch(a){e(a)}if(n===1)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}return s()}function yg(t,e){return typeof t=="string"&&/^\.\.?\//.test(t)?t.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,n,s,i,a){return n?e?".jsx":".js":s&&(!i||!a)?r:s+i+"."+a.toLowerCase()+"js"}):t}const qw={__extends:Km,__assign:Fa,__rest:fs,__decorate:Zm,__param:Gm,__esDecorate:Jm,__runInitializers:Qm,__propKey:Ym,__setFunctionName:Xm,__metadata:eg,__awaiter:F,__generator:tg,__createBinding:po,__exportStar:rg,__values:Va,__read:jc,__spread:ng,__spreadArrays:sg,__spreadArray:ig,__await:os,__asyncGenerator:ag,__asyncDelegator:og,__asyncValues:lg,__makeTemplateObject:ug,__importStar:cg,__importDefault:dg,__classPrivateFieldGet:hg,__classPrivateFieldSet:fg,__classPrivateFieldIn:pg,__addDisposableResource:mg,__disposeResources:gg,__rewriteRelativeImportExtension:yg},Kw=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:mg,get __assign(){return Fa},__asyncDelegator:og,__asyncGenerator:ag,__asyncValues:lg,__await:os,__awaiter:F,__classPrivateFieldGet:hg,__classPrivateFieldIn:pg,__classPrivateFieldSet:fg,__createBinding:po,__decorate:Zm,__disposeResources:gg,__esDecorate:Jm,__exportStar:rg,__extends:Km,__generator:tg,__importDefault:dg,__importStar:cg,__makeTemplateObject:ug,__metadata:eg,__param:Gm,__propKey:Ym,__read:jc,__rest:fs,__rewriteRelativeImportExtension:yg,__runInitializers:Qm,__setFunctionName:Xm,__spread:ng,__spreadArray:ig,__spreadArrays:sg,__values:Va,default:qw},Symbol.toStringTag,{value:"Module"})),Zw=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);class Sc extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}}class Gw extends Sc{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Ah extends Sc{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Ih extends Sc{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var cu;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(cu||(cu={}));class Jw{constructor(e,{headers:r={},customFetch:n,region:s=cu.Any}={}){this.url=e,this.headers=r,this.region=s,this.fetch=Zw(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return F(this,arguments,void 0,function*(r,n={}){var s;let i,a;try{const{headers:o,method:u,body:c,signal:d,timeout:h}=n;let f={},{region:p}=n;p||(p=this.region);const x=new URL(`${this.url}/${r}`);p&&p!=="any"&&(f["x-region"]=p,x.searchParams.set("forceFunctionRegion",p));let y;c&&(o&&!Object.prototype.hasOwnProperty.call(o,"Content-Type")||!o)?typeof Blob<"u"&&c instanceof Blob||c instanceof ArrayBuffer?(f["Content-Type"]="application/octet-stream",y=c):typeof c=="string"?(f["Content-Type"]="text/plain",y=c):typeof FormData<"u"&&c instanceof FormData?y=c:(f["Content-Type"]="application/json",y=JSON.stringify(c)):y=c;let w=d;h&&(a=new AbortController,i=setTimeout(()=>a.abort(),h),d?(w=a.signal,d.addEventListener("abort",()=>a.abort())):w=a.signal);const g=yield this.fetch(x.toString(),{method:u||"POST",headers:Object.assign(Object.assign(Object.assign({},f),this.headers),o),body:y,signal:w}).catch(E=>{throw new Gw(E)}),m=g.headers.get("x-relay-error");if(m&&m==="true")throw new Ah(g);if(!g.ok)throw new Ih(g);let v=((s=g.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),b;return v==="application/json"?b=yield g.json():v==="application/octet-stream"||v==="application/pdf"?b=yield g.blob():v==="text/event-stream"?b=g:v==="multipart/form-data"?b=yield g.formData():b=yield g.text(),{data:b,error:null,response:g}}catch(o){return{data:null,error:o,response:o instanceof Ih||o instanceof Ah?o.context:void 0}}finally{i&&clearTimeout(i)}})}}var Xe={};const ps=ay(Kw);var Fi={},Vi={},zi={},Wi={},Hi={},qi={},Lh;function vg(){if(Lh)return qi;Lh=1,Object.defineProperty(qi,"__esModule",{value:!0});class t extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return qi.default=t,qi}var $h;function xg(){if($h)return Hi;$h=1,Object.defineProperty(Hi,"__esModule",{value:!0});const e=ps.__importDefault(vg());class r{constructor(s){var i,a;this.shouldThrowOnError=!1,this.method=s.method,this.url=s.url,this.headers=new Headers(s.headers),this.schema=s.schema,this.body=s.body,this.shouldThrowOnError=(i=s.shouldThrowOnError)!==null&&i!==void 0?i:!1,this.signal=s.signal,this.isMaybeSingle=(a=s.isMaybeSingle)!==null&&a!==void 0?a:!1,s.fetch?this.fetch=s.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(s,i){return this.headers=new Headers(this.headers),this.headers.set(s,i),this}then(s,i){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const a=this.fetch;let o=a(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async u=>{var c,d,h,f;let p=null,x=null,y=null,w=u.status,g=u.statusText;if(u.ok){if(this.method!=="HEAD"){const E=await u.text();E===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((c=this.headers.get("Accept"))===null||c===void 0)&&c.includes("application/vnd.pgrst.plan+text"))?x=E:x=JSON.parse(E))}const v=(d=this.headers.get("Prefer"))===null||d===void 0?void 0:d.match(/count=(exact|planned|estimated)/),b=(h=u.headers.get("content-range"))===null||h===void 0?void 0:h.split("/");v&&b&&b.length>1&&(y=parseInt(b[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(x)&&(x.length>1?(p={code:"PGRST116",details:`Results contain ${x.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},x=null,y=null,w=406,g="Not Acceptable"):x.length===1?x=x[0]:x=null)}else{const v=await u.text();try{p=JSON.parse(v),Array.isArray(p)&&u.status===404&&(x=[],p=null,w=200,g="OK")}catch{u.status===404&&v===""?(w=204,g="No Content"):p={message:v}}if(p&&this.isMaybeSingle&&(!((f=p==null?void 0:p.details)===null||f===void 0)&&f.includes("0 rows"))&&(p=null,w=200,g="OK"),p&&this.shouldThrowOnError)throw new e.default(p)}return{error:p,data:x,count:y,status:w,statusText:g}});return this.shouldThrowOnError||(o=o.catch(u=>{var c,d,h,f,p,x;let y="";const w=u==null?void 0:u.cause;if(w){const g=(c=w==null?void 0:w.message)!==null&&c!==void 0?c:"",m=(d=w==null?void 0:w.code)!==null&&d!==void 0?d:"";y=`${(h=u==null?void 0:u.name)!==null&&h!==void 0?h:"FetchError"}: ${u==null?void 0:u.message}`,y+=`

Caused by: ${(f=w==null?void 0:w.name)!==null&&f!==void 0?f:"Error"}: ${g}`,m&&(y+=` (${m})`),w!=null&&w.stack&&(y+=`
${w.stack}`)}else y=(p=u==null?void 0:u.stack)!==null&&p!==void 0?p:"";return{error:{message:`${(x=u==null?void 0:u.name)!==null&&x!==void 0?x:"FetchError"}: ${u==null?void 0:u.message}`,details:y,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),o.then(s,i)}returns(){return this}overrideTypes(){return this}}return Hi.default=r,Hi}var Dh;function wg(){if(Dh)return Wi;Dh=1,Object.defineProperty(Wi,"__esModule",{value:!0});const e=ps.__importDefault(xg());class r extends e.default{select(s){let i=!1;const a=(s??"*").split("").map(o=>/\s/.test(o)&&!i?"":(o==='"'&&(i=!i),o)).join("");return this.url.searchParams.set("select",a),this.headers.append("Prefer","return=representation"),this}order(s,{ascending:i=!0,nullsFirst:a,foreignTable:o,referencedTable:u=o}={}){const c=u?`${u}.order`:"order",d=this.url.searchParams.get(c);return this.url.searchParams.set(c,`${d?`${d},`:""}${s}.${i?"asc":"desc"}${a===void 0?"":a?".nullsfirst":".nullslast"}`),this}limit(s,{foreignTable:i,referencedTable:a=i}={}){const o=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(o,`${s}`),this}range(s,i,{foreignTable:a,referencedTable:o=a}={}){const u=typeof o>"u"?"offset":`${o}.offset`,c=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(u,`${s}`),this.url.searchParams.set(c,`${i-s+1}`),this}abortSignal(s){return this.signal=s,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:s=!1,verbose:i=!1,settings:a=!1,buffers:o=!1,wal:u=!1,format:c="text"}={}){var d;const h=[s?"analyze":null,i?"verbose":null,a?"settings":null,o?"buffers":null,u?"wal":null].filter(Boolean).join("|"),f=(d=this.headers.get("Accept"))!==null&&d!==void 0?d:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${c}; for="${f}"; options=${h};`),c==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(s){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${s}`),this}}return Wi.default=r,Wi}var Uh;function Ec(){if(Uh)return zi;Uh=1,Object.defineProperty(zi,"__esModule",{value:!0});const e=ps.__importDefault(wg()),r=new RegExp("[,()]");class n extends e.default{eq(i,a){return this.url.searchParams.append(i,`eq.${a}`),this}neq(i,a){return this.url.searchParams.append(i,`neq.${a}`),this}gt(i,a){return this.url.searchParams.append(i,`gt.${a}`),this}gte(i,a){return this.url.searchParams.append(i,`gte.${a}`),this}lt(i,a){return this.url.searchParams.append(i,`lt.${a}`),this}lte(i,a){return this.url.searchParams.append(i,`lte.${a}`),this}like(i,a){return this.url.searchParams.append(i,`like.${a}`),this}likeAllOf(i,a){return this.url.searchParams.append(i,`like(all).{${a.join(",")}}`),this}likeAnyOf(i,a){return this.url.searchParams.append(i,`like(any).{${a.join(",")}}`),this}ilike(i,a){return this.url.searchParams.append(i,`ilike.${a}`),this}ilikeAllOf(i,a){return this.url.searchParams.append(i,`ilike(all).{${a.join(",")}}`),this}ilikeAnyOf(i,a){return this.url.searchParams.append(i,`ilike(any).{${a.join(",")}}`),this}regexMatch(i,a){return this.url.searchParams.append(i,`match.${a}`),this}regexIMatch(i,a){return this.url.searchParams.append(i,`imatch.${a}`),this}is(i,a){return this.url.searchParams.append(i,`is.${a}`),this}isDistinct(i,a){return this.url.searchParams.append(i,`isdistinct.${a}`),this}in(i,a){const o=Array.from(new Set(a)).map(u=>typeof u=="string"&&r.test(u)?`"${u}"`:`${u}`).join(",");return this.url.searchParams.append(i,`in.(${o})`),this}contains(i,a){return typeof a=="string"?this.url.searchParams.append(i,`cs.${a}`):Array.isArray(a)?this.url.searchParams.append(i,`cs.{${a.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(a)}`),this}containedBy(i,a){return typeof a=="string"?this.url.searchParams.append(i,`cd.${a}`):Array.isArray(a)?this.url.searchParams.append(i,`cd.{${a.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(a)}`),this}rangeGt(i,a){return this.url.searchParams.append(i,`sr.${a}`),this}rangeGte(i,a){return this.url.searchParams.append(i,`nxl.${a}`),this}rangeLt(i,a){return this.url.searchParams.append(i,`sl.${a}`),this}rangeLte(i,a){return this.url.searchParams.append(i,`nxr.${a}`),this}rangeAdjacent(i,a){return this.url.searchParams.append(i,`adj.${a}`),this}overlaps(i,a){return typeof a=="string"?this.url.searchParams.append(i,`ov.${a}`):this.url.searchParams.append(i,`ov.{${a.join(",")}}`),this}textSearch(i,a,{config:o,type:u}={}){let c="";u==="plain"?c="pl":u==="phrase"?c="ph":u==="websearch"&&(c="w");const d=o===void 0?"":`(${o})`;return this.url.searchParams.append(i,`${c}fts${d}.${a}`),this}match(i){return Object.entries(i).forEach(([a,o])=>{this.url.searchParams.append(a,`eq.${o}`)}),this}not(i,a,o){return this.url.searchParams.append(i,`not.${a}.${o}`),this}or(i,{foreignTable:a,referencedTable:o=a}={}){const u=o?`${o}.or`:"or";return this.url.searchParams.append(u,`(${i})`),this}filter(i,a,o){return this.url.searchParams.append(i,`${a}.${o}`),this}}return zi.default=n,zi}var Mh;function _g(){if(Mh)return Vi;Mh=1,Object.defineProperty(Vi,"__esModule",{value:!0});const e=ps.__importDefault(Ec());class r{constructor(s,{headers:i={},schema:a,fetch:o}){this.url=s,this.headers=new Headers(i),this.schema=a,this.fetch=o}select(s,i){const{head:a=!1,count:o}=i??{},u=a?"HEAD":"GET";let c=!1;const d=(s??"*").split("").map(h=>/\s/.test(h)&&!c?"":(h==='"'&&(c=!c),h)).join("");return this.url.searchParams.set("select",d),o&&this.headers.append("Prefer",`count=${o}`),new e.default({method:u,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(s,{count:i,defaultToNull:a=!0}={}){var o;const u="POST";if(i&&this.headers.append("Prefer",`count=${i}`),a||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const c=s.reduce((d,h)=>d.concat(Object.keys(h)),[]);if(c.length>0){const d=[...new Set(c)].map(h=>`"${h}"`);this.url.searchParams.set("columns",d.join(","))}}return new e.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}upsert(s,{onConflict:i,ignoreDuplicates:a=!1,count:o,defaultToNull:u=!0}={}){var c;const d="POST";if(this.headers.append("Prefer",`resolution=${a?"ignore":"merge"}-duplicates`),i!==void 0&&this.url.searchParams.set("on_conflict",i),o&&this.headers.append("Prefer",`count=${o}`),u||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const h=s.reduce((f,p)=>f.concat(Object.keys(p)),[]);if(h.length>0){const f=[...new Set(h)].map(p=>`"${p}"`);this.url.searchParams.set("columns",f.join(","))}}return new e.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}update(s,{count:i}={}){var a;const o="PATCH";return i&&this.headers.append("Prefer",`count=${i}`),new e.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}delete({count:s}={}){var i;const a="DELETE";return s&&this.headers.append("Prefer",`count=${s}`),new e.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}}return Vi.default=r,Vi}var Bh;function Qw(){if(Bh)return Fi;Bh=1,Object.defineProperty(Fi,"__esModule",{value:!0});const t=ps,e=t.__importDefault(_g()),r=t.__importDefault(Ec());class n{constructor(i,{headers:a={},schema:o,fetch:u}={}){this.url=i,this.headers=new Headers(a),this.schemaName=o,this.fetch=u}from(i){if(!i||typeof i!="string"||i.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");const a=new URL(`${this.url}/${i}`);return new e.default(a,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(i){return new n(this.url,{headers:this.headers,schema:i,fetch:this.fetch})}rpc(i,a={},{head:o=!1,get:u=!1,count:c}={}){var d;let h;const f=new URL(`${this.url}/rpc/${i}`);let p;o||u?(h=o?"HEAD":"GET",Object.entries(a).filter(([y,w])=>w!==void 0).map(([y,w])=>[y,Array.isArray(w)?`{${w.join(",")}}`:`${w}`]).forEach(([y,w])=>{f.searchParams.append(y,w)})):(h="POST",p=a);const x=new Headers(this.headers);return c&&x.set("Prefer",`count=${c}`),new r.default({method:h,url:f,headers:x,schema:this.schemaName,body:p,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}}return Fi.default=n,Fi}Object.defineProperty(Xe,"__esModule",{value:!0});var bg=Xe.PostgrestError=Rg=Xe.PostgrestBuilder=Pg=Xe.PostgrestTransformBuilder=Cg=Xe.PostgrestFilterBuilder=Eg=Xe.PostgrestQueryBuilder=jg=Xe.PostgrestClient=void 0;const ms=ps,kg=ms.__importDefault(Qw());var jg=Xe.PostgrestClient=kg.default;const Sg=ms.__importDefault(_g());var Eg=Xe.PostgrestQueryBuilder=Sg.default;const Ng=ms.__importDefault(Ec());var Cg=Xe.PostgrestFilterBuilder=Ng.default;const Tg=ms.__importDefault(wg());var Pg=Xe.PostgrestTransformBuilder=Tg.default;const Og=ms.__importDefault(xg());var Rg=Xe.PostgrestBuilder=Og.default;const Ag=ms.__importDefault(vg());bg=Xe.PostgrestError=Ag.default;var Ig=Xe.default={PostgrestClient:kg.default,PostgrestQueryBuilder:Sg.default,PostgrestFilterBuilder:Ng.default,PostgrestTransformBuilder:Tg.default,PostgrestBuilder:Og.default,PostgrestError:Ag.default};const Yw=of({__proto__:null,get PostgrestBuilder(){return Rg},get PostgrestClient(){return jg},get PostgrestError(){return bg},get PostgrestFilterBuilder(){return Cg},get PostgrestQueryBuilder(){return Eg},get PostgrestTransformBuilder(){return Pg},default:Ig},[Xe]),{PostgrestClient:Xw,PostgrestQueryBuilder:L1,PostgrestFilterBuilder:$1,PostgrestTransformBuilder:D1,PostgrestBuilder:U1,PostgrestError:M1}=Ig||Yw;class e_{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,s=parseInt(n.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const n=this.getWebSocketConstructor();return new n(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const t_="2.84.0",r_=`realtime-js/${t_}`,Lg="1.0.0",n_="2.0.0",Fh=Lg,du=1e4,s_=1e3,i_=100;var Qr;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Qr||(Qr={}));var Re;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Re||(Re={}));var Lt;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Lt||(Lt={}));var hu;(function(t){t.websocket="websocket"})(hu||(hu={}));var Yr;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Yr||(Yr={}));class a_{constructor(){this.HEADER_LENGTH=1,this.META_LENGTH=4,this.USER_BROADCAST_PUSH_META_LENGTH=5,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast"}encode(e,r){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(e));let n=[e.join_ref,e.ref,e.topic,e.event,e.payload];return r(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(e){var r;return this._isArrayBuffer((r=e.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var r,n,s,i;const a=e.topic,o=(r=e.ref)!==null&&r!==void 0?r:"",u=(n=e.join_ref)!==null&&n!==void 0?n:"",c=e.payload.event,d=(i=(s=e.payload)===null||s===void 0?void 0:s.payload)!==null&&i!==void 0?i:new ArrayBuffer(0),h=this.USER_BROADCAST_PUSH_META_LENGTH+u.length+o.length+a.length+c.length,f=new ArrayBuffer(this.HEADER_LENGTH+h);let p=new DataView(f),x=0;p.setUint8(x++,this.KINDS.userBroadcastPush),p.setUint8(x++,u.length),p.setUint8(x++,o.length),p.setUint8(x++,a.length),p.setUint8(x++,c.length),p.setUint8(x++,this.BINARY_ENCODING),Array.from(u,w=>p.setUint8(x++,w.charCodeAt(0))),Array.from(o,w=>p.setUint8(x++,w.charCodeAt(0))),Array.from(a,w=>p.setUint8(x++,w.charCodeAt(0))),Array.from(c,w=>p.setUint8(x++,w.charCodeAt(0)));var y=new Uint8Array(f.byteLength+d.byteLength);return y.set(new Uint8Array(f),0),y.set(new Uint8Array(d),f.byteLength),y.buffer}_encodeJsonUserBroadcastPush(e){var r,n,s,i;const a=e.topic,o=(r=e.ref)!==null&&r!==void 0?r:"",u=(n=e.join_ref)!==null&&n!==void 0?n:"",c=e.payload.event,d=(i=(s=e.payload)===null||s===void 0?void 0:s.payload)!==null&&i!==void 0?i:{},f=new TextEncoder().encode(JSON.stringify(d)).buffer,p=this.USER_BROADCAST_PUSH_META_LENGTH+u.length+o.length+a.length+c.length,x=new ArrayBuffer(this.HEADER_LENGTH+p);let y=new DataView(x),w=0;y.setUint8(w++,this.KINDS.userBroadcastPush),y.setUint8(w++,u.length),y.setUint8(w++,o.length),y.setUint8(w++,a.length),y.setUint8(w++,c.length),y.setUint8(w++,this.JSON_ENCODING),Array.from(u,m=>y.setUint8(w++,m.charCodeAt(0))),Array.from(o,m=>y.setUint8(w++,m.charCodeAt(0))),Array.from(a,m=>y.setUint8(w++,m.charCodeAt(0))),Array.from(c,m=>y.setUint8(w++,m.charCodeAt(0)));var g=new Uint8Array(x.byteLength+f.byteLength);return g.set(new Uint8Array(x),0),g.set(new Uint8Array(f),x.byteLength),g.buffer}decode(e,r){if(this._isArrayBuffer(e)){let n=this._binaryDecode(e);return r(n)}if(typeof e=="string"){const n=JSON.parse(e),[s,i,a,o,u]=n;return r({join_ref:s,ref:i,topic:a,event:o,payload:u})}return r({})}_binaryDecode(e){const r=new DataView(e),n=r.getUint8(0),s=new TextDecoder;switch(n){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,r,s)}}_decodeUserBroadcast(e,r,n){const s=r.getUint8(1),i=r.getUint8(2),a=r.getUint8(3),o=r.getUint8(4);let u=this.HEADER_LENGTH+4;const c=n.decode(e.slice(u,u+s));u=u+s;const d=n.decode(e.slice(u,u+i));u=u+i;const h=n.decode(e.slice(u,u+a));u=u+a;const f=e.slice(u,e.byteLength),p=o===this.JSON_ENCODING?JSON.parse(n.decode(f)):f,x={type:this.BROADCAST_EVENT,event:d,payload:p};return a>0&&(x.meta=JSON.parse(h)),{join_ref:null,ref:null,topic:c,event:this.BROADCAST_EVENT,payload:x}}_isArrayBuffer(e){var r;return e instanceof ArrayBuffer||((r=e==null?void 0:e.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}}class $g{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var le;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(le||(le={}));const Vh=(t,e,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return e?Object.keys(e).reduce((i,a)=>(i[a]=o_(a,t,e,s),i),{}):{}},o_=(t,e,r,n)=>{const s=e.find(o=>o.name===t),i=s==null?void 0:s.type,a=r[t];return i&&!n.includes(i)?Dg(i,a):fu(a)},Dg=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return d_(e,r)}switch(t){case le.bool:return l_(e);case le.float4:case le.float8:case le.int2:case le.int4:case le.int8:case le.numeric:case le.oid:return u_(e);case le.json:case le.jsonb:return c_(e);case le.timestamp:return h_(e);case le.abstime:case le.date:case le.daterange:case le.int4range:case le.int8range:case le.money:case le.reltime:case le.text:case le.time:case le.timestamptz:case le.timetz:case le.tsrange:case le.tstzrange:return fu(e);default:return fu(e)}},fu=t=>t,l_=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},u_=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},c_=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},d_=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let i;const a=t.slice(1,r);try{i=JSON.parse("["+a+"]")}catch{i=a?a.split(","):[]}return i.map(o=>Dg(e,o))}return t},h_=t=>typeof t=="string"?t.replace(" ","T"):t,Ug=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class Jo{constructor(e,r,n={},s=du){this.channel=e,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var zh;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(zh||(zh={}));class zs{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:i,onLeave:a,onSync:o}=this.caller;this.joinRef=this.channel._joinRef(),this.state=zs.syncState(this.state,s,i,a),this.pendingDiffs.forEach(u=>{this.state=zs.syncDiff(this.state,u,i,a)}),this.pendingDiffs=[],o()}),this.channel._on(n.diff,{},s=>{const{onJoin:i,onLeave:a,onSync:o}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=zs.syncDiff(this.state,s,i,a),o())}),this.onJoin((s,i,a)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:a})}),this.onLeave((s,i,a)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,s){const i=this.cloneDeep(e),a=this.transformState(r),o={},u={};return this.map(i,(c,d)=>{a[c]||(u[c]=d)}),this.map(a,(c,d)=>{const h=i[c];if(h){const f=d.map(w=>w.presence_ref),p=h.map(w=>w.presence_ref),x=d.filter(w=>p.indexOf(w.presence_ref)<0),y=h.filter(w=>f.indexOf(w.presence_ref)<0);x.length>0&&(o[c]=x),y.length>0&&(u[c]=y)}else o[c]=d}),this.syncDiff(i,{joins:o,leaves:u},n,s)}static syncDiff(e,r,n,s){const{joins:i,leaves:a}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(i,(o,u)=>{var c;const d=(c=e[o])!==null&&c!==void 0?c:[];if(e[o]=this.cloneDeep(u),d.length>0){const h=e[o].map(p=>p.presence_ref),f=d.filter(p=>h.indexOf(p.presence_ref)<0);e[o].unshift(...f)}n(o,d,u)}),this.map(a,(o,u)=>{let c=e[o];if(!c)return;const d=u.map(h=>h.presence_ref);c=c.filter(h=>d.indexOf(h.presence_ref)<0),e[o]=c,s(o,c,u),c.length===0&&delete e[o]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const s=e[n];return"metas"in s?r[n]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=s,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Wh;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Wh||(Wh={}));var Ws;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Ws||(Ws={}));var er;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(er||(er={}));class Nc{constructor(e,r={config:{}},n){var s,i;if(this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=Re.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Jo(this,Lt.join,this.params,this.timeout),this.rejoinTimer=new $g(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Re.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Re.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=Re.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Re.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=Re.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Lt.reply,{},(a,o)=>{this._trigger(this._replyEventName(o),a)}),this.presence=new zs(this),this.broadcastEndpointURL=Ug(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,r=this.timeout){var n,s,i;if(this.socket.isConnected()||this.socket.connect(),this.state==Re.closed){const{config:{broadcast:a,presence:o,private:u}}=this.params,c=(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(p=>p.filter))!==null&&s!==void 0?s:[],d=!!this.bindings[Ws.PRESENCE]&&this.bindings[Ws.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,h={},f={broadcast:a,presence:Object.assign(Object.assign({},o),{enabled:d}),postgres_changes:c,private:u};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(p=>e==null?void 0:e(er.CHANNEL_ERROR,p)),this._onClose(()=>e==null?void 0:e(er.CLOSED)),this.updateJoinPayload(Object.assign({config:f},h)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:p})=>{var x;if(this.socket.setAuth(),p===void 0){e==null||e(er.SUBSCRIBED);return}else{const y=this.bindings.postgres_changes,w=(x=y==null?void 0:y.length)!==null&&x!==void 0?x:0,g=[];for(let m=0;m<w;m++){const v=y[m],{filter:{event:b,schema:E,table:T,filter:N}}=v,A=p&&p[m];if(A&&A.event===b&&A.schema===E&&A.table===T&&A.filter===N)g.push(Object.assign(Object.assign({},v),{id:A.id}));else{this.unsubscribe(),this.state=Re.errored,e==null||e(er.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=g,e&&e(er.SUBSCRIBED);return}}).receive("error",p=>{this.state=Re.errored,e==null||e(er.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(p).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(er.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,n){return this.state===Re.joined&&e===Ws.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,r,n)}async httpSend(e,r,n={}){var s;const i=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(r==null)return Promise.reject("Payload is required for httpSend()");const a={method:"POST",headers:{Authorization:i,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:r,private:this.private}]})},o=await this._fetchWithTimeout(this.broadcastEndpointURL,a,(s=n.timeout)!==null&&s!==void 0?s:this.timeout);if(o.status===202)return{success:!0};let u=o.statusText;try{const c=await o.json();u=c.error||c.message||u}catch{}return Promise.reject(new Error(u))}async send(e,r={}){var n,s;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:a}=e,u={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:a,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,u,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=c.body)===null||s===void 0?void 0:s.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var a,o,u;const c=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((u=(o=(a=this.params)===null||a===void 0?void 0:a.config)===null||o===void 0?void 0:o.broadcast)===null||u===void 0)&&u.ack)&&i("ok"),c.receive("ok",()=>i("ok")),c.receive("error",()=>i("error")),c.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Re.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Lt.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new Jo(this,Lt.leave,{},e),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Re.closed,this.bindings={}}async _fetchWithTimeout(e,r,n){const s=new AbortController,i=setTimeout(()=>s.abort(),n),a=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(i),a}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Jo(this,e,r,n);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>i_){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var s,i;const a=e.toLocaleLowerCase(),{close:o,error:u,leave:c,join:d}=Lt;if(n&&[o,u,c,d].indexOf(a)>=0&&n!==this._joinRef())return;let f=this._onMessage(a,r,n);if(r&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(p=>{var x,y,w;return((x=p.filter)===null||x===void 0?void 0:x.event)==="*"||((w=(y=p.filter)===null||y===void 0?void 0:y.event)===null||w===void 0?void 0:w.toLocaleLowerCase())===a}).map(p=>p.callback(f,n)):(i=this.bindings[a])===null||i===void 0||i.filter(p=>{var x,y,w,g,m,v;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in p){const b=p.id,E=(x=p.filter)===null||x===void 0?void 0:x.event;return b&&((y=r.ids)===null||y===void 0?void 0:y.includes(b))&&(E==="*"||(E==null?void 0:E.toLocaleLowerCase())===((w=r.data)===null||w===void 0?void 0:w.type.toLocaleLowerCase()))}else{const b=(m=(g=p==null?void 0:p.filter)===null||g===void 0?void 0:g.event)===null||m===void 0?void 0:m.toLocaleLowerCase();return b==="*"||b===((v=r==null?void 0:r.event)===null||v===void 0?void 0:v.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===a}).map(p=>{if(typeof f=="object"&&"ids"in f){const x=f.data,{schema:y,table:w,commit_timestamp:g,type:m,errors:v}=x;f=Object.assign(Object.assign({},{schema:y,table:w,commit_timestamp:g,eventType:m,new:{},old:{},errors:v}),this._getPayloadRecords(x))}p.callback(f,n)})}_isClosed(){return this.state===Re.closed}_isJoined(){return this.state===Re.joined}_isJoining(){return this.state===Re.joining}_isLeaving(){return this.state===Re.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const s=e.toLocaleLowerCase(),i={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&Nc.isEqual(s.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Lt.close,{},e)}_onError(e){this._on(Lt.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Re.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=Vh(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=Vh(e.columns,e.old_record)),r}}const Qo=()=>{},Ki={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},f_=[1e3,2e3,5e3,1e4],p_=1e4,m_=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class g_{constructor(e,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=du,this.transport=null,this.heartbeatIntervalMs=Ki.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Qo,this.ref=0,this.reconnectTimer=null,this.vsn=Fh,this.logger=Qo,this.conn=null,this.sendBuffer=[],this.serializer=new a_,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>s?(...i)=>s(...i):(...i)=>fetch(...i),!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${hu.websocket}`,this.httpEndpoint=Ug(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=e_.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const r=e.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Qr.connecting:return Yr.Connecting;case Qr.open:return Yr.Open;case Qr.closing:return Yr.Closing;default:return Yr.Closed}}isConnected(){return this.connectionState()===Yr.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const n=`realtime:${e}`,s=this.getChannels().find(i=>i.topic===n);if(s)return s;{const i=new Nc(`realtime:${e}`,r,this);return this.channels.push(i),i}}push(e){const{topic:r,event:n,payload:s,ref:i}=e,a=()=>{this.encode(e,o=>{var u;(u=this.conn)===null||u===void 0||u.send(o)})};this.log("push",`${r} ${n} (${i})`,s),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(s_,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Ki.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(c){this.log("error","error in heartbeat callback",c)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:s,payload:i,ref:a}=r,o=a?`(${a})`:"",u=i.status||"";this.log("receive",`${u} ${n} ${s} ${o}`.trim(),i),this.channels.filter(c=>c._isMember(n)).forEach(c=>c._trigger(s,i,a)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){if(this.conn){if(this.conn.readyState===Qr.open||this.conn.readyState===Qr.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Lt.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${e}${n}${s}`}_workerObjectUrl(e){let r;if(e)r=e;else{const n=new Blob([m_],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r;e?r=e:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const s={access_token:r,version:r_};r&&n.updateJoinPayload(s),n.joinedOnce&&n._isJoined()&&n._push(Lt.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(n=>{try{n(r)}catch(s){this.log("error",`error in ${e} callback`,s)}})}catch(n){this.log("error",`error triggering ${e} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new $g(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Ki.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,n,s,i,a,o,u,c,d,h,f,p;switch(this.transport=(r=e==null?void 0:e.transport)!==null&&r!==void 0?r:null,this.timeout=(n=e==null?void 0:e.timeout)!==null&&n!==void 0?n:du,this.heartbeatIntervalMs=(s=e==null?void 0:e.heartbeatIntervalMs)!==null&&s!==void 0?s:Ki.HEARTBEAT_INTERVAL,this.worker=(i=e==null?void 0:e.worker)!==null&&i!==void 0?i:!1,this.accessToken=(a=e==null?void 0:e.accessToken)!==null&&a!==void 0?a:null,this.heartbeatCallback=(o=e==null?void 0:e.heartbeatCallback)!==null&&o!==void 0?o:Qo,this.vsn=(u=e==null?void 0:e.vsn)!==null&&u!==void 0?u:Fh,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=e==null?void 0:e.reconnectAfterMs)!==null&&c!==void 0?c:x=>f_[x-1]||p_,this.vsn){case Lg:this.encode=(d=e==null?void 0:e.encode)!==null&&d!==void 0?d:(x,y)=>y(JSON.stringify(x)),this.decode=(h=e==null?void 0:e.decode)!==null&&h!==void 0?h:(x,y)=>y(JSON.parse(x));break;case n_:this.encode=(f=e==null?void 0:e.encode)!==null&&f!==void 0?f:this.serializer.encode.bind(this.serializer),this.decode=(p=e==null?void 0:e.decode)!==null&&p!==void 0?p:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class Cc extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function ge(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class y_ extends Cc{constructor(e,r,n){super(e),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class pu extends Cc{constructor(e,r){super(e),this.name="StorageUnknownError",this.originalError=r}}const Tc=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),v_=()=>Response,mu=t=>{if(Array.isArray(t))return t.map(r=>mu(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[s]=mu(n)}),e},x_=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},Yo=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},w_=(t,e,r)=>F(void 0,void 0,void 0,function*(){const n=yield v_();t instanceof n&&!(r!=null&&r.noResolveJson)?t.json().then(s=>{const i=t.status||500,a=(s==null?void 0:s.statusCode)||i+"";e(new y_(Yo(s),i,a))}).catch(s=>{e(new pu(Yo(s),s))}):e(new pu(Yo(t),t))}),__=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!n?s:(x_(n)?(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(n)):s.body=n,e!=null&&e.duplex&&(s.duplex=e.duplex),Object.assign(Object.assign({},s),r))};function bi(t,e,r,n,s,i){return F(this,void 0,void 0,function*(){return new Promise((a,o)=>{t(r,__(e,n,s,i)).then(u=>{if(!u.ok)throw u;return n!=null&&n.noResolveJson?u:u.json()}).then(u=>a(u)).catch(u=>w_(u,o,n))})})}function hi(t,e,r,n){return F(this,void 0,void 0,function*(){return bi(t,"GET",e,r,n)})}function At(t,e,r,n,s){return F(this,void 0,void 0,function*(){return bi(t,"POST",e,n,s,r)})}function gu(t,e,r,n,s){return F(this,void 0,void 0,function*(){return bi(t,"PUT",e,n,s,r)})}function b_(t,e,r,n){return F(this,void 0,void 0,function*(){return bi(t,"HEAD",e,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function Pc(t,e,r,n,s){return F(this,void 0,void 0,function*(){return bi(t,"DELETE",e,n,s,r)})}class k_{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r}then(e,r){return this.execute().then(e,r)}execute(){return F(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(ge(e))return{data:null,error:e};throw e}})}}var Mg;class j_{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r,this[Mg]="BlobDownloadBuilder",this.promise=null}asStream(){return new k_(this.downloadFn,this.shouldThrowOnError)}then(e,r){return this.getPromise().then(e,r)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return F(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(ge(e))return{data:null,error:e};throw e}})}}Mg=Symbol.toStringTag;const S_={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Hh={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class E_{constructor(e,r={},n,s){this.shouldThrowOnError=!1,this.url=e,this.headers=r,this.bucketId=n,this.fetch=Tc(s)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,r,n,s){return F(this,void 0,void 0,function*(){try{let i;const a=Object.assign(Object.assign({},Hh),s);let o=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(a.upsert)});const u=a.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",a.cacheControl),u&&i.append("metadata",this.encodeMetadata(u)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.has("cacheControl")||i.append("cacheControl",a.cacheControl),u&&!i.has("metadata")&&i.append("metadata",this.encodeMetadata(u))):(i=n,o["cache-control"]=`max-age=${a.cacheControl}`,o["content-type"]=a.contentType,u&&(o["x-metadata"]=this.toBase64(this.encodeMetadata(u))),(typeof ReadableStream<"u"&&i instanceof ReadableStream||i&&typeof i=="object"&&"pipe"in i&&typeof i.pipe=="function")&&!a.duplex&&(a.duplex="half")),s!=null&&s.headers&&(o=Object.assign(Object.assign({},o),s.headers));const c=this._removeEmptyFolders(r),d=this._getFinalPath(c),h=yield(e=="PUT"?gu:At)(this.fetch,`${this.url}/object/${d}`,i,Object.assign({headers:o},a!=null&&a.duplex?{duplex:a.duplex}:{}));return{data:{path:c,id:h.Id,fullPath:h.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ge(i))return{data:null,error:i};throw i}})}upload(e,r,n){return F(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,n)})}uploadToSignedUrl(e,r,n,s){return F(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),a=this._getFinalPath(i),o=new URL(this.url+`/object/upload/sign/${a}`);o.searchParams.set("token",r);try{let u;const c=Object.assign({upsert:Hh.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&n instanceof Blob?(u=new FormData,u.append("cacheControl",c.cacheControl),u.append("",n)):typeof FormData<"u"&&n instanceof FormData?(u=n,u.append("cacheControl",c.cacheControl)):(u=n,d["cache-control"]=`max-age=${c.cacheControl}`,d["content-type"]=c.contentType);const h=yield gu(this.fetch,o.toString(),u,{headers:d});return{data:{path:i,fullPath:h.Key},error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(ge(u))return{data:null,error:u};throw u}})}createSignedUploadUrl(e,r){return F(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const i=yield At(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),a=new URL(this.url+i.url),o=a.searchParams.get("token");if(!o)throw new Cc("No token returned by API");return{data:{signedUrl:a.toString(),path:e,token:o},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ge(n))return{data:null,error:n};throw n}})}update(e,r,n){return F(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,n)})}move(e,r,n){return F(this,void 0,void 0,function*(){try{return{data:yield At(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ge(s))return{data:null,error:s};throw s}})}copy(e,r,n){return F(this,void 0,void 0,function*(){try{return{data:{path:(yield At(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ge(s))return{data:null,error:s};throw s}})}createSignedUrl(e,r,n){return F(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),i=yield At(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${a}`)},{data:i,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ge(s))return{data:null,error:s};throw s}})}createSignedUrls(e,r,n){return F(this,void 0,void 0,function*(){try{const s=yield At(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:e},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(a=>Object.assign(Object.assign({},a),{signedUrl:a.signedURL?encodeURI(`${this.url}${a.signedURL}${i}`):null})),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ge(s))return{data:null,error:s};throw s}})}download(e,r){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),a=i?`?${i}`:"",o=this._getFinalPath(e),u=()=>hi(this.fetch,`${this.url}/${s}/${o}${a}`,{headers:this.headers,noResolveJson:!0});return new j_(u,this.shouldThrowOnError)}info(e){return F(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{const n=yield hi(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:mu(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ge(n))return{data:null,error:n};throw n}})}exists(e){return F(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{return yield b_(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ge(n)&&n instanceof pu){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,r){const n=this._getFinalPath(e),s=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&s.push(i);const o=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",u=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});u!==""&&s.push(u);let c=s.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${n}${c}`)}}}remove(e){return F(this,void 0,void 0,function*(){try{return{data:yield Pc(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ge(r))return{data:null,error:r};throw r}})}list(e,r,n){return F(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},S_),r),{prefix:e||""});return{data:yield At(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ge(s))return{data:null,error:s};throw s}})}listV2(e,r){return F(this,void 0,void 0,function*(){try{const n=Object.assign({},e);return{data:yield At(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ge(n))return{data:null,error:n};throw n}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const r=[];return e.width&&r.push(`width=${e.width}`),e.height&&r.push(`height=${e.height}`),e.resize&&r.push(`resize=${e.resize}`),e.format&&r.push(`format=${e.format}`),e.quality&&r.push(`quality=${e.quality}`),r.join("&")}}const Bg="2.84.0",Fg={"X-Client-Info":`storage-js/${Bg}`};class N_{constructor(e,r={},n,s){this.shouldThrowOnError=!1;const i=new URL(e);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Fg),r),this.fetch=Tc(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(e){return F(this,void 0,void 0,function*(){try{const r=this.listBucketOptionsToQueryString(e);return{data:yield hi(this.fetch,`${this.url}/bucket${r}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ge(r))return{data:null,error:r};throw r}})}getBucket(e){return F(this,void 0,void 0,function*(){try{return{data:yield hi(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ge(r))return{data:null,error:r};throw r}})}createBucket(e){return F(this,arguments,void 0,function*(r,n={public:!1}){try{return{data:yield At(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ge(s))return{data:null,error:s};throw s}})}updateBucket(e,r){return F(this,void 0,void 0,function*(){try{return{data:yield gu(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ge(n))return{data:null,error:n};throw n}})}emptyBucket(e){return F(this,void 0,void 0,function*(){try{return{data:yield At(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ge(r))return{data:null,error:r};throw r}})}deleteBucket(e){return F(this,void 0,void 0,function*(){try{return{data:yield Pc(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ge(r))return{data:null,error:r};throw r}})}listBucketOptionsToQueryString(e){const r={};return e&&("limit"in e&&(r.limit=String(e.limit)),"offset"in e&&(r.offset=String(e.offset)),e.search&&(r.search=e.search),e.sortColumn&&(r.sortColumn=e.sortColumn),e.sortOrder&&(r.sortOrder=e.sortOrder)),Object.keys(r).length>0?"?"+new URLSearchParams(r).toString():""}}class C_{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Fg),r),this.fetch=Tc(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return F(this,void 0,void 0,function*(){try{return{data:yield At(this.fetch,`${this.url}/bucket`,{name:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ge(r))return{data:null,error:r};throw r}})}listBuckets(e){return F(this,void 0,void 0,function*(){try{const r=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&r.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&r.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&r.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&r.set("sortOrder",e.sortOrder),e!=null&&e.search&&r.set("search",e.search);const n=r.toString(),s=n?`${this.url}/bucket?${n}`:`${this.url}/bucket`;return{data:yield hi(this.fetch,s,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ge(r))return{data:null,error:r};throw r}})}deleteBucket(e){return F(this,void 0,void 0,function*(){try{return{data:yield Pc(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ge(r))return{data:null,error:r};throw r}})}}const Oc={"X-Client-Info":`storage-js/${Bg}`,"Content-Type":"application/json"};class Vg extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function ft(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}class Xo extends Vg{constructor(e,r,n){super(e),this.name="StorageVectorsApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class T_ extends Vg{constructor(e,r){super(e),this.name="StorageVectorsUnknownError",this.originalError=r}}var qh;(function(t){t.InternalError="InternalError",t.S3VectorConflictException="S3VectorConflictException",t.S3VectorNotFoundException="S3VectorNotFoundException",t.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",t.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",t.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(qh||(qh={}));const Rc=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),P_=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},Kh=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),O_=(t,e,r)=>F(void 0,void 0,void 0,function*(){if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!(r!=null&&r.noResolveJson)){const s=t.status||500,i=t;if(typeof i.json=="function")i.json().then(a=>{const o=(a==null?void 0:a.statusCode)||(a==null?void 0:a.code)||s+"";e(new Xo(Kh(a),s,o))}).catch(()=>{const a=s+"",o=i.statusText||`HTTP ${s} error`;e(new Xo(o,s,a))});else{const a=s+"",o=i.statusText||`HTTP ${s} error`;e(new Xo(o,s,a))}}else e(new T_(Kh(t),t))}),R_=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return n?(P_(n)?(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(n)):s.body=n,Object.assign(Object.assign({},s),r)):s};function A_(t,e,r,n,s,i){return F(this,void 0,void 0,function*(){return new Promise((a,o)=>{t(r,R_(e,n,s,i)).then(u=>{if(!u.ok)throw u;if(n!=null&&n.noResolveJson)return u;const c=u.headers.get("content-type");return!c||!c.includes("application/json")?{}:u.json()}).then(u=>a(u)).catch(u=>O_(u,o,n))})})}function pt(t,e,r,n,s){return F(this,void 0,void 0,function*(){return A_(t,"POST",e,n,s,r)})}class I_{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Oc),r),this.fetch=Rc(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return F(this,void 0,void 0,function*(){try{return{data:(yield pt(this.fetch,`${this.url}/CreateIndex`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ft(r))return{data:null,error:r};throw r}})}getIndex(e,r){return F(this,void 0,void 0,function*(){try{return{data:yield pt(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:e,indexName:r},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ft(n))return{data:null,error:n};throw n}})}listIndexes(e){return F(this,void 0,void 0,function*(){try{return{data:yield pt(this.fetch,`${this.url}/ListIndexes`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ft(r))return{data:null,error:r};throw r}})}deleteIndex(e,r){return F(this,void 0,void 0,function*(){try{return{data:(yield pt(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:e,indexName:r},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ft(n))return{data:null,error:n};throw n}})}}class L_{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Oc),r),this.fetch=Rc(n)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return F(this,void 0,void 0,function*(){try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield pt(this.fetch,`${this.url}/PutVectors`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ft(r))return{data:null,error:r};throw r}})}getVectors(e){return F(this,void 0,void 0,function*(){try{return{data:yield pt(this.fetch,`${this.url}/GetVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ft(r))return{data:null,error:r};throw r}})}listVectors(e){return F(this,void 0,void 0,function*(){try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:yield pt(this.fetch,`${this.url}/ListVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ft(r))return{data:null,error:r};throw r}})}queryVectors(e){return F(this,void 0,void 0,function*(){try{return{data:yield pt(this.fetch,`${this.url}/QueryVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ft(r))return{data:null,error:r};throw r}})}deleteVectors(e){return F(this,void 0,void 0,function*(){try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield pt(this.fetch,`${this.url}/DeleteVectors`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ft(r))return{data:null,error:r};throw r}})}}class $_{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Oc),r),this.fetch=Rc(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return F(this,void 0,void 0,function*(){try{return{data:(yield pt(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ft(r))return{data:null,error:r};throw r}})}getBucket(e){return F(this,void 0,void 0,function*(){try{return{data:yield pt(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ft(r))return{data:null,error:r};throw r}})}listBuckets(){return F(this,arguments,void 0,function*(e={}){try{return{data:yield pt(this.fetch,`${this.url}/ListVectorBuckets`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ft(r))return{data:null,error:r};throw r}})}deleteBucket(e){return F(this,void 0,void 0,function*(){try{return{data:(yield pt(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ft(r))return{data:null,error:r};throw r}})}}class D_ extends $_{constructor(e,r={}){super(e,r.headers||{},r.fetch)}from(e){return new U_(this.url,this.headers,e,this.fetch)}}class U_ extends I_{constructor(e,r,n,s){super(e,r,s),this.vectorBucketName=n}createIndex(e){const r=Object.create(null,{createIndex:{get:()=>super.createIndex}});return F(this,void 0,void 0,function*(){return r.createIndex.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const e=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return F(this,arguments,void 0,function*(r={}){return e.listIndexes.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}getIndex(e){const r=Object.create(null,{getIndex:{get:()=>super.getIndex}});return F(this,void 0,void 0,function*(){return r.getIndex.call(this,this.vectorBucketName,e)})}deleteIndex(e){const r=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return F(this,void 0,void 0,function*(){return r.deleteIndex.call(this,this.vectorBucketName,e)})}index(e){return new M_(this.url,this.headers,this.vectorBucketName,e,this.fetch)}}class M_ extends L_{constructor(e,r,n,s,i){super(e,r,i),this.vectorBucketName=n,this.indexName=s}putVectors(e){const r=Object.create(null,{putVectors:{get:()=>super.putVectors}});return F(this,void 0,void 0,function*(){return r.putVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(e){const r=Object.create(null,{getVectors:{get:()=>super.getVectors}});return F(this,void 0,void 0,function*(){return r.getVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const e=Object.create(null,{listVectors:{get:()=>super.listVectors}});return F(this,arguments,void 0,function*(r={}){return e.listVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(e){const r=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return F(this,void 0,void 0,function*(){return r.queryVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(e){const r=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return F(this,void 0,void 0,function*(){return r.deleteVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class B_ extends N_{constructor(e,r={},n,s){super(e,r,n,s)}from(e){return new E_(this.url,this.headers,e,this.fetch)}get vectors(){return new D_(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new C_(this.url+"/iceberg",this.headers,this.fetch)}}const F_="2.84.0";let Os="";typeof Deno<"u"?Os="deno":typeof document<"u"?Os="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Os="react-native":Os="node";const V_={"X-Client-Info":`supabase-js-${Os}/${F_}`},z_={headers:V_},W_={schema:"public"},H_={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},q_={},K_=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),Z_=()=>Headers,G_=(t,e,r)=>{const n=K_(r),s=Z_();return async(i,a)=>{var o;const u=(o=await e())!==null&&o!==void 0?o:t;let c=new s(a==null?void 0:a.headers);return c.has("apikey")||c.set("apikey",t),c.has("Authorization")||c.set("Authorization",`Bearer ${u}`),n(i,Object.assign(Object.assign({},a),{headers:c}))}};function J_(t){return t.endsWith("/")?t:t+"/"}function Q_(t,e){var r,n;const{db:s,auth:i,realtime:a,global:o}=t,{db:u,auth:c,realtime:d,global:h}=e,f={db:Object.assign(Object.assign({},u),s),auth:Object.assign(Object.assign({},c),i),realtime:Object.assign(Object.assign({},d),a),storage:{},global:Object.assign(Object.assign(Object.assign({},h),o),{headers:Object.assign(Object.assign({},(r=h==null?void 0:h.headers)!==null&&r!==void 0?r:{}),(n=o==null?void 0:o.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return t.accessToken?f.accessToken=t.accessToken:delete f.accessToken,f}function Y_(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(J_(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const zg="2.84.0",Nn=30*1e3,yu=3,el=yu*Nn,X_="http://localhost:9999",eb="supabase.auth.token",tb={"X-Client-Info":`gotrue-js/${zg}`},vu="X-Supabase-Api-Version",Wg={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},rb=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,nb=10*60*1e3;class fi extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function V(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class sb extends fi{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function ib(t){return V(t)&&t.name==="AuthApiError"}class Xr extends fi{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class Wr extends fi{constructor(e,r,n,s){super(e,n,s),this.name=r,this.status=n}}class ct extends Wr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function ab(t){return V(t)&&t.name==="AuthSessionMissingError"}class wn extends Wr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Zi extends Wr{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Gi extends Wr{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function ob(t){return V(t)&&t.name==="AuthImplicitGrantRedirectError"}class Zh extends Wr{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class xu extends Wr{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function tl(t){return V(t)&&t.name==="AuthRetryableFetchError"}class Gh extends Wr{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class wu extends Wr{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const za="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Jh=` 	
\r=`.split(""),lb=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<Jh.length;e+=1)t[Jh[e].charCodeAt(0)]=-2;for(let e=0;e<za.length;e+=1)t[za[e].charCodeAt(0)]=e;return t})();function Qh(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(za[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(za[n]),e.queuedBits-=6}}function Hg(t,e,r){const n=lb[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function Yh(t){const e=[],r=a=>{e.push(String.fromCodePoint(a))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=a=>{db(a,n,r)};for(let a=0;a<t.length;a+=1)Hg(t.charCodeAt(a),s,i);return e.join("")}function ub(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function cb(t,e){for(let r=0;r<t.length;r+=1){let n=t.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(t.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}ub(n,e)}}function db(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let n=1;n<6;n+=1)if(!(t>>7-n&1)){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function Kn(t){const e=[],r={queue:0,queuedBits:0},n=s=>{e.push(s)};for(let s=0;s<t.length;s+=1)Hg(t.charCodeAt(s),r,n);return new Uint8Array(e)}function hb(t){const e=[];return cb(t,r=>e.push(r)),new Uint8Array(e)}function sn(t){const e=[],r={queue:0,queuedBits:0},n=s=>{e.push(s)};return t.forEach(s=>Qh(s,r,n)),Qh(null,r,n),e.join("")}function fb(t){return Math.round(Date.now()/1e3)+t}function pb(){return Symbol("auth-callback")}const Fe=()=>typeof window<"u"&&typeof document<"u",qr={tested:!1,writable:!1},qg=()=>{if(!Fe())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(qr.tested)return qr.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),qr.tested=!0,qr.writable=!0}catch{qr.tested=!0,qr.writable=!1}return qr.writable};function mb(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,i)=>{e[i]=s})}catch{}return r.searchParams.forEach((n,s)=>{e[s]=n}),e}const Kg=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),gb=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Cn=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},Kr=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},mr=async(t,e)=>{await t.removeItem(e)};class mo{constructor(){this.promise=new mo.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}mo.promiseConstructor=Promise;function rl(t){const e=t.split(".");if(e.length!==3)throw new wu("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!rb.test(e[n]))throw new wu("JWT not in base64url format");return{header:JSON.parse(Yh(e[0])),payload:JSON.parse(Yh(e[1])),signature:Kn(e[2]),raw:{header:e[0],payload:e[1]}}}async function yb(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function vb(t,e){return new Promise((n,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const a=await t(i);if(!e(i,null,a)){n(a);return}}catch(a){if(!e(i,a)){s(a);return}}})()})}function xb(t){return("0"+t.toString(16)).substr(-2)}function wb(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let i=0;i<56;i++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(e),Array.from(e,xb).join("")}async function _b(t){const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function bb(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await _b(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function _n(t,e,r=!1){const n=wb();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await Cn(t,`${e}-code-verifier`,s);const i=await bb(n);return[i,n===i?"plain":"s256"]}const kb=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function jb(t){const e=t.headers.get(vu);if(!e||!e.match(kb))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function Sb(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function Eb(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Nb=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function bn(t){if(!Nb.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function nl(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Cb(t,e){return new Proxy(t,{get:(r,n,s)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const i=n.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,s)}return!e.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(r,n,s)}})}function Xh(t){return JSON.parse(JSON.stringify(t))}const Jr=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Tb=[502,503,504];async function ef(t){var e;if(!gb(t))throw new xu(Jr(t),0);if(Tb.includes(t.status))throw new xu(Jr(t),t.status);let r;try{r=await t.json()}catch(i){throw new Xr(Jr(i),i)}let n;const s=jb(t);if(s&&s.getTime()>=Wg["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new Gh(Jr(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new ct}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,a)=>i&&typeof a=="string",!0))throw new Gh(Jr(r),t.status,r.weak_password.reasons);throw new sb(Jr(r),t.status||500,n)}const Pb=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function W(t,e,r,n){var s;const i=Object.assign({},n==null?void 0:n.headers);i[vu]||(i[vu]=Wg["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const a=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(a.redirect_to=n.redirectTo);const o=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",u=await Ob(t,e,r+o,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(u):{data:Object.assign({},u),error:null}}async function Ob(t,e,r,n,s,i){const a=Pb(e,n,s,i);let o;try{o=await t(r,Object.assign({},a))}catch(u){throw console.error(u),new xu(Jr(u),0)}if(o.ok||await ef(o),n!=null&&n.noResolveJson)return o;try{return await o.json()}catch(u){await ef(u)}}function Ot(t){var e;let r=null;Ib(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=fb(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function tf(t){const e=Ot(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function br(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function Rb(t){return{data:t,error:null}}function Ab(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i}=t,a=fs(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),o={action_link:e,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i},u=Object.assign({},a);return{data:{properties:o,user:u},error:null}}function rf(t){return t}function Ib(t){return t.access_token&&t.refresh_token&&t.expires_in}const sl=["global","local","others"];class Lb{constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=Kg(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,r=sl[0]){if(sl.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${sl.join(", ")}`);try{return await W(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(V(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,r={}){try{return await W(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:br})}catch(n){if(V(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:r}=e,n=fs(e,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await W(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:Ab,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(V(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await W(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:br})}catch(r){if(V(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,n,s,i,a,o,u;try{const c={nextPage:null,lastPage:0,total:0},d=await W(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:rf});if(d.error)throw d.error;const h=await d.json(),f=(a=d.headers.get("x-total-count"))!==null&&a!==void 0?a:0,p=(u=(o=d.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&u!==void 0?u:[];return p.length>0&&(p.forEach(x=>{const y=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(x.split(";")[1].split("=")[1]);c[`${w}Page`]=y}),c.total=parseInt(f)),{data:Object.assign(Object.assign({},h),c),error:null}}catch(c){if(V(c))return{data:{users:[]},error:c};throw c}}async getUserById(e){bn(e);try{return await W(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:br})}catch(r){if(V(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){bn(e);try{return await W(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:br})}catch(n){if(V(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,r=!1){bn(e);try{return await W(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:br})}catch(n){if(V(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){bn(e.userId);try{const{data:r,error:n}=await W(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(V(r))return{data:null,error:r};throw r}}async _deleteFactor(e){bn(e.userId),bn(e.id);try{return{data:await W(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(V(r))return{data:null,error:r};throw r}}async _listOAuthClients(e){var r,n,s,i,a,o,u;try{const c={nextPage:null,lastPage:0,total:0},d=await W(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:rf});if(d.error)throw d.error;const h=await d.json(),f=(a=d.headers.get("x-total-count"))!==null&&a!==void 0?a:0,p=(u=(o=d.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&u!==void 0?u:[];return p.length>0&&(p.forEach(x=>{const y=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(x.split(";")[1].split("=")[1]);c[`${w}Page`]=y}),c.total=parseInt(f)),{data:Object.assign(Object.assign({},h),c),error:null}}catch(c){if(V(c))return{data:{clients:[]},error:c};throw c}}async _createOAuthClient(e){try{return await W(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(V(r))return{data:null,error:r};throw r}}async _getOAuthClient(e){try{return await W(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(V(r))return{data:null,error:r};throw r}}async _updateOAuthClient(e,r){try{return await W(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(V(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(e){try{return await W(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(V(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(e){try{return await W(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(V(r))return{data:null,error:r};throw r}}}function nf(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}const kn={debug:!!(globalThis&&qg()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Zg extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class $b extends Zg{}async function Db(t,e,r){kn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),kn.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){kn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await r()}finally{kn.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw kn.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new $b(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(kn.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function Ub(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Gg(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function Mb(t){return parseInt(t,16)}function Bb(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,n=>n.toString(16).padStart(2,"0")).join("")}function Fb(t){var e;const{chainId:r,domain:n,expirationTime:s,issuedAt:i=new Date,nonce:a,notBefore:o,requestId:u,resources:c,scheme:d,uri:h,version:f}=t;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(a&&a.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${a}`);if(!h)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(f!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${f}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const p=Gg(t.address),x=d?`${d}://${n}`:n,y=t.statement?`${t.statement}
`:"",w=`${x} wants you to sign in with your Ethereum account:
${p}

${y}`;let g=`URI: ${h}
Version: ${f}
Chain ID: ${r}${a?`
Nonce: ${a}`:""}
Issued At: ${i.toISOString()}`;if(s&&(g+=`
Expiration Time: ${s.toISOString()}`),o&&(g+=`
Not Before: ${o.toISOString()}`),u&&(g+=`
Request ID: ${u}`),c){let m=`
Resources:`;for(const v of c){if(!v||typeof v!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${v}`);m+=`
- ${v}`}g+=m}return`${w}
${g}`}class Ne extends Error{constructor({message:e,code:r,cause:n,name:s}){var i;super(e,{cause:n}),this.__isWebAuthnError=!0,this.name=(i=s??(n instanceof Error?n.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=r}}class Wa extends Ne{constructor(e,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:e}),this.name="WebAuthnUnknownError",this.originalError=r}}function Vb({error:t,options:e}){var r,n,s;const{publicKey:i}=e;if(!i)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Ne({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((r=i.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new Ne({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((n=i.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new Ne({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((s=i.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new Ne({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new Ne({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new Ne({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return i.pubKeyCredParams.filter(o=>o.type==="public-key").length===0?new Ne({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new Ne({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const a=window.location.hostname;if(Jg(a)){if(i.rp.id!==a)return new Ne({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Ne({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new Ne({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new Ne({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Ne({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function zb({error:t,options:e}){const{publicKey:r}=e;if(!r)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Ne({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new Ne({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const n=window.location.hostname;if(Jg(n)){if(r.rpId!==n)return new Ne({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Ne({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new Ne({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Ne({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class Wb{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const Hb=new Wb;function qb(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:r,excludeCredentials:n}=t,s=fs(t,["challenge","user","excludeCredentials"]),i=Kn(e).buffer,a=Object.assign(Object.assign({},r),{id:Kn(r.id).buffer}),o=Object.assign(Object.assign({},s),{challenge:i,user:a});if(n&&n.length>0){o.excludeCredentials=new Array(n.length);for(let u=0;u<n.length;u++){const c=n[u];o.excludeCredentials[u]=Object.assign(Object.assign({},c),{id:Kn(c.id).buffer,type:c.type||"public-key",transports:c.transports})}}return o}function Kb(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:r}=t,n=fs(t,["challenge","allowCredentials"]),s=Kn(e).buffer,i=Object.assign(Object.assign({},n),{challenge:s});if(r&&r.length>0){i.allowCredentials=new Array(r.length);for(let a=0;a<r.length;a++){const o=r[a];i.allowCredentials[a]=Object.assign(Object.assign({},o),{id:Kn(o.id).buffer,type:o.type||"public-key",transports:o.transports})}}return i}function Zb(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t;return{id:t.id,rawId:t.id,response:{attestationObject:sn(new Uint8Array(t.response.attestationObject)),clientDataJSON:sn(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function Gb(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t,n=t.getClientExtensionResults(),s=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:sn(new Uint8Array(s.authenticatorData)),clientDataJSON:sn(new Uint8Array(s.clientDataJSON)),signature:sn(new Uint8Array(s.signature)),userHandle:s.userHandle?sn(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function Jg(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function sf(){var t,e;return!!(Fe()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function Jb(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Wa("Browser returned unexpected credential type",e)}:{data:null,error:new Wa("Empty credential response",e)}}catch(e){return{data:null,error:Vb({error:e,options:t})}}}async function Qb(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Wa("Browser returned unexpected credential type",e)}:{data:null,error:new Wa("Empty credential response",e)}}catch(e){return{data:null,error:zb({error:e,options:t})}}}const Yb={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},Xb={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Ha(...t){const e=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),r=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),n={};for(const s of t)if(s)for(const i in s){const a=s[i];if(a!==void 0)if(Array.isArray(a))n[i]=a;else if(r(a))n[i]=a;else if(e(a)){const o=n[i];e(o)?n[i]=Ha(o,a):n[i]=Ha(a)}else n[i]=a}return n}function e1(t,e){return Ha(Yb,t,e||{})}function t1(t,e){return Ha(Xb,t,e||{})}class r1{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:r,friendlyName:n,signal:s},i){try{const{data:a,error:o}=await this.client.mfa.challenge({factorId:e,webauthn:r});if(!a)return{data:null,error:o};const u=s??Hb.createNewAbortSignal();if(a.webauthn.type==="create"){const{user:c}=a.webauthn.credential_options.publicKey;c.name||(c.name=`${c.id}:${n}`),c.displayName||(c.displayName=c.name)}switch(a.webauthn.type){case"create":{const c=e1(a.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:d,error:h}=await Jb({publicKey:c,signal:u});return d?{data:{factorId:e,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:d}},error:null}:{data:null,error:h}}case"request":{const c=t1(a.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:d,error:h}=await Qb(Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:c,signal:u}));return d?{data:{factorId:e,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:d}},error:null}:{data:null,error:h}}}}catch(a){return V(a)?{data:null,error:a}:{data:null,error:new Xr("Unexpected error in challenge",a)}}}async _verify({challengeId:e,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:e,webauthn:n})}async _authenticate({factorId:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!r)return{data:null,error:new fi("rpId is required for WebAuthn authentication")};try{if(!sf())return{data:null,error:new Xr("Browser does not support WebAuthn",null)};const{data:a,error:o}=await this.challenge({factorId:e,webauthn:{rpId:r,rpOrigins:n},signal:s},{request:i});if(!a)return{data:null,error:o};const{webauthn:u}=a;return this._verify({factorId:e,challengeId:a.challengeId,webauthn:{type:u.type,rpId:r,rpOrigins:n,credential_response:u.credential_response}})}catch(a){return V(a)?{data:null,error:a}:{data:null,error:new Xr("Unexpected error in authenticate",a)}}}async _register({friendlyName:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!r)return{data:null,error:new fi("rpId is required for WebAuthn registration")};try{if(!sf())return{data:null,error:new Xr("Browser does not support WebAuthn",null)};const{data:a,error:o}=await this._enroll({friendlyName:e});if(!a)return await this.client.mfa.listFactors().then(d=>{var h;return(h=d.data)===null||h===void 0?void 0:h.all.find(f=>f.factor_type==="webauthn"&&f.friendly_name===e&&f.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d==null?void 0:d.id}):void 0),{data:null,error:o};const{data:u,error:c}=await this._challenge({factorId:a.id,friendlyName:a.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:s},{create:i});return u?this._verify({factorId:a.id,challengeId:u.challengeId,webauthn:{rpId:r,rpOrigins:n,type:u.webauthn.type,credential_response:u.webauthn.credential_response}}):{data:null,error:c}}catch(a){return V(a)?{data:null,error:a}:{data:null,error:new Xr("Unexpected error in register",a)}}}}Ub();const n1={url:X_,storageKey:eb,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:tb,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function af(t,e,r){return await r()}const jn={};class pi{get jwks(){var e,r;return(r=(e=jn[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){jn[this.storageKey]=Object.assign(Object.assign({},jn[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=jn[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){jn[this.storageKey]=Object.assign(Object.assign({},jn[this.storageKey]),{cachedAt:e})}constructor(e){var r,n,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const i=Object.assign(Object.assign({},n1),e);if(this.storageKey=i.storageKey,this.instanceID=(r=pi.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,pi.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.instanceID>0&&Fe()){const a=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(a),this.logDebugMessages&&console.trace(a)}if(this.persistSession=i.persistSession,this.autoRefreshToken=i.autoRefreshToken,this.admin=new Lb({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=Kg(i.fetch),this.lock=i.lock||af,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,this.throwOnError=i.throwOnError,i.lock?this.lock=i.lock:Fe()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=Db:this.lock=af,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new r1(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:qg()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=nf(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=nf(this.memoryStorage)),Fe()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${zg}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let r={},n="none";if(Fe()&&(r=mb(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),Fe()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),ob(i)){const u=(e=i.details)===null||e===void 0?void 0:e.code;if(u==="identity_already_exists"||u==="identity_not_found"||u==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:a,redirectType:o}=s;return this._debug("#_initialize()","detected session in URL",a,"redirect type",o),await this._saveSession(a),setTimeout(async()=>{o==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return V(r)?this._returnResult({error:r}):this._returnResult({error:new Xr("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,n,s;try{const i=await W(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:Ot}),{data:a,error:o}=i;if(o||!a)return this._returnResult({data:{user:null,session:null},error:o});const u=a.session,c=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",u)),this._returnResult({data:{user:c,session:u},error:null})}catch(i){if(V(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signUp(e){var r,n,s;try{let i;if("email"in e){const{email:d,password:h,options:f}=e;let p=null,x=null;this.flowType==="pkce"&&([p,x]=await _n(this.storage,this.storageKey)),i=await W(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:d,password:h,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:p,code_challenge_method:x},xform:Ot})}else if("phone"in e){const{phone:d,password:h,options:f}=e;i=await W(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},channel:(s=f==null?void 0:f.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:Ot})}else throw new Zi("You must provide either an email or phone number and a password");const{data:a,error:o}=i;if(o||!a)return this._returnResult({data:{user:null,session:null},error:o});const u=a.session,c=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",u)),this._returnResult({data:{user:c,session:u},error:null})}catch(i){if(V(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithPassword(e){try{let r;if("email"in e){const{email:i,password:a,options:o}=e;r=await W(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:tf})}else if("phone"in e){const{phone:i,password:a,options:o}=e;r=await W(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:tf})}else throw new Zi("You must provide either an email or phone number and a password");const{data:n,error:s}=r;if(s)return this._returnResult({data:{user:null,session:null},error:s});if(!n||!n.session||!n.user){const i=new wn;return this._returnResult({data:{user:null,session:null},error:i})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(V(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(e){var r,n,s,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;switch(r){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(e){var r,n,s,i,a,o,u,c,d,h,f;let p,x;if("message"in e)p=e.message,x=e.signature;else{const{chain:y,wallet:w,statement:g,options:m}=e;let v;if(Fe())if(typeof w=="object")v=w;else{const Z=window;if("ethereum"in Z&&typeof Z.ethereum=="object"&&"request"in Z.ethereum&&typeof Z.ethereum.request=="function")v=Z.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof w!="object"||!(m!=null&&m.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");v=w}const b=new URL((r=m==null?void 0:m.url)!==null&&r!==void 0?r:window.location.href),E=await v.request({method:"eth_requestAccounts"}).then(Z=>Z).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!E||E.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const T=Gg(E[0]);let N=(n=m==null?void 0:m.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!N){const Z=await v.request({method:"eth_chainId"});N=Mb(Z)}const A={domain:b.host,address:T,statement:g,uri:b.href,version:"1",chainId:N,nonce:(s=m==null?void 0:m.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(a=(i=m==null?void 0:m.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&a!==void 0?a:new Date,expirationTime:(o=m==null?void 0:m.signInWithEthereum)===null||o===void 0?void 0:o.expirationTime,notBefore:(u=m==null?void 0:m.signInWithEthereum)===null||u===void 0?void 0:u.notBefore,requestId:(c=m==null?void 0:m.signInWithEthereum)===null||c===void 0?void 0:c.requestId,resources:(d=m==null?void 0:m.signInWithEthereum)===null||d===void 0?void 0:d.resources};p=Fb(A),x=await v.request({method:"personal_sign",params:[Bb(p),T]})}try{const{data:y,error:w}=await W(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:p,signature:x},!((h=e.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(f=e.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:Ot});if(w)throw w;if(!y||!y.session||!y.user){const g=new wn;return this._returnResult({data:{user:null,session:null},error:g})}return y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),this._returnResult({data:Object.assign({},y),error:w})}catch(y){if(V(y))return this._returnResult({data:{user:null,session:null},error:y});throw y}}async signInWithSolana(e){var r,n,s,i,a,o,u,c,d,h,f,p;let x,y;if("message"in e)x=e.message,y=e.signature;else{const{chain:w,wallet:g,statement:m,options:v}=e;let b;if(Fe())if(typeof g=="object")b=g;else{const T=window;if("solana"in T&&typeof T.solana=="object"&&("signIn"in T.solana&&typeof T.solana.signIn=="function"||"signMessage"in T.solana&&typeof T.solana.signMessage=="function"))b=T.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof g!="object"||!(v!=null&&v.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");b=g}const E=new URL((r=v==null?void 0:v.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in b&&b.signIn){const T=await b.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},v==null?void 0:v.signInWithSolana),{version:"1",domain:E.host,uri:E.href}),m?{statement:m}:null));let N;if(Array.isArray(T)&&T[0]&&typeof T[0]=="object")N=T[0];else if(T&&typeof T=="object"&&"signedMessage"in T&&"signature"in T)N=T;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in N&&"signature"in N&&(typeof N.signedMessage=="string"||N.signedMessage instanceof Uint8Array)&&N.signature instanceof Uint8Array)x=typeof N.signedMessage=="string"?N.signedMessage:new TextDecoder().decode(N.signedMessage),y=N.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in b)||typeof b.signMessage!="function"||!("publicKey"in b)||typeof b!="object"||!b.publicKey||!("toBase58"in b.publicKey)||typeof b.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");x=[`${E.host} wants you to sign in with your Solana account:`,b.publicKey.toBase58(),...m?["",m,""]:[""],"Version: 1",`URI: ${E.href}`,`Issued At: ${(s=(n=v==null?void 0:v.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=v==null?void 0:v.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${v.signInWithSolana.notBefore}`]:[],...!((a=v==null?void 0:v.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${v.signInWithSolana.expirationTime}`]:[],...!((o=v==null?void 0:v.signInWithSolana)===null||o===void 0)&&o.chainId?[`Chain ID: ${v.signInWithSolana.chainId}`]:[],...!((u=v==null?void 0:v.signInWithSolana)===null||u===void 0)&&u.nonce?[`Nonce: ${v.signInWithSolana.nonce}`]:[],...!((c=v==null?void 0:v.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${v.signInWithSolana.requestId}`]:[],...!((h=(d=v==null?void 0:v.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||h===void 0)&&h.length?["Resources",...v.signInWithSolana.resources.map(N=>`- ${N}`)]:[]].join(`
`);const T=await b.signMessage(new TextEncoder().encode(x),"utf8");if(!T||!(T instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");y=T}}try{const{data:w,error:g}=await W(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:x,signature:sn(y)},!((f=e.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(p=e.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:Ot});if(g)throw g;if(!w||!w.session||!w.user){const m=new wn;return this._returnResult({data:{user:null,session:null},error:m})}return w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),this._returnResult({data:Object.assign({},w),error:g})}catch(w){if(V(w))return this._returnResult({data:{user:null,session:null},error:w});throw w}}async _exchangeCodeForSession(e){const r=await Kr(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:i,error:a}=await W(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:Ot});if(await mr(this.storage,`${this.storageKey}-code-verifier`),a)throw a;if(!i||!i.session||!i.user){const o=new wn;return this._returnResult({data:{user:null,session:null,redirectType:null},error:o})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:a})}catch(i){if(V(i))return this._returnResult({data:{user:null,session:null,redirectType:null},error:i});throw i}}async signInWithIdToken(e){try{const{options:r,provider:n,token:s,access_token:i,nonce:a}=e,o=await W(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:i,nonce:a,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Ot}),{data:u,error:c}=o;if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!u||!u.session||!u.user){const d=new wn;return this._returnResult({data:{user:null,session:null},error:d})}return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),this._returnResult({data:u,error:c})}catch(r){if(V(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(e){var r,n,s,i,a;try{if("email"in e){const{email:o,options:u}=e;let c=null,d=null;this.flowType==="pkce"&&([c,d]=await _n(this.storage,this.storageKey));const{error:h}=await W(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:o,data:(r=u==null?void 0:u.data)!==null&&r!==void 0?r:{},create_user:(n=u==null?void 0:u.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken},code_challenge:c,code_challenge_method:d},redirectTo:u==null?void 0:u.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:h})}if("phone"in e){const{phone:o,options:u}=e,{data:c,error:d}=await W(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:o,data:(s=u==null?void 0:u.data)!==null&&s!==void 0?s:{},create_user:(i=u==null?void 0:u.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken},channel:(a=u==null?void 0:u.channel)!==null&&a!==void 0?a:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:d})}throw new Zi("You must provide either an email or phone number.")}catch(o){if(V(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async verifyOtp(e){var r,n;try{let s,i;"options"in e&&(s=(r=e.options)===null||r===void 0?void 0:r.redirectTo,i=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:a,error:o}=await W(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:Ot});if(o)throw o;if(!a)throw new Error("An error occurred on token verification.");const u=a.session,c=a.user;return u!=null&&u.access_token&&(await this._saveSession(u),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",u)),this._returnResult({data:{user:c,session:u},error:null})}catch(s){if(V(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithSSO(e){var r,n,s,i,a;try{let o=null,u=null;this.flowType==="pkce"&&([o,u]=await _n(this.storage,this.storageKey));const c=await W(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:u}),headers:this.headers,xform:Rb});return!((i=c.data)===null||i===void 0)&&i.url&&Fe()&&!(!((a=e.options)===null||a===void 0)&&a.skipBrowserRedirect)&&window.location.assign(c.data.url),this._returnResult(c)}catch(o){if(V(o))return this._returnResult({data:null,error:o});throw o}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new ct;const{error:s}=await W(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:s})})}catch(e){if(V(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:n,type:s,options:i}=e,{error:a}=await W(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:a})}else if("phone"in e){const{phone:n,type:s,options:i}=e,{data:a,error:o}=await W(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:o})}throw new Zi("You must provide either an email or phone number and a type")}catch(r){if(V(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await Kr(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<el:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.userStorage){const a=await Kr(this.userStorage,this.storageKey+"-user");a!=null&&a.user?e.user=a.user:e.user=nl()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const a={value:this.suppressGetSessionWarning};e.user=Cb(e.user,a),a.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?this._returnResult({data:{session:null},error:i}):this._returnResult({data:{session:s},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await W(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:br}):await this._useSession(async r=>{var n,s,i;const{data:a,error:o}=r;if(o)throw o;return!(!((n=a.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ct}:await W(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=a.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:br})})}catch(r){if(V(r))return ab(r)&&(await this._removeSession(),await mr(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async n=>{const{data:s,error:i}=n;if(i)throw i;if(!s.session)throw new ct;const a=s.session;let o=null,u=null;this.flowType==="pkce"&&e.email!=null&&([o,u]=await _n(this.storage,this.storageKey));const{data:c,error:d}=await W(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:o,code_challenge_method:u}),jwt:a.access_token,xform:br});if(d)throw d;return a.user=c.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),this._returnResult({data:{user:a.user},error:null})})}catch(n){if(V(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new ct;const r=Date.now()/1e3;let n=r,s=!0,i=null;const{payload:a}=rl(e.access_token);if(a.exp&&(n=a.exp,s=n<=r),s){const{data:o,error:u}=await this._callRefreshToken(e.refresh_token);if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!o)return{data:{user:null,session:null},error:null};i=o}else{const{data:o,error:u}=await this._getUser(e.access_token);if(u)throw u;i={access_token:e.access_token,refresh_token:e.refresh_token,user:o.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return this._returnResult({data:{user:i.user,session:i},error:null})}catch(r){if(V(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var n;if(!e){const{data:a,error:o}=r;if(o)throw o;e=(n=a.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new ct;const{data:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?this._returnResult({data:{user:null,session:null},error:i}):s?this._returnResult({data:{user:s.user,session:s},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(V(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(e,r){try{if(!Fe())throw new Gi("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Gi(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Zh("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Gi("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Zh("No code detected.");const{data:m,error:v}=await this._exchangeCodeForSession(e.code);if(v)throw v;const b=new URL(window.location.href);return b.searchParams.delete("code"),window.history.replaceState(window.history.state,"",b.toString()),{data:{session:m.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:i,refresh_token:a,expires_in:o,expires_at:u,token_type:c}=e;if(!i||!o||!a||!c)throw new Gi("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(o);let f=d+h;u&&(f=parseInt(u));const p=f-d;p*1e3<=Nn&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${h}s`);const x=f-h;d-x>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",x,f,d):d-x<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",x,f,d);const{data:y,error:w}=await this._getUser(i);if(w)throw w;const g={provider_token:n,provider_refresh_token:s,access_token:i,expires_in:h,expires_at:f,refresh_token:a,token_type:c,user:y.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:g,redirectType:e.type},error:null})}catch(n){if(V(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await Kr(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return this._returnResult({error:i});const a=(n=s.session)===null||n===void 0?void 0:n.access_token;if(a){const{error:o}=await this.admin.signOut(a,e);if(o&&!(ib(o)&&(o.status===404||o.status===401||o.status===403)))return this._returnResult({error:o})}return e!=="others"&&(await this._removeSession(),await mr(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const r=pb(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async r=>{var n,s;try{const{data:{session:i},error:a}=r;if(a)throw a;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await _n(this.storage,this.storageKey,!0));try{return await W(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(V(i))return this._returnResult({data:null,error:i});throw i}}async getUserIdentities(){var e;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(r){if(V(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var r;try{const{data:n,error:s}=await this._useSession(async i=>{var a,o,u,c,d;const{data:h,error:f}=i;if(f)throw f;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(a=e.options)===null||a===void 0?void 0:a.redirectTo,scopes:(o=e.options)===null||o===void 0?void 0:o.scopes,queryParams:(u=e.options)===null||u===void 0?void 0:u.queryParams,skipBrowserRedirect:!0});return await W(this.fetch,"GET",p,{headers:this.headers,jwt:(d=(c=h.session)===null||c===void 0?void 0:c.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return Fe()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),this._returnResult({data:{provider:e.provider,url:n==null?void 0:n.url},error:null})}catch(n){if(V(n))return this._returnResult({data:{provider:e.provider,url:null},error:n});throw n}}async linkIdentityIdToken(e){return await this._useSession(async r=>{var n;try{const{error:s,data:{session:i}}=r;if(s)throw s;const{options:a,provider:o,token:u,access_token:c,nonce:d}=e,h=await W(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=i==null?void 0:i.access_token)!==null&&n!==void 0?n:void 0,body:{provider:o,id_token:u,access_token:c,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Ot}),{data:f,error:p}=h;return p?this._returnResult({data:{user:null,session:null},error:p}):!f||!f.session||!f.user?this._returnResult({data:{user:null,session:null},error:new wn}):(f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("USER_UPDATED",f.session)),this._returnResult({data:f,error:p}))}catch(s){if(V(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}async unlinkIdentity(e){try{return await this._useSession(async r=>{var n,s;const{data:i,error:a}=r;if(a)throw a;return await W(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(V(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await vb(async s=>(s>0&&await yb(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await W(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Ot})),(s,i)=>{const a=200*Math.pow(2,s);return i&&tl(i)&&Date.now()+a-n<Nn})}catch(n){if(this._debug(r,"error",n),V(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),Fe()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await Kr(this.storage,this.storageKey);if(s&&this.userStorage){let a=await Kr(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:s.user},await Cn(this.userStorage,this.storageKey+"-user",a)),s.user=(e=a==null?void 0:a.user)!==null&&e!==void 0?e:nl()}else if(s&&!s.user&&!s.user){const a=await Kr(this.storage,this.storageKey+"-user");a&&(a!=null&&a.user)?(s.user=a.user,await mr(this.storage,this.storageKey+"-user"),await Cn(this.storage,this.storageKey,s)):s.user=nl()}if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const i=((r=s.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<el;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${el}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:a}=await this._callRefreshToken(s.refresh_token);a&&(console.error(a),tl(a)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:a,error:o}=await this._getUser(s.access_token);!o&&(a!=null&&a.user)?(s.user=a.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(n,"error getting user data, skipping SIGNED_IN notification",a)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var r,n;if(!e)throw new ct;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new mo;const{data:i,error:a}=await this._refreshAccessToken(e);if(a)throw a;if(!i.session)throw new ct;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const o={data:i.session,error:null};return this.refreshingDeferred.resolve(o),o}catch(i){if(this._debug(s,"error",i),V(i)){const a={data:null,error:i};return tl(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(a),a}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,r,n=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const i=[],a=Array.from(this.stateChangeEmitters.values()).map(async o=>{try{await o.callback(e,r)}catch(u){i.push(u)}});if(await Promise.all(a),i.length>0){for(let o=0;o<i.length;o+=1)console.error(i[o]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const r=Object.assign({},e),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Cn(this.userStorage,this.storageKey+"-user",{user:r.user});const s=Object.assign({},r);delete s.user;const i=Xh(s);await Cn(this.storage,this.storageKey,i)}else{const s=Xh(r);await Cn(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await mr(this.storage,this.storageKey),await mr(this.storage,this.storageKey+"-code-verifier"),await mr(this.storage,this.storageKey+"-user"),this.userStorage&&await mr(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Fe()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Nn);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-e)/Nn);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Nn}ms, refresh threshold is ${yu} ticks`),s<=yu&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Zg)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Fe()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,a]=await _n(this.storage,this.storageKey),o=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(a)}`});s.push(o.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);s.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?this._returnResult({data:null,error:i}):await W(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(V(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(e){try{return await this._useSession(async r=>{var n,s;const{data:i,error:a}=r;if(a)return this._returnResult({data:null,error:a});const o=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:u,error:c}=await W(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return c?this._returnResult({data:null,error:c}):(e.factorType==="totp"&&u.type==="totp"&&(!((s=u==null?void 0:u.totp)===null||s===void 0)&&s.qr_code)&&(u.totp.qr_code=`data:image/svg+xml;utf-8,${u.totp.qr_code}`),this._returnResult({data:u,error:null}))})}catch(r){if(V(r))return this._returnResult({data:null,error:r});throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return this._returnResult({data:null,error:i});const a=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?Zb(e.webauthn.credential_response):Gb(e.webauthn.credential_response)})}:{code:e.code}),{data:o,error:u}=await W(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:a,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return u?this._returnResult({data:null,error:u}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),this._returnResult({data:o,error:u}))})}catch(r){if(V(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return this._returnResult({data:null,error:i});const a=await W(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});if(a.error)return a;const{data:o}=a;if(o.type!=="webauthn")return{data:o,error:null};switch(o.webauthn.type){case"create":return{data:Object.assign(Object.assign({},o),{webauthn:Object.assign(Object.assign({},o.webauthn),{credential_options:Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:qb(o.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},o),{webauthn:Object.assign(Object.assign({},o.webauthn),{credential_options:Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:Kb(o.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(V(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(e){const{data:r,error:n}=await this._challenge({factorId:e.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){var e;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const s={all:[],phone:[],totp:[],webauthn:[]};for(const i of(e=r==null?void 0:r.factors)!==null&&e!==void 0?e:[])s.all.push(i),i.status==="verified"&&s[i.factor_type].push(i);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(){var e,r;const{data:{session:n},error:s}=await this.getSession();if(s)return this._returnResult({data:null,error:s});if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=rl(n.access_token);let a=null;i.aal&&(a=i.aal);let o=a;((r=(e=n.user.factors)===null||e===void 0?void 0:e.filter(d=>d.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(o="aal2");const c=i.amr||[];return{data:{currentLevel:a,nextLevel:o,currentAuthenticationMethods:c},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async r=>{const{data:{session:n},error:s}=r;return s?this._returnResult({data:null,error:s}):n?await W(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new ct})})}catch(r){if(V(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(e,r){try{return await this._useSession(async n=>{const{data:{session:s},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new ct});const a=await W(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"approve"},xform:o=>({data:o,error:null})});return a.data&&a.data.redirect_url&&Fe()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(n){if(V(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(e,r){try{return await this._useSession(async n=>{const{data:{session:s},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new ct});const a=await W(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"deny"},xform:o=>({data:o,error:null})});return a.data&&a.data.redirect_url&&Fe()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(n){if(V(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;return n?this._returnResult({data:null,error:n}):r?await W(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new ct})})}catch(e){if(V(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async r=>{const{data:{session:n},error:s}=r;return s?this._returnResult({data:null,error:s}):n?await W(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:e.clientId},xform:()=>({data:{},error:null})}):this._returnResult({data:null,error:new ct})})}catch(r){if(V(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(e,r={keys:[]}){let n=r.keys.find(o=>o.kid===e);if(n)return n;const s=Date.now();if(n=this.jwks.keys.find(o=>o.kid===e),n&&this.jwks_cached_at+nb>s)return n;const{data:i,error:a}=await W(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,n=i.keys.find(o=>o.kid===e),!n)?null:n}async getClaims(e,r={}){try{let n=e;if(!n){const{data:p,error:x}=await this.getSession();if(x||!p.session)return this._returnResult({data:null,error:x});n=p.session.access_token}const{header:s,payload:i,signature:a,raw:{header:o,payload:u}}=rl(n);r!=null&&r.allowExpired||Sb(i.exp);const c=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!c){const{error:p}=await this.getUser(n);if(p)throw p;return{data:{claims:i,header:s,signature:a},error:null}}const d=Eb(s.alg),h=await crypto.subtle.importKey("jwk",c,d,!0,["verify"]);if(!await crypto.subtle.verify(d,h,a,hb(`${o}.${u}`)))throw new wu("Invalid JWT signature");return{data:{claims:i,header:s,signature:a},error:null}}catch(n){if(V(n))return this._returnResult({data:null,error:n});throw n}}}pi.nextInstanceID={};const s1=pi;class i1 extends s1{constructor(e){super(e)}}class a1{constructor(e,r,n){var s,i,a;this.supabaseUrl=e,this.supabaseKey=r;const o=Y_(e);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",o),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",o),this.storageUrl=new URL("storage/v1",o),this.functionsUrl=new URL("functions/v1",o);const u=`sb-${o.hostname.split(".")[0]}-auth-token`,c={db:W_,realtime:q_,auth:Object.assign(Object.assign({},H_),{storageKey:u}),global:z_},d=Q_(n??{},c);this.storageKey=(s=d.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=d.global.headers)!==null&&i!==void 0?i:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(h,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((a=d.auth)!==null&&a!==void 0?a:{},this.headers,d.global.fetch),this.fetch=G_(r,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.accessToken&&this.accessToken().then(h=>this.realtime.setAuth(h)).catch(h=>console.warn("Failed to set initial Realtime auth token:",h)),this.rest=new Xw(new URL("rest/v1",o).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new B_(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new Jw(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,r={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,r,n)}channel(e,r={config:{}}){return this.realtime.channel(e,r)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e,r;if(this.accessToken)return await this.accessToken();const{data:n}=await this.auth.getSession();return(r=(e=n.session)===null||e===void 0?void 0:e.access_token)!==null&&r!==void 0?r:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:s,userStorage:i,storageKey:a,flowType:o,lock:u,debug:c,throwOnError:d},h,f){const p={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new i1({url:this.authUrl.href,headers:Object.assign(Object.assign({},p),h),storageKey:a,autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:s,userStorage:i,flowType:o,lock:u,debug:c,throwOnError:d,fetch:f,hasCustomAuthorizationHeader:Object.keys(this.headers).some(x=>x.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new g_(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(e,r,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const o1=(t,e,r)=>new a1(t,e,r);function l1(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}l1()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const u1="https://ufmgqjmhusejlkplchdb.supabase.co",c1="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InVmbWdxam1odXNlamxrcGxjaGRiIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjM0OTg5MjgsImV4cCI6MjA3OTA3NDkyOH0.15TaVh2Jk7tp_k0tuj0Xm_d7Ku5VnaHGLno29w5MTdU",je=o1(u1,c1),d1=["New Cairo","NAC","6th October","Sheikh Zayed","North Coast","Madinaty","Rehab","Downtown","Zamalek","Heliopolis"],h1=["Apartment","Villa","Townhouse","Duplex","Commercial"];function f1(){const t=Gt(),{login:e}=Ct(),{register:r,handleSubmit:n,formState:{errors:s},setError:i}=co({resolver:ho(Bw)}),[a,o]=j.useState([]),[u,c]=j.useState([]),[d,h]=j.useState(""),[f,p]=j.useState(!1),x=g=>{o(m=>m.includes(g)?m.filter(v=>v!==g):[...m,g])},y=g=>{c(m=>m.includes(g)?m.filter(v=>v!==g):[...m,g])},w=async g=>{console.log("Form submitted with data:",g),h(""),p(!0);try{if(a.length===0){h("Please select at least one location"),p(!1);return}if(u.length===0){h("Please select at least one property type"),p(!1);return}const m={fullName:g.fullName,email:g.email,phone:g.phone,password:g.password,budget:g.budget,locations:a,propertyTypes:u,buyingIntent:g.buyingIntent};console.log("Buyer data prepared:",m);const{score:v,tier:b}=zw(m);console.log("Calculated score:",{score:v,tier:b});const{data:E}=await je.from("buyers").select("id").eq("email",m.email).maybeSingle();if(E){h("Email already exists"),p(!1);return}const{data:T}=await je.from("buyers").select("id").eq("phone",m.phone).maybeSingle();if(T){h("Phone number already exists"),p(!1);return}console.log("Inserting buyer into database...");const{data:N,error:A}=await je.from("buyers").insert([{full_name:m.fullName,email:m.email,phone:m.phone,password:m.password,budget:m.budget,locations:m.locations,property_types:m.propertyTypes,buying_intent:m.buyingIntent||null,score:v,score_tier:b}]).select().single();if(console.log("Insert result:",{newBuyer:N,error:A}),A){console.error("Database error:",A),h(`Registration failed: ${A.message}`),p(!1);return}console.log("Login user and navigate..."),e({id:N.id,userType:"buyer",fullName:N.full_name,email:N.email,phone:N.phone,password:N.password,budget:N.budget,locations:N.locations,propertyTypes:N.property_types,buyingIntent:N.buying_intent||void 0,score:N.score,scoreTier:N.score_tier,createdAt:new Date(N.created_at)}),t("/properties")}catch(m){console.error("Caught error:",m),h(`An error occurred: ${m instanceof Error?m.message:"Unknown error"}`),p(!1)}};return l.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-8",children:[l.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Join SmartLead as a Buyer"}),l.jsx("p",{className:"text-gray-600 mb-8",children:"Create your account to start browsing properties"}),d&&l.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg",children:d}),l.jsxs("form",{onSubmit:n(w,g=>{console.log("Form validation errors:",g),h("Please fill in all required fields correctly")}),className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"fullName",className:"block text-sm font-semibold text-gray-700 mb-2",children:"Full Name"}),l.jsx("input",{...r("fullName"),type:"text",id:"fullName",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-blue focus:border-transparent",placeholder:"Enter your full name"}),s.fullName&&l.jsx("p",{className:"text-red-600 text-sm mt-1",children:s.fullName.message})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"email",className:"block text-sm font-semibold text-gray-700 mb-2",children:"Email"}),l.jsx("input",{...r("email"),type:"email",id:"email",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-blue focus:border-transparent",placeholder:"your@email.com"}),s.email&&l.jsx("p",{className:"text-red-600 text-sm mt-1",children:s.email.message})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"phone",className:"block text-sm font-semibold text-gray-700 mb-2",children:"Phone"}),l.jsx("input",{...r("phone"),type:"text",id:"phone",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-blue focus:border-transparent",placeholder:"01xxxxxxxxx"}),s.phone&&l.jsx("p",{className:"text-red-600 text-sm mt-1",children:s.phone.message})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"password",className:"block text-sm font-semibold text-gray-700 mb-2",children:"Password"}),l.jsx("input",{...r("password"),type:"password",id:"password",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-blue focus:border-transparent",placeholder:"Min 8 characters"}),s.password&&l.jsx("p",{className:"text-red-600 text-sm mt-1",children:s.password.message})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"budget",className:"block text-sm font-semibold text-gray-700 mb-2",children:"Budget (SAR)"}),l.jsx("input",{...r("budget",{valueAsNumber:!0}),type:"number",id:"budget",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-blue focus:border-transparent",placeholder:"Enter your budget"}),s.budget&&l.jsx("p",{className:"text-red-600 text-sm mt-1",children:s.budget.message})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:"Preferred Locations (select at least one)"}),l.jsx("div",{className:"grid grid-cols-2 gap-3",children:d1.map(g=>l.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[l.jsx("input",{type:"checkbox",checked:a.includes(g),onChange:()=>x(g),className:"w-4 h-4 text-primary-blue border-gray-300 rounded focus:ring-primary-blue"}),l.jsx("span",{className:"text-sm text-gray-700",children:g})]},g))})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:"Property Types (select at least one)"}),l.jsx("div",{className:"grid grid-cols-2 gap-3",children:h1.map(g=>l.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[l.jsx("input",{type:"checkbox",checked:u.includes(g),onChange:()=>y(g),className:"w-4 h-4 text-primary-blue border-gray-300 rounded focus:ring-primary-blue"}),l.jsx("span",{className:"text-sm text-gray-700",children:g})]},g))})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:"Buying Intent (optional)"}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[l.jsx("input",{...r("buyingIntent"),type:"radio",value:"Cash",className:"w-4 h-4 text-primary-blue border-gray-300 focus:ring-primary-blue"}),l.jsx("span",{className:"text-sm text-gray-700",children:"Cash"})]}),l.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[l.jsx("input",{...r("buyingIntent"),type:"radio",value:"Installment",className:"w-4 h-4 text-primary-blue border-gray-300 focus:ring-primary-blue"}),l.jsx("span",{className:"text-sm text-gray-700",children:"Installment"})]}),l.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[l.jsx("input",{...r("buyingIntent"),type:"radio",value:"Mortgage",className:"w-4 h-4 text-primary-blue border-gray-300 focus:ring-primary-blue"}),l.jsx("span",{className:"text-sm text-gray-700",children:"Mortgage"})]}),l.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[l.jsx("input",{...r("buyingIntent"),type:"radio",value:"",className:"w-4 h-4 text-primary-blue border-gray-300 focus:ring-primary-blue"}),l.jsx("span",{className:"text-sm text-gray-700",children:"Not Sure"})]})]})]}),l.jsx("button",{type:"submit",disabled:f,className:"w-full px-6 py-3 bg-primary-blue text-white rounded-lg font-semibold hover:scale-105 transition-transform duration-200 disabled:opacity-50 disabled:cursor-not-allowed",children:f?"Creating Account...":"Create Account"}),l.jsxs("p",{className:"text-center text-sm text-gray-600",children:["Already have an account?"," ",l.jsx("a",{href:"/login",className:"text-primary-blue font-semibold hover:underline",children:"Log in"})]})]})]})}function p1(){const t=Gt(),{login:e}=Ct(),{register:r,handleSubmit:n,formState:{errors:s}}=co({resolver:ho(Fw)}),[i,a]=j.useState(""),[o,u]=j.useState(!1),c=async d=>{console.log("Marketer form submitted:",d),a(""),u(!0);try{const{data:h}=await je.from("marketers").select("id").eq("email",d.email).maybeSingle();if(h){a("Email already exists"),u(!1);return}const{data:f}=await je.from("marketers").select("id").eq("phone",d.phone).maybeSingle();if(f){a("Phone number already exists"),u(!1);return}console.log("Inserting marketer into database...");const{data:p,error:x}=await je.from("marketers").insert([{full_name:d.fullName,company_name:d.companyName||null,email:d.email,phone:d.phone,password:d.password,role:d.role,office_location:d.officeLocation}]).select().single();if(console.log("Insert result:",{newMarketer:p,error:x}),x){console.error("Database error:",x),a(`Registration failed: ${x.message}`),u(!1);return}console.log("Login marketer and navigate..."),e({id:p.id,userType:"marketer",fullName:p.full_name,companyName:p.company_name||void 0,email:p.email,phone:p.phone,password:p.password,role:p.role,officeLocation:p.office_location,createdAt:new Date(p.created_at)}),t("/dashboard/listings")}catch(h){console.error("Caught error:",h),a(`An error occurred: ${h instanceof Error?h.message:"Unknown error"}`),u(!1)}};return l.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-8",children:[l.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Join SmartLead as a Marketer"}),l.jsx("p",{className:"text-gray-600 mb-8",children:"Create your account to start listing properties"}),i&&l.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg mb-6",children:i}),l.jsxs("form",{onSubmit:n(c,d=>{console.log("Form validation errors:",d),a("Please fill in all required fields correctly")}),className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"fullName",className:"block text-sm font-semibold text-gray-700 mb-2",children:"Full Name *"}),l.jsx("input",{...r("fullName"),type:"text",id:"fullName",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-blue focus:border-transparent",placeholder:"Enter your full name"}),s.fullName&&l.jsx("p",{className:"text-red-600 text-sm mt-1",children:s.fullName.message})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"companyName",className:"block text-sm font-semibold text-gray-700 mb-2",children:"Company Name (optional)"}),l.jsx("input",{...r("companyName"),type:"text",id:"companyName",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-blue focus:border-transparent",placeholder:"Your company name"}),s.companyName&&l.jsx("p",{className:"text-red-600 text-sm mt-1",children:s.companyName.message})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"email",className:"block text-sm font-semibold text-gray-700 mb-2",children:"Email *"}),l.jsx("input",{...r("email"),type:"email",id:"email",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-blue focus:border-transparent",placeholder:"your@email.com"}),s.email&&l.jsx("p",{className:"text-red-600 text-sm mt-1",children:s.email.message})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"phone",className:"block text-sm font-semibold text-gray-700 mb-2",children:"Phone *"}),l.jsx("input",{...r("phone"),type:"text",id:"phone",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-blue focus:border-transparent",placeholder:"01xxxxxxxxx"}),s.phone&&l.jsx("p",{className:"text-red-600 text-sm mt-1",children:s.phone.message})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"password",className:"block text-sm font-semibold text-gray-700 mb-2",children:"Password *"}),l.jsx("input",{...r("password"),type:"password",id:"password",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-blue focus:border-transparent",placeholder:"Min 8 characters"}),s.password&&l.jsx("p",{className:"text-red-600 text-sm mt-1",children:s.password.message})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:"Role *"}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[l.jsx("input",{...r("role"),type:"radio",value:"Marketer",className:"w-4 h-4 text-primary-blue border-gray-300 focus:ring-primary-blue"}),l.jsx("span",{className:"text-sm text-gray-700",children:"Marketer"})]}),l.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[l.jsx("input",{...r("role"),type:"radio",value:"Developer",className:"w-4 h-4 text-primary-blue border-gray-300 focus:ring-primary-blue"}),l.jsx("span",{className:"text-sm text-gray-700",children:"Developer"})]})]}),s.role&&l.jsx("p",{className:"text-red-600 text-sm mt-1",children:s.role.message})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"officeLocation",className:"block text-sm font-semibold text-gray-700 mb-2",children:"Office Location *"}),l.jsx("input",{...r("officeLocation"),type:"text",id:"officeLocation",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-blue focus:border-transparent",placeholder:"Enter your office location"}),s.officeLocation&&l.jsx("p",{className:"text-red-600 text-sm mt-1",children:s.officeLocation.message})]}),l.jsx("button",{type:"submit",disabled:o,className:"w-full px-6 py-3 bg-primary-blue text-white rounded-lg font-semibold hover:scale-105 transition-transform duration-200 disabled:opacity-50 disabled:cursor-not-allowed",children:o?"Creating Account...":"Create Account"}),l.jsxs("p",{className:"text-center text-sm text-gray-600",children:["Already have an account?"," ",l.jsx("a",{href:"/login",className:"text-primary-blue font-semibold hover:underline",children:"Log in"})]})]})]})}function m1(){const t=Gt(),{login:e}=Ct(),{register:r,handleSubmit:n,formState:{errors:s}}=co({resolver:ho(Vw)}),[i,a]=j.useState(""),[o,u]=j.useState(!1),c=async d=>{console.log("Login form submitted:",d),a(""),u(!0);try{const h=d.emailOrPhone.includes("@"),{data:f}=await je.from("buyers").select("*").eq(h?"email":"phone",d.emailOrPhone).eq("password",d.password).maybeSingle();if(f){console.log("Buyer found, logging in..."),e({id:f.id,userType:"buyer",fullName:f.full_name,email:f.email,phone:f.phone,password:f.password,budget:f.budget,locations:f.locations,propertyTypes:f.property_types,buyingIntent:f.buying_intent||void 0,score:f.score,scoreTier:f.score_tier,createdAt:new Date(f.created_at)}),t("/properties");return}const{data:p}=await je.from("marketers").select("*").eq(h?"email":"phone",d.emailOrPhone).eq("password",d.password).maybeSingle();if(p){console.log("Marketer found, logging in..."),e({id:p.id,userType:"marketer",fullName:p.full_name,companyName:p.company_name||void 0,email:p.email,phone:p.phone,password:p.password,role:p.role,officeLocation:p.office_location,createdAt:new Date(p.created_at)}),t("/dashboard/listings");return}a("Invalid email/phone or password"),u(!1)}catch(h){console.error("Login error:",h),a(`An error occurred: ${h instanceof Error?h.message:"Unknown error"}`),u(!1)}};return l.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-8",children:[l.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Welcome Back to SmartLead"}),l.jsx("p",{className:"text-gray-600 mb-8",children:"Log in to your account"}),i&&l.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg mb-6",children:i}),l.jsxs("form",{onSubmit:n(c,d=>{console.log("Form validation errors:",d),a("Please fill in all fields")}),className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"emailOrPhone",className:"block text-sm font-semibold text-gray-700 mb-2",children:"Email or Phone"}),l.jsx("input",{...r("emailOrPhone"),type:"text",id:"emailOrPhone",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-blue focus:border-transparent",placeholder:"your@email.com or 01xxxxxxxxx"}),s.emailOrPhone&&l.jsx("p",{className:"text-red-600 text-sm mt-1",children:s.emailOrPhone.message})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"password",className:"block text-sm font-semibold text-gray-700 mb-2",children:"Password"}),l.jsx("input",{...r("password"),type:"password",id:"password",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-blue focus:border-transparent",placeholder:"Enter your password"}),s.password&&l.jsx("p",{className:"text-red-600 text-sm mt-1",children:s.password.message})]}),l.jsx("button",{type:"submit",disabled:o,className:"w-full px-6 py-3 bg-primary-blue text-white rounded-lg font-semibold hover:scale-105 transition-transform duration-200 disabled:opacity-50 disabled:cursor-not-allowed",children:o?"Logging in...":"Log In"}),l.jsx("div",{className:"text-center space-y-2",children:l.jsxs("p",{className:"text-sm text-gray-600",children:["Don't have an account?"," ",l.jsx("a",{href:"/register/buyer",className:"text-primary-blue font-semibold hover:underline",children:"Register as Buyer"})," or ",l.jsx("a",{href:"/register/marketer",className:"text-primary-blue font-semibold hover:underline",children:"Register as Marketer"})]})})]})]})}function Zn(){const{user:t,isAuthenticated:e,logout:r}=Ct(),n=Gt(),s=()=>{r(),n("/login")};return l.jsx("header",{className:"bg-white border-b border-gray-200 sticky top-0 z-50",children:l.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:l.jsxs("div",{className:"flex items-center justify-between h-16",children:[l.jsxs("div",{className:"flex items-center gap-8",children:[l.jsxs(de,{to:"/",className:"flex items-center gap-2 text-primary-blue font-bold text-xl",children:[l.jsx("svg",{className:"w-8 h-8",fill:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})}),l.jsx("span",{children:"SmartLead"})]}),l.jsxs("nav",{className:"hidden md:flex items-center gap-6",children:[l.jsxs(de,{to:"/",className:"flex items-center gap-2 text-gray-700 hover:text-primary-blue transition-colors",children:[l.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})}),l.jsx("span",{children:"Home"})]}),l.jsxs(de,{to:"/properties",className:"flex items-center gap-2 text-gray-700 hover:text-primary-blue transition-colors",children:[l.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})}),l.jsx("span",{children:"Properties"})]})]})]}),l.jsx("div",{className:"flex items-center gap-4",children:e?l.jsxs(l.Fragment,{children:[(t==null?void 0:t.userType)==="buyer"&&l.jsx(de,{to:"/my-interests",className:"hidden md:block text-gray-700 hover:text-primary-blue transition-colors",children:"My Interests"}),(t==null?void 0:t.userType)==="marketer"&&l.jsx(de,{to:"/dashboard/listings",className:"hidden md:block text-gray-700 hover:text-primary-blue transition-colors",children:"Dashboard"}),l.jsxs("button",{onClick:s,className:"flex items-center gap-2 px-4 py-2 text-gray-700 hover:text-primary-blue transition-colors",children:[l.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),l.jsx("span",{className:"hidden md:inline",children:"Logout"})]})]}):l.jsxs(de,{to:"/login",className:"flex items-center gap-2 px-4 py-2 text-gray-700 hover:text-primary-blue transition-colors",children:[l.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 16l-4-4m0 0l4-4m-4 4h14m-5 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h7a3 3 0 013 3v1"})}),l.jsx("span",{children:"Login"})]})})]})})})}function go({property:t}){const e=r=>new Intl.NumberFormat("en-US",{maximumFractionDigits:0}).format(r);return l.jsxs(de,{to:`/properties/${t.id}`,className:"block bg-white rounded-xl shadow-sm hover:shadow-lg transition-all duration-300 overflow-hidden group",children:[l.jsxs("div",{className:"relative h-56 overflow-hidden",children:[l.jsx("img",{src:t.images[0],alt:t.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"}),l.jsx("div",{className:`absolute top-3 right-3 px-3 py-1 rounded-md text-xs font-semibold ${t.status==="Available"?"bg-white text-gray-800":t.status==="Reserved"?"bg-yellow-500 text-white":"bg-red-500 text-white"}`,children:t.status})]}),l.jsxs("div",{className:"p-5",children:[l.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2 line-clamp-2 group-hover:text-primary-blue transition-colors",children:t.title}),l.jsxs("p",{className:"text-sm text-gray-600 mb-4 flex items-center",children:[l.jsxs("svg",{className:"w-4 h-4 mr-1 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),t.location]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("div",{className:"text-sm font-bold text-primary-blue mb-1",children:"SAR"}),l.jsx("div",{className:"text-3xl font-bold text-primary-blue",children:e(t.price)})]}),l.jsxs("div",{className:"flex items-center gap-3 text-sm text-gray-600",children:[l.jsxs("span",{className:"font-semibold",children:[t.bedrooms," BR"]}),l.jsx("span",{className:"text-gray-400",children:""}),l.jsxs("span",{className:"font-semibold",children:[t.area," m"]})]})]})]})]})}function g1(){const[t,e]=j.useState(""),[r,n]=j.useState(""),[s,i]=j.useState(""),[a,o]=j.useState([]),[u,c]=j.useState(!0);j.useEffect(()=>{d()},[]);const d=async()=>{try{c(!0);const{data:f,error:p}=await je.from("properties").select("*").eq("status","Available").order("created_at",{ascending:!1}).limit(6);if(p)throw p;const x=(f==null?void 0:f.map(y=>({id:y.id,marketerId:y.marketer_id,title:y.title,type:y.type,location:y.location,projectName:y.project_name,price:Number(y.price),area:Number(y.area),bedrooms:y.bedrooms,bathrooms:y.bathrooms,deliveryDate:new Date(y.delivery_date),paymentPlan:y.payment_plan,images:y.images,description:y.description,status:y.status,createdAt:new Date(y.created_at),updatedAt:new Date(y.updated_at)})))||[];o(x)}catch(f){console.error("Error fetching properties:",f)}finally{c(!1)}},h=f=>{f.preventDefault(),window.location.href="/properties"};return l.jsxs("div",{className:"min-h-screen bg-white",children:[l.jsx(Zn,{}),l.jsxs("section",{className:"relative bg-gradient-to-br from-blue-600 via-blue-700 to-teal-600 text-white py-24 px-4",children:[l.jsx("div",{className:"absolute inset-0 bg-black opacity-10"}),l.jsxs("div",{className:"relative max-w-6xl mx-auto",children:[l.jsxs("div",{className:"text-center mb-12",children:[l.jsx("h1",{className:"text-5xl md:text-6xl font-bold mb-6",children:"Find Your Perfect Property with SmartLead"}),l.jsx("p",{className:"text-xl md:text-2xl text-blue-100 mb-8",children:"The intelligent way to buy and sell properties"})]}),l.jsx("form",{onSubmit:h,className:"bg-white rounded-xl shadow-2xl p-6 max-w-4xl mx-auto",children:l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Location"}),l.jsxs("select",{value:t,onChange:f=>e(f.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-blue focus:border-transparent text-gray-900",children:[l.jsx("option",{value:"",children:"Any Location"}),l.jsx("option",{value:"new-cairo",children:"New Cairo"}),l.jsx("option",{value:"nac",children:"NAC"}),l.jsx("option",{value:"6th-october",children:"6th October"}),l.jsx("option",{value:"sheikh-zayed",children:"Sheikh Zayed"}),l.jsx("option",{value:"north-coast",children:"North Coast"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Price Range"}),l.jsxs("select",{value:r,onChange:f=>n(f.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-blue focus:border-transparent text-gray-900",children:[l.jsx("option",{value:"",children:"Any Price"}),l.jsx("option",{value:"0-2000000",children:"Under 2M SAR"}),l.jsx("option",{value:"2000000-5000000",children:"2M - 5M SAR"}),l.jsx("option",{value:"5000000-10000000",children:"5M - 10M SAR"}),l.jsx("option",{value:"10000000-",children:"Above 10M SAR"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Property Type"}),l.jsxs("select",{value:s,onChange:f=>i(f.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-blue focus:border-transparent text-gray-900",children:[l.jsx("option",{value:"",children:"Any Type"}),l.jsx("option",{value:"apartment",children:"Apartment"}),l.jsx("option",{value:"villa",children:"Villa"}),l.jsx("option",{value:"townhouse",children:"Townhouse"}),l.jsx("option",{value:"duplex",children:"Duplex"}),l.jsx("option",{value:"commercial",children:"Commercial"})]})]}),l.jsx("div",{className:"flex items-end",children:l.jsx("button",{type:"submit",className:"w-full px-6 py-3 bg-primary-blue text-white rounded-lg font-semibold hover:scale-105 transition-transform duration-200",children:"Browse Properties"})})]})})]})]}),l.jsx("section",{className:"py-20 px-4 bg-white",children:l.jsxs("div",{className:"max-w-7xl mx-auto",children:[l.jsx("div",{className:"text-center mb-12",children:l.jsx("h2",{className:"text-4xl font-bold text-gray-900 mb-2",children:"Browse by Category"})}),l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4",children:[l.jsxs(de,{to:"/properties",className:"bg-gray-50 rounded-xl p-6 hover:bg-gray-100 transition-colors text-center group",children:[l.jsx("div",{className:"w-16 h-16 mx-auto mb-4 text-gray-600 group-hover:text-primary-blue transition-colors",children:l.jsx("svg",{className:"w-full h-full",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})})}),l.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-1",children:"Apartments"}),l.jsx("p",{className:"text-sm text-gray-500",children:"45 listings"})]}),l.jsxs(de,{to:"/properties",className:"bg-gray-50 rounded-xl p-6 hover:bg-gray-100 transition-colors text-center group",children:[l.jsx("div",{className:"w-16 h-16 mx-auto mb-4 text-gray-600 group-hover:text-primary-blue transition-colors",children:l.jsx("svg",{className:"w-full h-full",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})})}),l.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-1",children:"Villas"}),l.jsx("p",{className:"text-sm text-gray-500",children:"32 listings"})]}),l.jsxs(de,{to:"/properties",className:"bg-gray-50 rounded-xl p-6 hover:bg-gray-100 transition-colors text-center group",children:[l.jsx("div",{className:"w-16 h-16 mx-auto mb-4 text-gray-600 group-hover:text-primary-blue transition-colors",children:l.jsx("svg",{className:"w-full h-full",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})})}),l.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-1",children:"New Projects"}),l.jsx("p",{className:"text-sm text-gray-500",children:"18 listings"})]}),l.jsxs(de,{to:"/properties",className:"bg-gray-50 rounded-xl p-6 hover:bg-gray-100 transition-colors text-center group",children:[l.jsx("div",{className:"w-16 h-16 mx-auto mb-4 text-gray-600 group-hover:text-primary-blue transition-colors",children:l.jsx("svg",{className:"w-full h-full",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})})}),l.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-1",children:"Commercial"}),l.jsx("p",{className:"text-sm text-gray-500",children:"12 listings"})]}),l.jsxs(de,{to:"/properties",className:"bg-gray-50 rounded-xl p-6 hover:bg-gray-100 transition-colors text-center group",children:[l.jsx("div",{className:"w-16 h-16 mx-auto mb-4 text-gray-600 group-hover:text-primary-blue transition-colors",children:l.jsx("svg",{className:"w-full h-full",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"})})}),l.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-1",children:"Installments"}),l.jsx("p",{className:"text-sm text-gray-500",children:"28 listings"})]}),l.jsxs(de,{to:"/properties",className:"bg-gray-50 rounded-xl p-6 hover:bg-gray-100 transition-colors text-center group",children:[l.jsx("div",{className:"w-16 h-16 mx-auto mb-4 text-gray-600 group-hover:text-primary-blue transition-colors",children:l.jsx("svg",{className:"w-full h-full",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z"})})}),l.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-1",children:"Resale"}),l.jsx("p",{className:"text-sm text-gray-500",children:"24 listings"})]})]})]})}),l.jsx("section",{className:"py-16 px-4 bg-gradient-to-r from-blue-600 to-teal-600 text-white",children:l.jsxs("div",{className:"max-w-7xl mx-auto text-center",children:[l.jsx("h2",{className:"text-3xl font-bold mb-6",children:"Featured Projects from Top Developers"}),l.jsxs("div",{className:"flex flex-wrap justify-center items-center gap-8 mb-8",children:[l.jsx("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg px-8 py-4 font-bold text-lg",children:"Palm Hills"}),l.jsx("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg px-8 py-4 font-bold text-lg",children:"Sodic"}),l.jsx("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg px-8 py-4 font-bold text-lg",children:"Emaar"}),l.jsx("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg px-8 py-4 font-bold text-lg",children:"Marassi"}),l.jsx("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg px-8 py-4 font-bold text-lg",children:"Mountain View"}),l.jsx("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg px-8 py-4 font-bold text-lg",children:"Hyde Park"})]}),l.jsx(de,{to:"/properties",className:"inline-block px-8 py-3 bg-white text-primary-blue rounded-lg font-semibold hover:scale-105 transition-transform duration-200",children:"See All Projects"})]})}),l.jsx("section",{className:"py-20 px-4 bg-white",children:l.jsxs("div",{className:"max-w-7xl mx-auto",children:[l.jsxs("div",{className:"flex justify-between items-center mb-12",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-4xl font-bold text-gray-900 mb-2",children:"Latest Properties"}),l.jsx("p",{className:"text-gray-600",children:"Discover our newest listings"})]}),l.jsx(de,{to:"/properties",className:"px-6 py-3 bg-primary-blue text-white rounded-lg font-semibold hover:scale-105 transition-transform duration-200",children:"View All Properties"})]}),u?l.jsxs("div",{className:"text-center py-12",children:[l.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-b-2 border-primary-blue"}),l.jsx("p",{className:"text-gray-600 mt-4",children:"Loading properties..."})]}):l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:a.map(f=>l.jsx(go,{property:f},f.id))})]})}),l.jsx("section",{className:"py-20 px-4 bg-white",children:l.jsxs("div",{className:"max-w-7xl mx-auto",children:[l.jsx("div",{className:"text-center mb-16",children:l.jsx("h2",{className:"text-4xl font-bold text-gray-900",children:"Why Choose Us"})}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-12",children:[l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"w-20 h-20 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-6",children:l.jsx("svg",{className:"w-10 h-10 text-primary-blue",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),l.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-3",children:"Verified Listings"}),l.jsx("p",{className:"text-gray-600",children:"All properties are verified by our team"})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"w-20 h-20 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-6",children:l.jsx("svg",{className:"w-10 h-10 text-primary-blue",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})})}),l.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-3",children:"Trusted Marketers"}),l.jsx("p",{className:"text-gray-600",children:"Work with certified real estate professionals"})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"w-20 h-20 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-6",children:l.jsx("svg",{className:"w-10 h-10 text-primary-blue",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),l.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-3",children:"Easy Search"}),l.jsx("p",{className:"text-gray-600",children:"Find your perfect property with smart filters"})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"w-20 h-20 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-6",children:l.jsx("svg",{className:"w-10 h-10 text-primary-blue",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})}),l.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-3",children:"Secure Platform"}),l.jsx("p",{className:"text-gray-600",children:"Your data is protected with us"})]})]})]})}),l.jsx("section",{className:"py-20 px-4 bg-gradient-to-r from-blue-600 to-teal-600 text-white",children:l.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[l.jsx("h2",{className:"text-4xl font-bold mb-6",children:"Register today and get instant access to top property deals"}),l.jsx("p",{className:"text-xl text-blue-100 mb-8",children:"Join thousands of buyers and marketers already using our platform"}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[l.jsx(de,{to:"/register/buyer",className:"px-8 py-4 bg-white text-primary-blue rounded-lg font-semibold text-lg hover:scale-105 transition-transform duration-200",children:"For Buyers"}),l.jsx(de,{to:"/register/marketer",className:"px-8 py-4 bg-primary-green text-white rounded-lg font-semibold text-lg hover:scale-105 transition-transform duration-200 border-2 border-white",children:"For Marketers"})]})]})}),l.jsx("footer",{className:"bg-gray-900 text-white py-16 px-4",children:l.jsxs("div",{className:"max-w-7xl mx-auto",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8 mb-12",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-2xl font-bold mb-4",children:"SmartLead"}),l.jsx("p",{className:"text-gray-400",children:"Your trusted marketplace for finding the perfect property in Egypt"})]}),l.jsxs("div",{children:[l.jsx("h4",{className:"text-lg font-semibold mb-4",children:"About"}),l.jsxs("ul",{className:"space-y-2 text-gray-400",children:[l.jsx("li",{children:l.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"About Us"})}),l.jsx("li",{children:l.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Our Team"})}),l.jsx("li",{children:l.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Careers"})}),l.jsx("li",{children:l.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Press"})})]})]}),l.jsxs("div",{children:[l.jsx("h4",{className:"text-lg font-semibold mb-4",children:"Support"}),l.jsxs("ul",{className:"space-y-2 text-gray-400",children:[l.jsx("li",{children:l.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Contact Us"})}),l.jsx("li",{children:l.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"FAQs"})}),l.jsx("li",{children:l.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Help Center"})}),l.jsx("li",{children:l.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Feedback"})})]})]}),l.jsxs("div",{children:[l.jsx("h4",{className:"text-lg font-semibold mb-4",children:"Legal"}),l.jsxs("ul",{className:"space-y-2 text-gray-400",children:[l.jsx("li",{children:l.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Privacy Policy"})}),l.jsx("li",{children:l.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Terms of Service"})}),l.jsx("li",{children:l.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Cookie Policy"})}),l.jsx("li",{children:l.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Disclaimer"})})]})]})]}),l.jsx("div",{className:"border-t border-gray-800 pt-8",children:l.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center",children:[l.jsx("p",{className:"text-gray-400 mb-4 md:mb-0",children:" 2024 SmartLead. All rights reserved."}),l.jsxs("div",{className:"flex space-x-6",children:[l.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors",children:l.jsx("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{d:"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"})})}),l.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors",children:l.jsx("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{d:"M23.953 4.57a10 10 0 01-2.825.775 4.958 4.958 0 002.163-2.723c-.951.555-2.005.959-3.127 1.184a4.92 4.92 0 00-8.384 4.482C7.69 8.095 4.067 6.13 1.64 3.162a4.822 4.822 0 00-.666 2.475c0 1.71.87 3.213 2.188 4.096a4.904 4.904 0 01-2.228-.616v.06a4.923 4.923 0 003.946 4.827 4.996 4.996 0 01-2.212.085 4.936 4.936 0 004.604 3.417 9.867 9.867 0 01-6.102 2.105c-.39 0-.779-.023-1.17-.067a13.995 13.995 0 007.557 2.209c9.053 0 13.998-7.496 13.998-13.985 0-.21 0-.42-.015-.63A9.935 9.935 0 0024 4.59z"})})}),l.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors",children:l.jsx("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{d:"M12 0C8.74 0 8.333.015 7.053.072 5.775.132 4.905.333 4.14.63c-.789.306-1.459.717-2.126 1.384S.935 3.35.63 4.14C.333 4.905.131 5.775.072 7.053.012 8.333 0 8.74 0 12s.015 3.667.072 4.947c.06 1.277.261 2.148.558 2.913.306.788.717 1.459 1.384 2.126.667.666 1.336 1.079 2.126 1.384.766.296 1.636.499 2.913.558C8.333 23.988 8.74 24 12 24s3.667-.015 4.947-.072c1.277-.06 2.148-.262 2.913-.558.788-.306 1.459-.718 2.126-1.384.666-.667 1.079-1.335 1.384-2.126.296-.765.499-1.636.558-2.913.06-1.28.072-1.687.072-4.947s-.015-3.667-.072-4.947c-.06-1.277-.262-2.149-.558-2.913-.306-.789-.718-1.459-1.384-2.126C21.319 1.347 20.651.935 19.86.63c-.765-.297-1.636-.499-2.913-.558C15.667.012 15.26 0 12 0zm0 2.16c3.203 0 3.585.016 4.85.071 1.17.055 1.805.249 2.227.415.562.217.96.477 1.382.896.419.42.679.819.896 1.381.164.422.36 1.057.413 2.227.057 1.266.07 1.646.07 4.85s-.015 3.585-.074 4.85c-.061 1.17-.256 1.805-.421 2.227-.224.562-.479.96-.899 1.382-.419.419-.824.679-1.38.896-.42.164-1.065.36-2.235.413-1.274.057-1.649.07-4.859.07-3.211 0-3.586-.015-4.859-.074-1.171-.061-1.816-.256-2.236-.421-.569-.224-.96-.479-1.379-.899-.421-.419-.69-.824-.9-1.38-.165-.42-.359-1.065-.42-2.235-.045-1.26-.061-1.649-.061-4.844 0-3.196.016-3.586.061-4.861.061-1.17.255-1.814.42-2.234.21-.57.479-.96.9-1.381.419-.419.81-.689 1.379-.898.42-.166 1.051-.361 2.221-.421 1.275-.045 1.65-.06 4.859-.06l.045.03zm0 3.678c-3.405 0-6.162 2.76-6.162 6.162 0 3.405 2.76 6.162 6.162 6.162 3.405 0 6.162-2.76 6.162-6.162 0-3.405-2.76-6.162-6.162-6.162zM12 16c-2.21 0-4-1.79-4-4s1.79-4 4-4 4 1.79 4 4-1.79 4-4 4zm7.846-10.405c0 .795-.646 1.44-1.44 1.44-.795 0-1.44-.646-1.44-1.44 0-.794.646-1.439 1.44-1.439.793-.001 1.44.645 1.44 1.439z"})})})]})]})})]})})]})}const y1=["All Locations","New Cairo","NAC","6th October","Sheikh Zayed","North Coast","Madinaty","Rehab","Downtown","Zamalek","Heliopolis"],v1=["All Types","Apartment","Villa","Townhouse","Duplex","Commercial"];function x1({onFilterChange:t}){const[e,r]=j.useState({minPrice:0,maxPrice:1e7,location:"All Locations",bedrooms:"Any",propertyType:"All Types",minArea:0}),n=s=>{const i={...e,...s};r(i),t(i)};return l.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6",children:l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Location"}),l.jsx("select",{value:e.location,onChange:s=>n({location:s.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-blue focus:border-transparent bg-white",children:y1.map(s=>l.jsx("option",{value:s,children:s},s))})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Property Type"}),l.jsx("select",{value:e.propertyType,onChange:s=>n({propertyType:s.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-blue focus:border-transparent bg-white",children:v1.map(s=>l.jsx("option",{value:s,children:s},s))})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Min Price (SAR)"}),l.jsx("input",{type:"number",value:e.minPrice,onChange:s=>n({minPrice:Number(s.target.value)}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-blue focus:border-transparent",placeholder:"0"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Max Price (SAR)"}),l.jsx("input",{type:"number",value:e.maxPrice,onChange:s=>n({maxPrice:Number(s.target.value)}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-blue focus:border-transparent",placeholder:"10000000"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Min Bedrooms"}),l.jsxs("select",{value:e.bedrooms,onChange:s=>n({bedrooms:s.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-blue focus:border-transparent bg-white",children:[l.jsx("option",{value:"Any",children:"Any"}),l.jsx("option",{value:"1",children:"1+"}),l.jsx("option",{value:"2",children:"2+"}),l.jsx("option",{value:"3",children:"3+"}),l.jsx("option",{value:"4",children:"4+"}),l.jsx("option",{value:"5",children:"5+"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Min Area (m)"}),l.jsx("input",{type:"number",value:e.minArea,onChange:s=>n({minArea:Number(s.target.value)}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-blue focus:border-transparent",placeholder:"0"})]})]})})}function w1(){const{user:t,isAuthenticated:e}=Ct(),r=e&&(t==null?void 0:t.userType)==="buyer"?t:null,[n,s]=j.useState(""),[i,a]=j.useState(!1),[o,u]=j.useState([]),[c,d]=j.useState(!0),[h,f]=j.useState({minPrice:0,maxPrice:1e7,location:"All Locations",bedrooms:"Any",propertyType:"All Types",minArea:0});j.useEffect(()=>{p()},[]);const p=async()=>{try{d(!0);const{data:g,error:m}=await je.from("properties").select("*").eq("status","Available").order("created_at",{ascending:!1});if(m)throw m;const v=(g==null?void 0:g.map(b=>({id:b.id,marketerId:b.marketer_id,title:b.title,type:b.type,location:b.location,projectName:b.project_name,price:Number(b.price),area:Number(b.area),bedrooms:b.bedrooms,bathrooms:b.bathrooms,deliveryDate:new Date(b.delivery_date),paymentPlan:b.payment_plan,images:b.images,description:b.description,status:b.status,createdAt:new Date(b.created_at),updatedAt:new Date(b.updated_at)})))||[];u(v)}catch(g){console.error("Error fetching properties:",g)}finally{d(!1)}},x=j.useMemo(()=>o.filter(g=>{if(n){const m=n.toLowerCase();if(!(g.title.toLowerCase().includes(m)||g.location.toLowerCase().includes(m)||g.type.toLowerCase().includes(m)||g.description.toLowerCase().includes(m)))return!1}if(g.price<h.minPrice||g.price>h.maxPrice||h.location!=="All Locations"&&g.location!==h.location)return!1;if(h.bedrooms!=="Any"){const m=parseInt(h.bedrooms);if(g.bedrooms<m)return!1}return!(h.propertyType!=="All Types"&&g.type!==h.propertyType||h.minArea>0&&g.area<h.minArea)}),[h,n,o]),y=g=>{switch(g){case"Hot":return"bg-green-100 text-green-800 border-green-200";case"Warm":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"Cold":return"bg-gray-100 text-gray-600 border-gray-200";default:return"bg-gray-100 text-gray-600 border-gray-200"}},w=g=>{switch(g){case"Hot":return"";case"Warm":return"";case"Cold":return"";default:return""}};return l.jsxs("div",{className:"min-h-screen bg-gray-50",children:[l.jsx(Zn,{}),l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[r&&l.jsx("div",{className:`mb-6 p-6 rounded-xl border-2 ${y(r.scoreTier)}`,children:l.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-4",children:[l.jsxs("div",{children:[l.jsxs("h2",{className:"text-lg font-bold mb-1",children:["Welcome back, ",r.fullName,"!"]}),l.jsx("p",{className:"text-sm opacity-80",children:"Your profile is helping us match you with the best properties"})]}),l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-3xl font-bold",children:r.score}),l.jsx("div",{className:"text-xs opacity-80",children:"Lead Score"})]}),l.jsxs("div",{className:`px-4 py-2 rounded-full font-semibold text-sm ${y(r.scoreTier)}`,children:[w(r.scoreTier)," ",r.scoreTier," Lead"]}),l.jsx(de,{to:"/my-interests",className:"px-4 py-2 bg-white rounded-lg font-semibold text-sm hover:bg-opacity-90 transition-colors border-2 border-current",children:"My Interests"})]})]})}),l.jsxs("div",{className:"mb-8",children:[l.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-1",children:"Available Properties"}),l.jsxs("p",{className:"text-gray-600 text-sm",children:["Showing ",x.length," of ",x.length," properties"]})]}),l.jsx("div",{className:"bg-white rounded-xl shadow-sm p-4 mb-6",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsxs("div",{className:"flex-1 relative",children:[l.jsx("svg",{className:"w-5 h-5 text-gray-400 absolute left-3 top-1/2 transform -translate-y-1/2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),l.jsx("input",{type:"text",placeholder:"Search properties...",value:n,onChange:g=>s(g.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-blue focus:border-transparent"})]}),l.jsxs("button",{onClick:()=>a(!i),className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg font-medium hover:bg-gray-200 transition-colors flex items-center gap-2",children:[l.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4"})}),"Filters"]})]})}),i&&l.jsx("div",{className:"mb-6",children:l.jsx(x1,{onFilterChange:f})}),c?l.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-12 text-center",children:[l.jsx("div",{className:"flex justify-center items-center",children:l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-blue"})}),l.jsx("p",{className:"text-gray-600 mt-4",children:"Loading properties..."})]}):x.length===0?l.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-12 text-center",children:[l.jsx("p",{className:"text-gray-600 text-lg",children:"No properties found matching your filters."}),l.jsx("p",{className:"text-gray-500 text-sm mt-2",children:"Try adjusting your search criteria."})]}):l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6",children:x.map(g=>l.jsx(go,{property:g},g.id))})]})]})}const _1={"New Cairo":["Rehab","Madinaty"],Rehab:["New Cairo","Madinaty"],Madinaty:["New Cairo","Rehab"],"6th October":["Sheikh Zayed","Beverly Hills"],"Sheikh Zayed":["6th October","Beverly Hills"],"Beverly Hills":["6th October","Sheikh Zayed"],"North Coast":["Sidi Abdel Rahman","Hacienda"],"Sidi Abdel Rahman":["North Coast","Hacienda"],Hacienda:["North Coast","Sidi Abdel Rahman"],NAC:[],Downtown:[],Zamalek:[],Heliopolis:[]};function b1(t,e){const r=[],n=t.budget*.82,s=t.budget*1.18,i=e.price>=n&&e.price<=s;i||r.push(`Price ${e.price.toLocaleString()} SAR is outside your budget range (${n.toLocaleString()} - ${s.toLocaleString()} SAR)`);const a=_1[e.location]||[],o=t.locations.includes(e.location)||t.locations.some(d=>a.includes(d));o||r.push(`Location "${e.location}" doesn't match your preferred locations`);const u=t.propertyTypes.includes(e.type);u||r.push(`Property type "${e.type}" doesn't match your preferences`);const c=e.status==="Available";return c||r.push(`Property is currently ${e.status}`),{matches:i&&o&&u&&c,reasons:r}}function k1({property:t}){const e=Gt(),{user:r}=Ct(),{addInterest:n,isInterested:s}=Bx(),[i,a]=j.useState(null),[o,u]=j.useState(!1),c=s(t.id),d=async()=>{if(!r){e("/login");return}if(r.userType!=="buyer"){a({type:"error",text:"Only buyers can express interest in properties"}),setTimeout(()=>a(null),5e3);return}if(c){a({type:"error",text:"You have already expressed interest in this property"}),setTimeout(()=>a(null),5e3);return}u(!0);const h=r,f=b1(h,t);if(console.log("Matching result:",f),!f.matches){a({type:"error",text:`This property doesn't match your preferences: ${f.reasons.join(", ")}`}),u(!1),setTimeout(()=>a(null),7e3);return}try{const{data:p,error:x}=await je.from("leads").insert({buyer_id:h.id,marketer_id:t.marketerId,property_id:t.id,buyer_score:h.score,buyer_score_tier:h.scoreTier,buyer_name:h.fullName,buyer_phone:h.phone,buyer_email:h.email,buyer_budget:h.budget,buyer_locations:h.locations,buyer_property_types:h.propertyTypes,status:"New"}).select().single();if(x){console.error("Error creating lead:",x),a({type:"error",text:"Failed to record your interest. Please try again."}),u(!1),setTimeout(()=>a(null),5e3);return}n(t.id),a({type:"success",text:"Success! Your interest has been recorded and the marketer will contact you soon."}),u(!1),setTimeout(()=>a(null),5e3)}catch(p){console.error("Error creating lead:",p),a({type:"error",text:"An error occurred. Please try again."}),u(!1),setTimeout(()=>a(null),5e3)}};return l.jsxs("div",{children:[l.jsx("button",{onClick:d,disabled:o||c,className:`w-full md:w-auto px-8 py-4 rounded-lg font-semibold text-lg transition-all duration-200 ${c?"bg-gray-400 text-white cursor-not-allowed":"bg-primary-blue text-white hover:scale-105"} ${o?"opacity-50 cursor-wait":""}`,children:o?"Processing...":c?"Already Interested":"I'm Interested"}),i&&l.jsx("div",{className:`mt-4 p-4 rounded-lg ${i.type==="success"?"bg-green-50 border border-green-200 text-green-800":"bg-red-50 border border-red-200 text-red-800"}`,children:i.text})]})}function j1(){const{id:t}=Nm(),[e,r]=j.useState(null),[n,s]=j.useState([]),[i,a]=j.useState(!0),[o,u]=j.useState(0);j.useEffect(()=>{t&&c()},[t]);const c=async()=>{try{a(!0);const{data:y,error:w}=await je.from("properties").select("*").eq("id",t).maybeSingle();if(w)throw w;if(y){const g={id:y.id,marketerId:y.marketer_id,title:y.title,type:y.type,location:y.location,projectName:y.project_name,price:Number(y.price),area:Number(y.area),bedrooms:y.bedrooms,bathrooms:y.bathrooms,deliveryDate:new Date(y.delivery_date),paymentPlan:y.payment_plan,images:y.images,description:y.description,status:y.status,createdAt:new Date(y.created_at),updatedAt:new Date(y.updated_at)};r(g),d(g.location,g.type)}else r(null)}catch(y){console.error("Error fetching property:",y),r(null)}finally{a(!1)}},d=async(y,w)=>{try{const{data:g,error:m}=await je.from("properties").select("*").eq("status","Available").neq("id",t).or(`location.eq.${y},type.eq.${w}`).limit(3);if(m)throw m;const v=(g==null?void 0:g.map(b=>({id:b.id,marketerId:b.marketer_id,title:b.title,type:b.type,location:b.location,projectName:b.project_name,price:Number(b.price),area:Number(b.area),bedrooms:b.bedrooms,bathrooms:b.bathrooms,deliveryDate:new Date(b.delivery_date),paymentPlan:b.payment_plan,images:b.images,description:b.description,status:b.status,createdAt:new Date(b.created_at),updatedAt:new Date(b.updated_at)})))||[];s(v)}catch(g){console.error("Error fetching similar properties:",g)}};if(i)return l.jsxs("div",{className:"min-h-screen bg-gray-50",children:[l.jsx(Zn,{}),l.jsx("div",{className:"flex items-center justify-center py-20",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-b-2 border-primary-blue"}),l.jsx("p",{className:"text-gray-600 mt-4",children:"Loading property..."})]})})]});if(!e)return l.jsxs("div",{className:"min-h-screen bg-gray-50",children:[l.jsx(Zn,{}),l.jsx("div",{className:"flex items-center justify-center py-20",children:l.jsxs("div",{className:"text-center",children:[l.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Property Not Found"}),l.jsx(de,{to:"/properties",className:"text-primary-blue hover:underline",children:"Browse all properties"})]})})]});const h=y=>new Intl.NumberFormat("en-US",{style:"currency",currency:"SAR",maximumFractionDigits:0}).format(y),f=y=>new Date(y).toLocaleDateString("en-US",{year:"numeric",month:"long"}),p=()=>{u(y=>(y+1)%e.images.length)},x=()=>{u(y=>(y-1+e.images.length)%e.images.length)};return l.jsxs("div",{className:"min-h-screen bg-gray-50",children:[l.jsx(Zn,{}),l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[l.jsxs(de,{to:"/properties",className:"inline-flex items-center text-primary-blue hover:underline mb-6",children:[l.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Back to Properties"]}),l.jsxs("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden mb-8",children:[l.jsxs("div",{className:"relative h-96 md:h-[500px]",children:[l.jsx("img",{src:e.images[o],alt:e.title,className:"w-full h-full object-cover"}),e.images.length>1&&l.jsxs(l.Fragment,{children:[l.jsx("button",{onClick:x,className:"absolute left-4 top-1/2 -translate-y-1/2 bg-white/90 hover:bg-white rounded-full p-3 shadow-lg transition-colors",children:l.jsx("svg",{className:"w-6 h-6 text-gray-900",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),l.jsx("button",{onClick:p,className:"absolute right-4 top-1/2 -translate-y-1/2 bg-white/90 hover:bg-white rounded-full p-3 shadow-lg transition-colors",children:l.jsx("svg",{className:"w-6 h-6 text-gray-900",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})}),l.jsx("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2 flex gap-2",children:e.images.map((y,w)=>l.jsx("button",{onClick:()=>u(w),className:`w-2 h-2 rounded-full transition-colors ${w===o?"bg-white":"bg-white/50"}`},w))})]}),l.jsx("div",{className:"absolute top-4 right-4 bg-white px-4 py-2 rounded-full font-semibold text-gray-900",children:e.type})]}),l.jsxs("div",{className:"p-8",children:[l.jsxs("div",{className:"flex flex-col lg:flex-row lg:justify-between lg:items-start mb-8",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-2",children:e.title}),l.jsxs("p",{className:"text-gray-600 text-lg flex items-center",children:[l.jsxs("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),e.location,e.projectName&&`  ${e.projectName}`]})]}),l.jsx("div",{className:"mt-4 lg:mt-0",children:l.jsx("p",{className:"text-4xl font-bold text-primary-blue",children:h(e.price)})})]}),l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6 mb-8 pb-8 border-b border-gray-200",children:[l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-3xl font-bold text-gray-900 mb-1",children:e.area}),l.jsx("div",{className:"text-sm text-gray-600",children:"Area (m)"})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-3xl font-bold text-gray-900 mb-1",children:e.bedrooms}),l.jsx("div",{className:"text-sm text-gray-600",children:"Bedrooms"})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-3xl font-bold text-gray-900 mb-1",children:e.bathrooms}),l.jsx("div",{className:"text-sm text-gray-600",children:"Bathrooms"})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-3xl font-bold text-gray-900 mb-1",children:e.status}),l.jsx("div",{className:"text-sm text-gray-600",children:"Status"})]})]}),l.jsxs("div",{className:"mb-8",children:[l.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Description"}),l.jsx("p",{className:"text-gray-700 leading-relaxed",children:e.description})]}),l.jsxs("div",{className:"grid md:grid-cols-2 gap-6 mb-8",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-3",children:"Payment Plan"}),l.jsx("p",{className:"text-gray-700",children:e.paymentPlan})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-3",children:"Delivery Date"}),l.jsx("p",{className:"text-gray-700",children:f(e.deliveryDate)})]})]}),l.jsx(k1,{property:e})]})]}),n.length>0&&l.jsxs("div",{children:[l.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-6",children:"Similar Properties"}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.map(y=>l.jsx(go,{property:y},y.id))})]})]})]})}function S1(){const{user:t}=Ct(),[e,r]=j.useState([]),[n,s]=j.useState(!0);j.useEffect(()=>{t&&t.userType==="buyer"&&i()},[t]);const i=async()=>{if(t)try{s(!0);const{data:a,error:o}=await je.from("leads").select(`
          property_id,
          properties (*)
        `).eq("buyer_id",t.id).order("created_at",{ascending:!1});if(o)throw o;const u=(a==null?void 0:a.map(c=>{const d=c.properties;return{id:d.id,marketerId:d.marketer_id,title:d.title,type:d.type,location:d.location,projectName:d.project_name,price:Number(d.price),area:Number(d.area),bedrooms:d.bedrooms,bathrooms:d.bathrooms,deliveryDate:new Date(d.delivery_date),paymentPlan:d.payment_plan,images:d.images,description:d.description,status:d.status,createdAt:new Date(d.created_at),updatedAt:new Date(d.updated_at)}}).filter(c=>c!==null))||[];r(u)}catch(a){console.error("Error fetching interests:",a)}finally{s(!1)}};return l.jsxs("div",{className:"min-h-screen bg-gray-50",children:[l.jsx(Zn,{}),l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[l.jsxs("div",{className:"mb-8",children:[l.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-2",children:"My Interests"}),l.jsx("p",{className:"text-gray-600",children:"Properties you've expressed interest in"})]}),n?l.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-12 text-center",children:[l.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-b-2 border-primary-blue"}),l.jsx("p",{className:"text-gray-600 mt-4",children:"Loading your interests..."})]}):e.length===0?l.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-12 text-center",children:[l.jsx("svg",{className:"w-16 h-16 text-gray-400 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})}),l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No interests yet"}),l.jsx("p",{className:"text-gray-600 mb-6",children:"You haven't expressed interest in any properties yet. Browse properties to get started."}),l.jsx(de,{to:"/properties",className:"inline-block px-6 py-3 bg-primary-blue text-white rounded-lg font-semibold hover:scale-105 transition-transform duration-200",children:"Browse Properties"})]}):l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(a=>l.jsx(go,{property:a},a.id))})]})]})}function E1(){const[t,e]=j.useState(!1),{user:r,logout:n}=Ct(),s=Gt(),i=hs(),a=()=>{n(),s("/login")},o=c=>i.pathname===c||i.pathname.startsWith(c+"/"),u=[{path:"/",label:"Home",icon:l.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})})},{path:"/properties",label:"Browse Properties",icon:l.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})})},{path:"/dashboard/listings",label:"My Listings",icon:l.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})},{path:"/dashboard/leads",label:"Leads",icon:l.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})},{path:"/dashboard/add-property",label:"Add Property",icon:l.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})})}];return l.jsxs("div",{className:"min-h-screen bg-gray-50",children:[l.jsxs("div",{className:"lg:hidden bg-white border-b border-gray-200 px-4 py-3 flex items-center justify-between",children:[l.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"Dashboard"}),l.jsx("button",{onClick:()=>e(!t),className:"p-2 rounded-lg hover:bg-gray-100",children:l.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})})]}),l.jsxs("div",{className:"flex",children:[l.jsx("aside",{className:`fixed lg:static inset-y-0 left-0 z-50 w-64 bg-white border-r border-gray-200 transform transition-transform duration-200 ease-in-out lg:transform-none ${t?"translate-x-0":"-translate-x-full lg:translate-x-0"}`,children:l.jsxs("div",{className:"h-full flex flex-col",children:[l.jsxs("div",{className:"p-6 border-b border-gray-200",children:[l.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Dashboard"}),l.jsx("p",{className:"text-sm text-gray-600 mt-1",children:r==null?void 0:r.fullName})]}),l.jsx("nav",{className:"flex-1 p-4 space-y-2",children:u.map(c=>l.jsxs(de,{to:c.path,onClick:()=>e(!1),className:`flex items-center space-x-3 px-4 py-3 rounded-lg transition-colors ${o(c.path)?"bg-primary-blue text-white":"text-gray-700 hover:bg-gray-100"}`,children:[c.icon,l.jsx("span",{className:"font-medium",children:c.label})]},c.path))}),l.jsx("div",{className:"p-4 border-t border-gray-200",children:l.jsxs("button",{onClick:a,className:"w-full flex items-center space-x-3 px-4 py-3 text-gray-700 hover:bg-gray-100 rounded-lg transition-colors",children:[l.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),l.jsx("span",{className:"font-medium",children:"Logout"})]})})]})}),t&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40 lg:hidden",onClick:()=>e(!1)}),l.jsx("main",{className:"flex-1 p-6 lg:p-8",children:l.jsx(Rm,{})})]})]})}function N1(){const t=Gt();return j.useEffect(()=>{t("/dashboard/listings",{replace:!0})},[t]),null}function C1(){const{user:t}=Ct(),[e,r]=j.useState([]),[n,s]=j.useState(!0),[i,a]=j.useState(null),[o,u]=j.useState("");j.useEffect(()=>{c()},[]);const c=async()=>{try{s(!0);const{data:p,error:x}=await je.from("properties").select("*").eq("marketer_id",t==null?void 0:t.id).order("created_at",{ascending:!1});if(x)throw x;const y=(p==null?void 0:p.map(w=>({id:w.id,marketerId:w.marketer_id,title:w.title,type:w.type,location:w.location,projectName:w.project_name,price:Number(w.price),area:Number(w.area),bedrooms:w.bedrooms,bathrooms:w.bathrooms,deliveryDate:new Date(w.delivery_date),paymentPlan:w.payment_plan,images:w.images,description:w.description,status:w.status,createdAt:new Date(w.created_at),updatedAt:new Date(w.updated_at)})))||[];r(y)}catch(p){console.error("Error fetching properties:",p)}finally{s(!1)}},d=p=>new Intl.NumberFormat("en-US",{style:"currency",currency:"SAR",maximumFractionDigits:0}).format(p),h=p=>{switch(p){case"Available":return"bg-green-100 text-green-800";case"Sold Out":return"bg-red-100 text-red-800";case"Reserved":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}},f=async p=>{try{const{error:x}=await je.from("properties").delete().eq("id",p);if(x)throw x;console.log("Property deleted:",p),u("Property deleted successfully!"),setTimeout(()=>u(""),3e3),c()}catch(x){console.error("Error deleting property:",x)}a(null)};return l.jsxs("div",{children:[l.jsxs("div",{className:"flex justify-between items-center mb-8",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"My Listings"}),l.jsx("p",{className:"text-gray-600 mt-1",children:"Manage your property listings"})]}),l.jsx(de,{to:"/dashboard/add-property",className:"px-6 py-3 bg-primary-blue text-white rounded-lg font-semibold hover:scale-105 transition-transform duration-200",children:"+ Add New Property"})]}),o&&l.jsx("div",{className:"mb-6 p-4 bg-green-50 border border-green-200 text-green-800 rounded-lg",children:o}),n?l.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-12 text-center",children:[l.jsx("div",{className:"flex justify-center items-center",children:l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-blue"})}),l.jsx("p",{className:"text-gray-600 mt-4",children:"Loading properties..."})]}):e.length===0?l.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-12 text-center",children:[l.jsx("svg",{className:"w-16 h-16 text-gray-400 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})}),l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No properties yet"}),l.jsx("p",{className:"text-gray-600 mb-6",children:"Get started by adding your first property listing"}),l.jsx(de,{to:"/dashboard/add-property",className:"inline-block px-6 py-3 bg-primary-blue text-white rounded-lg font-semibold hover:scale-105 transition-transform duration-200",children:"Add Your First Property"})]}):l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(p=>l.jsxs("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden hover:shadow-md transition-shadow",children:[l.jsxs("div",{className:"relative h-48",children:[l.jsx("img",{src:p.images[0],alt:p.title,className:"w-full h-full object-cover"}),l.jsx("div",{className:`absolute top-3 right-3 px-3 py-1 rounded-full text-sm font-semibold ${h(p.status)}`,children:p.status})]}),l.jsxs("div",{className:"p-5",children:[l.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2 line-clamp-1",children:p.title}),l.jsxs("p",{className:"text-gray-600 text-sm mb-2 flex items-center",children:[l.jsxs("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),p.location]}),l.jsxs("div",{className:"flex items-center justify-between mb-4 text-sm text-gray-600",children:[l.jsx("span",{children:p.type}),l.jsxs("span",{children:[p.area," m"]}),l.jsxs("span",{children:[p.bedrooms," Beds"]})]}),l.jsx("p",{className:"text-2xl font-bold text-primary-blue mb-4",children:d(p.price)}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx(de,{to:`/dashboard/listings/${p.id}/edit`,className:"flex-1 px-4 py-2 bg-gray-100 text-gray-700 rounded-lg font-semibold text-center hover:bg-gray-200 transition-colors",children:"Edit"}),l.jsx("button",{onClick:()=>a(p.id),className:"flex-1 px-4 py-2 bg-red-50 text-red-600 rounded-lg font-semibold hover:bg-red-100 transition-colors",children:"Delete"})]})]})]},p.id))}),i&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:l.jsxs("div",{className:"bg-white rounded-xl p-8 max-w-md w-full",children:[l.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Confirm Delete"}),l.jsx("p",{className:"text-gray-600 mb-6",children:"Are you sure you want to delete this property? This action cannot be undone."}),l.jsxs("div",{className:"flex gap-4",children:[l.jsx("button",{onClick:()=>a(null),className:"flex-1 px-6 py-3 bg-gray-100 text-gray-700 rounded-lg font-semibold hover:bg-gray-200 transition-colors",children:"Cancel"}),l.jsx("button",{onClick:()=>f(i),className:"flex-1 px-6 py-3 bg-red-600 text-white rounded-lg font-semibold hover:bg-red-700 transition-colors",children:"Delete"})]})]})})]})}function T1(){const{user:t}=Ct(),[e,r]=j.useState([]),[n,s]=j.useState(!0),[i,a]=j.useState("all");j.useEffect(()=>{t&&t.userType==="marketer"&&o()},[t]);const o=async()=>{if(t)try{s(!0);const{data:p,error:x}=await je.from("leads").select(`
          id,
          buyer_name,
          buyer_phone,
          buyer_email,
          buyer_score,
          buyer_score_tier,
          buyer_budget,
          buyer_locations,
          buyer_property_types,
          status,
          created_at,
          properties (
            title,
            location,
            price
          )
        `).eq("marketer_id",t.id).order("buyer_score",{ascending:!1}).order("created_at",{ascending:!1});if(x)throw x;const y=(p==null?void 0:p.map(w=>({id:w.id,buyerName:w.buyer_name,buyerPhone:w.buyer_phone,buyerEmail:w.buyer_email,buyerScore:w.buyer_score,buyerScoreTier:w.buyer_score_tier,buyerBudget:w.buyer_budget,buyerLocations:w.buyer_locations,buyerPropertyTypes:w.buyer_property_types,status:w.status,createdAt:new Date(w.created_at),property:w.properties})))||[];r(y)}catch(p){console.error("Error fetching leads:",p)}finally{s(!1)}},u=async(p,x)=>{try{const{error:y}=await je.from("leads").update({status:x}).eq("id",p);if(y)throw y;r(e.map(w=>w.id===p?{...w,status:x}:w))}catch(y){console.error("Error updating lead status:",y)}},c=p=>{switch(p){case"Hot":return"bg-green-100 text-green-800";case"Warm":return"bg-yellow-100 text-yellow-800";case"Cold":return"bg-gray-100 text-gray-600";default:return"bg-gray-100 text-gray-600"}},d=p=>{switch(p){case"Hot":return"";case"Warm":return"";case"Cold":return"";default:return""}},h=p=>new Intl.NumberFormat("en-US",{style:"currency",currency:"SAR",maximumFractionDigits:0}).format(p),f=i==="all"?e:e.filter(p=>p.buyerScoreTier===i);return n?l.jsxs("div",{children:[l.jsxs("div",{className:"mb-8",children:[l.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Leads"}),l.jsx("p",{className:"text-gray-600",children:"Manage your property leads and inquiries"})]}),l.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-12 text-center",children:[l.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-b-2 border-primary-blue"}),l.jsx("p",{className:"text-gray-600 mt-4",children:"Loading leads..."})]})]}):l.jsxs("div",{children:[l.jsxs("div",{className:"mb-8",children:[l.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Leads"}),l.jsx("p",{className:"text-gray-600",children:"Manage your property leads and inquiries"})]}),e.length===0?l.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-8 text-center",children:[l.jsx("svg",{className:"w-16 h-16 mx-auto text-gray-400 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})}),l.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No Leads Yet"}),l.jsx("p",{className:"text-gray-600 mb-6",children:"When buyers express interest in your properties, they will appear here."})]}):l.jsxs("div",{children:[l.jsxs("div",{className:"mb-6 flex gap-2",children:[l.jsxs("button",{onClick:()=>a("all"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${i==="all"?"bg-primary-blue text-white":"bg-white text-gray-700 hover:bg-gray-50"}`,children:["All (",e.length,")"]}),l.jsxs("button",{onClick:()=>a("Hot"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${i==="Hot"?"bg-green-600 text-white":"bg-white text-gray-700 hover:bg-gray-50"}`,children:[" Hot (",e.filter(p=>p.buyerScoreTier==="Hot").length,")"]}),l.jsxs("button",{onClick:()=>a("Warm"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${i==="Warm"?"bg-yellow-600 text-white":"bg-white text-gray-700 hover:bg-gray-50"}`,children:[" Warm (",e.filter(p=>p.buyerScoreTier==="Warm").length,")"]}),l.jsxs("button",{onClick:()=>a("Cold"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${i==="Cold"?"bg-gray-600 text-white":"bg-white text-gray-700 hover:bg-gray-50"}`,children:[" Cold (",e.filter(p=>p.buyerScoreTier==="Cold").length,")"]})]}),l.jsx("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden",children:l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[l.jsx("thead",{className:"bg-gray-50",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Buyer"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Score"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Property"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Budget"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),l.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:f.map(p=>l.jsxs("tr",{className:"hover:bg-gray-50",children:[l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsxs("div",{children:[l.jsx("div",{className:"text-sm font-medium text-gray-900",children:p.buyerName}),l.jsx("div",{className:"text-sm text-gray-500",children:p.buyerPhone}),l.jsx("div",{className:"text-sm text-gray-500",children:p.buyerEmail})]})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsxs("span",{className:`px-3 py-1 rounded-full text-sm font-semibold ${c(p.buyerScoreTier)}`,children:[d(p.buyerScoreTier)," ",p.buyerScoreTier,"  ",p.buyerScore,"/100"]})}),l.jsxs("td",{className:"px-6 py-4",children:[l.jsx("div",{className:"text-sm text-gray-900",children:p.property.title}),l.jsx("div",{className:"text-sm text-gray-500",children:p.property.location}),l.jsx("div",{className:"text-sm text-gray-500",children:h(p.property.price)})]}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsx("div",{className:"text-sm text-gray-900",children:h(p.buyerBudget)})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsxs("select",{value:p.status,onChange:x=>u(p.id,x.target.value),className:"text-sm border border-gray-300 rounded-lg px-3 py-1 focus:ring-2 focus:ring-primary-blue focus:border-transparent",children:[l.jsx("option",{value:"New",children:"New"}),l.jsx("option",{value:"Contacted",children:"Contacted"}),l.jsx("option",{value:"Deal",children:"Deal"}),l.jsx("option",{value:"Lost",children:"Lost"})]})}),l.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:[l.jsx("a",{href:`tel:+20${p.buyerPhone.replace(/^0/,"")}`,className:"text-primary-blue hover:text-blue-800 font-medium mr-3",children:"Call"}),l.jsx("a",{href:`mailto:${p.buyerEmail}`,className:"text-primary-blue hover:text-blue-800 font-medium",children:"Email"})]})]},p.id))})]})})})]})]})}const P1=fo({title:Ie().min(5,"Title must be at least 5 characters"),type:Ba(["Apartment","Villa","Townhouse","Duplex","Commercial"]),location:Ie().min(1,"Location is required"),projectName:Ie().optional(),price:Ps().positive("Price must be positive"),area:Ps().positive("Area must be positive"),bedrooms:Ps().min(0,"Bedrooms must be 0 or more"),bathrooms:Ps().min(1,"At least 1 bathroom required"),deliveryDate:Ie().min(1,"Delivery date is required"),paymentPlan:Ie().min(10,"Payment plan must be at least 10 characters"),description:Ie().min(20,"Description must be at least 20 characters"),status:Ba(["Available","Sold Out","Reserved"]),images:Ie().min(1,"At least one image URL is required")});function Qg({property:t,onSubmit:e,isSubmitting:r}){const{register:n,handleSubmit:s,formState:{errors:i}}=co({resolver:ho(P1),defaultValues:t?{title:t.title,type:t.type,location:t.location,projectName:t.projectName,price:t.price,area:t.area,bedrooms:t.bedrooms,bathrooms:t.bathrooms,deliveryDate:new Date(t.deliveryDate).toISOString().split("T")[0],paymentPlan:t.paymentPlan,description:t.description,status:t.status,images:t.images.join(`
`)}:void 0});return l.jsxs("form",{onSubmit:s(e),className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Title *"}),l.jsx("input",{...n("title"),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-blue focus:border-transparent",placeholder:"e.g., Luxury Apartment in New Cairo"}),i.title&&l.jsx("p",{className:"text-red-600 text-sm mt-1",children:i.title.message})]}),l.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Type *"}),l.jsxs("select",{...n("type"),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-blue focus:border-transparent",children:[l.jsx("option",{value:"",children:"Select type"}),l.jsx("option",{value:"Apartment",children:"Apartment"}),l.jsx("option",{value:"Villa",children:"Villa"}),l.jsx("option",{value:"Townhouse",children:"Townhouse"}),l.jsx("option",{value:"Duplex",children:"Duplex"}),l.jsx("option",{value:"Commercial",children:"Commercial"})]}),i.type&&l.jsx("p",{className:"text-red-600 text-sm mt-1",children:i.type.message})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Location *"}),l.jsx("input",{...n("location"),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-blue focus:border-transparent",placeholder:"e.g., New Cairo"}),i.location&&l.jsx("p",{className:"text-red-600 text-sm mt-1",children:i.location.message})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Project Name (Optional)"}),l.jsx("input",{...n("projectName"),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-blue focus:border-transparent",placeholder:"e.g., Palm Hills"})]}),l.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Price (SAR) *"}),l.jsx("input",{type:"number",...n("price",{valueAsNumber:!0}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-blue focus:border-transparent",placeholder:"2500000"}),i.price&&l.jsx("p",{className:"text-red-600 text-sm mt-1",children:i.price.message})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Area (m) *"}),l.jsx("input",{type:"number",...n("area",{valueAsNumber:!0}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-blue focus:border-transparent",placeholder:"180"}),i.area&&l.jsx("p",{className:"text-red-600 text-sm mt-1",children:i.area.message})]})]}),l.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Bedrooms *"}),l.jsx("input",{type:"number",...n("bedrooms",{valueAsNumber:!0}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-blue focus:border-transparent",placeholder:"3"}),i.bedrooms&&l.jsx("p",{className:"text-red-600 text-sm mt-1",children:i.bedrooms.message})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Bathrooms *"}),l.jsx("input",{type:"number",...n("bathrooms",{valueAsNumber:!0}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-blue focus:border-transparent",placeholder:"2"}),i.bathrooms&&l.jsx("p",{className:"text-red-600 text-sm mt-1",children:i.bathrooms.message})]})]}),l.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Delivery Date *"}),l.jsx("input",{type:"date",...n("deliveryDate"),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-blue focus:border-transparent"}),i.deliveryDate&&l.jsx("p",{className:"text-red-600 text-sm mt-1",children:i.deliveryDate.message})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Status *"}),l.jsxs("select",{...n("status"),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-blue focus:border-transparent",children:[l.jsx("option",{value:"",children:"Select status"}),l.jsx("option",{value:"Available",children:"Available"}),l.jsx("option",{value:"Sold Out",children:"Sold Out"}),l.jsx("option",{value:"Reserved",children:"Reserved"})]}),i.status&&l.jsx("p",{className:"text-red-600 text-sm mt-1",children:i.status.message})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Payment Plan *"}),l.jsx("input",{...n("paymentPlan"),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-blue focus:border-transparent",placeholder:"e.g., 20% down payment, 80% over 5 years"}),i.paymentPlan&&l.jsx("p",{className:"text-red-600 text-sm mt-1",children:i.paymentPlan.message})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Description *"}),l.jsx("textarea",{...n("description"),rows:4,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-blue focus:border-transparent",placeholder:"Describe your property in detail..."}),i.description&&l.jsx("p",{className:"text-red-600 text-sm mt-1",children:i.description.message})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Image URLs * (One per line, min 4)"}),l.jsx("textarea",{...n("images"),rows:4,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-blue focus:border-transparent",placeholder:`https://example.com/image1.jpg
https://example.com/image2.jpg
https://example.com/image3.jpg
https://example.com/image4.jpg`}),l.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Enter each image URL on a new line"}),i.images&&l.jsx("p",{className:"text-red-600 text-sm mt-1",children:i.images.message})]}),l.jsx("div",{className:"flex gap-4",children:l.jsx("button",{type:"submit",disabled:r,className:`px-8 py-3 bg-primary-blue text-white rounded-lg font-semibold hover:scale-105 transition-transform duration-200 ${r?"opacity-50 cursor-not-allowed":""}`,children:r?"Saving...":t?"Update Property":"Add Property"})})]})}function O1(){const[t,e]=j.useState(!1),[r,n]=j.useState(""),[s,i]=j.useState(""),a=Gt(),{user:o}=Ct(),u=async c=>{e(!0),i(""),n("");try{const d=c.images.split(`
`).map(x=>x.trim()).filter(x=>x),h={marketer_id:o==null?void 0:o.id,title:c.title,type:c.type,location:c.location,project_name:c.projectName||null,price:c.price,area:c.area,bedrooms:c.bedrooms,bathrooms:c.bathrooms,delivery_date:c.deliveryDate,payment_plan:c.paymentPlan,images:d,description:c.description,status:c.status},{data:f,error:p}=await je.from("properties").insert([h]).select().single();if(p)throw p;console.log("Property added to database:",f),n("Property added successfully!"),setTimeout(()=>{a("/dashboard/listings")},1500)}catch(d){console.error("Error adding property:",d),i(d.message||"Failed to add property. Please try again.")}finally{e(!1)}};return l.jsxs("div",{className:"max-w-4xl",children:[l.jsxs("div",{className:"mb-8",children:[l.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Add New Property"}),l.jsx("p",{className:"text-gray-600 mt-1",children:"Fill in the details to list a new property"})]}),r&&l.jsx("div",{className:"mb-6 p-4 bg-green-50 border border-green-200 text-green-800 rounded-lg",children:r}),s&&l.jsx("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 text-red-800 rounded-lg",children:s}),l.jsx("div",{className:"bg-white rounded-xl shadow-sm p-8",children:l.jsx(Qg,{onSubmit:u,isSubmitting:t})})]})}function R1(){const[t,e]=j.useState(!1),[r,n]=j.useState(""),[s,i]=j.useState(""),[a,o]=j.useState(null),[u,c]=j.useState(!0),d=Gt(),{id:h}=Nm(),{user:f}=Ct();j.useEffect(()=>{p()},[h]);const p=async()=>{try{c(!0);const{data:y,error:w}=await je.from("properties").select("*").eq("id",h).eq("marketer_id",f==null?void 0:f.id).single();if(w)throw w;if(y){const g={id:y.id,marketerId:y.marketer_id,title:y.title,type:y.type,location:y.location,projectName:y.project_name,price:Number(y.price),area:Number(y.area),bedrooms:y.bedrooms,bathrooms:y.bathrooms,deliveryDate:new Date(y.delivery_date),paymentPlan:y.payment_plan,images:y.images,description:y.description,status:y.status,createdAt:new Date(y.created_at),updatedAt:new Date(y.updated_at)};o(g)}}catch(y){console.error("Error fetching property:",y),i("Failed to load property")}finally{c(!1)}},x=async y=>{e(!0),i(""),n("");try{const w=y.images.split(`
`).map(v=>v.trim()).filter(v=>v),g={title:y.title,type:y.type,location:y.location,project_name:y.projectName||null,price:y.price,area:y.area,bedrooms:y.bedrooms,bathrooms:y.bathrooms,delivery_date:y.deliveryDate,payment_plan:y.paymentPlan,images:w,description:y.description,status:y.status,updated_at:new Date().toISOString()},{error:m}=await je.from("properties").update(g).eq("id",h).eq("marketer_id",f==null?void 0:f.id);if(m)throw m;console.log("Property updated successfully"),n("Property updated successfully!"),setTimeout(()=>{d("/dashboard/listings")},1500)}catch(w){console.error("Error updating property:",w),i(w.message||"Failed to update property")}finally{e(!1)}};return u?l.jsx("div",{className:"max-w-4xl",children:l.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-12 text-center",children:[l.jsx("div",{className:"flex justify-center items-center",children:l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-blue"})}),l.jsx("p",{className:"text-gray-600 mt-4",children:"Loading property..."})]})}):a?l.jsxs("div",{className:"max-w-4xl",children:[l.jsxs("div",{className:"mb-8",children:[l.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Edit Property"}),l.jsx("p",{className:"text-gray-600 mt-1",children:"Update the property details"})]}),r&&l.jsx("div",{className:"mb-6 p-4 bg-green-50 border border-green-200 text-green-800 rounded-lg",children:r}),s&&l.jsx("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 text-red-800 rounded-lg",children:s}),l.jsx("div",{className:"bg-white rounded-xl shadow-sm p-8",children:l.jsx(Qg,{property:a,onSubmit:x,isSubmitting:t})})]}):l.jsx("div",{className:"max-w-4xl",children:l.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-12 text-center",children:[l.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Property Not Found"}),l.jsx("button",{onClick:()=>d("/dashboard/listings"),className:"px-6 py-3 bg-primary-blue text-white rounded-lg font-semibold hover:scale-105 transition-transform duration-200",children:"Back to Listings"})]})})}function A1(){return l.jsx(Ux,{children:l.jsxs(Mx,{children:[l.jsx(Fx,{}),l.jsxs(Nx,{children:[l.jsx(Ge,{path:"/",element:l.jsx(g1,{})}),l.jsx(Ge,{path:"/properties",element:l.jsx(w1,{})}),l.jsx(Ge,{path:"/properties/:id",element:l.jsx(j1,{})}),l.jsx(Ge,{path:"/my-interests",element:l.jsx(S1,{})}),l.jsxs(Ge,{element:l.jsx(Vx,{}),children:[l.jsx(Ge,{path:"/register/buyer",element:l.jsx(f1,{})}),l.jsx(Ge,{path:"/register/marketer",element:l.jsx(p1,{})}),l.jsx(Ge,{path:"/login",element:l.jsx(m1,{})})]}),l.jsxs(Ge,{path:"/dashboard",element:l.jsx(E1,{}),children:[l.jsx(Ge,{index:!0,element:l.jsx(N1,{})}),l.jsx(Ge,{path:"listings",element:l.jsx(C1,{})}),l.jsx(Ge,{path:"leads",element:l.jsx(T1,{})}),l.jsx(Ge,{path:"add-property",element:l.jsx(O1,{})}),l.jsx(Ge,{path:"listings/:id/edit",element:l.jsx(R1,{})})]})]})]})})}il.createRoot(document.getElementById("root")).render(l.jsx(Qe.StrictMode,{children:l.jsx(Ix,{children:l.jsx(A1,{})})}));
